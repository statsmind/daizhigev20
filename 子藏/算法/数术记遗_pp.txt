钦定四库全书     子部六
提要
数术记遗 ， ， ， ，  天文算法类二【，算书之属臣，】等谨按数术，记遗一卷，旧题汉徐岳撰，北周甄鸾注岳东莱人，晋书律厯志所称呉，中书令阚泽受刘洪乾象法于东莱徐岳者是也。隋书经籍志，具列岳及甄鸾所撰九章算经七曜术算等目，而独无此书之名，至唐艺文志始着于录，书中称于泰山，见刘会稽，博识多闻，徧于术数，余因受业时，问曰：数有穷乎？会稽曰：吾曽游天目山中，见有隐者云云，大抵言其传授之神秘，然案后汉志注引袁山松书曰：刘洪泰山，阴人，延熹中，以校尉应太史徴拜郎中，后为会稽东部都尉，征还，未至，领丹阳太守，卒官，是洪官会稽后未尝家居，不得言于泰山见之，且洪在会稽，乃官都尉，其为太守，实在丹阳，而注以为官防稽太守，错互殊甚，又旧本皆题汉徐岳撰，据晋书所载，岳当魏黄初中，与太史丞韩诩论难，日月食五事，则岳已仕于魏，不得，系之于汉，考古尤为疎谬至中列，黄帝三等数及积算，太一算之类，皆絶无义蕴其天门，金虎等语，乃道家诡诞之説甚为隐僻，不经注所言，算式数位，按之正，文多不相蒙，殆非一手，所撰唐代选举之制，算学九章，五曺之外，兼习此书，此必当时购求古算，好事者因依托为之，而嫁名于岳耳，然流传既久，学者或以古本为疑，故仍録存之而详斥其伪，以祛后人之惑焉。
海岛算经    ，  天文算法类二【，算书之属臣，】等谨案：海岛算经一卷晋刘徽撰唐李淳风等奉诏注，据刘徽序，九章算术，有云：徽寻九数，有重差之名，凡望极高测絶深而兼知其逺者必用重差，辄造重差，并为注解，以究古人之意，缀于句股之下，度高者重，表测深者累矩，孤离者三，望离而又旁求者四望，据此，则徽之书本名重差，初无海岛之目，亦但附于句股之下，不别为书，故隋志九章算术増为十卷下云：刘徽撰，葢以九章九卷，合此而十也。而隋志唐志，又皆有刘徽，九章重差图一卷，葢其书亦另本单行，故别着于录一书两出，至唐志兼列，刘向九章重差一卷，则徽之重差既自为卷，因遂讹刘徽为刘向而一，书三出耳，今详为攷证，定为刘徽之书，至海岛之名，虽古无所见，不过后人，因卷首以海岛，立表设问，而改斯名，然唐选举志称，算学生九章，海岛共限习三年，试九章三条，海岛一条，则改题海岛，自唐初已然矣，其书世无传本，惟散见永乐大典中，今裒而辑之，仍为一卷，篇帙无多，而古法具在，因宜与九章算术，同为表章，以见算数家源流之所自焉，乾隆四十六年二月恭校上。
总纂官，【臣】纪昀，【臣】陆锡熊，【臣】孙，士毅。
总 校 官 【臣】陆 费 墀
钦定四库全书巻
数术记遗
余以天门金虎呼吸精泉
按星经云：昴者，西方白虎之宿，太白者，金之精也，太白入昴，金虎相薄，法有兵乱，周宣王时，有人采薪于郊间歌曰：金虎入门，呼长精吸，泉，时人莫能知其义，老子曰：太白入昴，兵其乱，徐氏名岳，东莱人葢以汉室板荡，又谲诡见于天，将访名山，自求多福也。
羽檄星驰郊多走马
按汉征天下兵，必露檄插羽也，老子曰：天下有道，却走马以粪，天下无道，戎马生于郊也。
遂负帙游山蹠迹志道
蹠迹者两足，共蹑一足迹也，汉文帝时，河上公蹠迹为士。
备厯邱岳林壑必过，乃于太山见刘防稽，博识多闻，徧于数术，余因受业，颇染所由余时，问曰：数有穷乎？防稽曰：吾曽游天目山中。
防稽官号，汉中人也，按厯志称灵帝光和中，谷城守门，太山刘洪造乾象厯又制月行迟疾隂阳厯自洪始也，方于太初四分，转精密矣，洪后为防稽太守刘洪付乾象于东莱徐岳又授吴中书令阚泽，泽甚重焉，为注解，今按地记天目山，在吴兴之界。
见有隐者，世莫知其名，号曰天目，先生余亦以此意问之，先生曰：世人言三不能比两乃云：捐闷与四维艺经云：捐闷者，周公作也，先本位以十二时相从，其文曰：同有文章，虎不如龙，豕者何为来入兎宫，王孙出，卜乃造黄钟，犬就马廐非类相从，羊奔蛇穴，牛入鸡笼徐援称捐闷，乃是竒两之术发首即竒一后乃竒两者即为疑，更调，曰大猪，东行遁虎坑，兎子欲宿入马，廐羊来入村，狗所屯大牛，何知乗龙上蛇徃西方入猴乡，鸡鸟不止，夜防藏其言，三不能比两者，孔子所造也，布十干于其方，戊已在西南，维其文曰：火为木生甲，呼丁夫妇，义重已随，壬贵，夷则统领辛参南丙，乙妻，则须守后火，戊子，天癸就庚四维，东莱子所造也，布十二时，四维之一，其文曰：天行星纪，石随龙渊风吹羊圏，天门地连，兎居蛇穴，马到猴边，鸡飞猪乡防，入虎躔挚亦有四维之戯，与此异焉。
数不识三妄谈知十
三者上中下也，十数，昻一数也，于先之意，非止十等之名，将闗大衍之防事一也。
犹川人事迷其指归乃恨司方之手爽
司方者指南车也，狐疑论称，黄帝将见大隗于具茨之山至襄城之野，川谷之山，率多斜曲，川人曰：积数之常，乃固以之，非指南车之为爽，乃指谓【阙】，擢司方所指者，乃为我等之西也，然则指车，岂其谬也！乃行数里，川人又曰：司方所指，我等之东也，众共论之，为疑笑于时，容成子怪而问之，川人以其状白对，容成曰：在此望之具茨之山，于汝住所，复在何方？川人又曰：在我之东，容成曰：汝向言在西，今更在东，何言不常也，此非山川之移，川曲之斜，人心之惑耳，川人乃请于斜曲之中定，东西南北之术，容成曰：当竖一木为表，以索系之表端，引索绕表，画地为规，日初出影长则出圆规之外，向中影渐短，入规之中，候西北隅，影初入规之处则记之，乃过中影渐长，出规之外，候东北隅，影初出规之处，又记之，取二记之所，即正东西也，折半以指表，则正南北也，川人志之，以为知方之术。
未识刹那之赊促安知麻姑之桑田
按楞伽经云：称量长短者，积刹那数，以成日夜刹那量者，壮夫一弹指日过顷，遥六十四刹那二百四十，刹那名一恒刹那三十，恒刹那名一婆罗三十，婆罗，名一摩防，罗多三十摩，防罗多子为一日一夜，其一日一夜有六百四十八万，刹那神仙传称麻姑谓王方平曰：自接侍以来，见东海三变为桑田，向到蓬莱，水乃浅于往者略半也，岂复将为陵陆乎？方平，乃曰：东海行复扬尘耳。
不辨积微之为量讵晓百亿与大千
按楞伽经云：积微成一，阿耨七阿耨为一铜，上尘七铜，上尘为一水，上尘七水上，尘为一兎，毫上尘七兎毫，上尘为一羊，毛上尘七羊毛，上尘为一牛毛，上尘七牛毛，上尘为一向中，由尘七向中，由尘成一虮，七虮成一虱，七虱成一麦，横七麦，横成一指，节二十四指节为一肘，四肘为一弓，去肘五百，弓为阿兰惹，据若摩羯，国人一拘卢舍为五里，八拘卢舍为一由旬，一由旬计之，为四十里也，及以算校之，正得一十七里，何者？计二尺为一肘，四肘为一弓，弓长八尺也，计五百，弓有四千尺也，八拘卢舍则有三万二千尺，以步法六尺除之，得五千三百三十三步，以里法三百步，除之，得一十七里余，二百三十三步，华严经云：四天下共一日月为一世界，有千世界，有一小铁围山绕之，名曰小千，世界有一小千，世界有中铁围山绕之，名曰中千，世界有中千世界，有大铁围山绕之，名曰大千世界，此三千大千世界之中有百亿须弥山，乃今校之，世有十亿，日月十亿须弥山，何者？置小千世界之中，有一千日月，以一千乗之得一百万，即中千世界中，日月数也，置中千世界，日月之数，以一千乗之即得大千世界，日月之数也，又云：四天下者须弥山，南曰阎浮提，山北曰郁丹，越山东曰【阙，】提山西，曰俱瞿耶？尼山，其日月一日一夜，照四天下山南，日中山北，夜半山东，日中山西，夜半及以成事，验之则有疑矣，何者？按阎浮提人在须弥山，南及至二月，八月，春秋分昼夜停，以漏刻度之，则昼夜各五十刻也。然则日初出时，东向，视日之当我之东，即漏刻及其日浸，当我之西五十刻其一日一夜之中，绕三天下而来，所以至晓，亦得五十刻也。胡以十万为亿有百倍，日月四天下等事，有所未详也。
黄帝为法，数有十等，及其用也，乃有三焉，十等者，亿兆京垓，秭壤沟涧，正载三等者，谓上中下也，其下数者十十变之，若言十万曰亿，十亿曰兆，十兆曰京也，中数万万变之，若言万万曰：亿万万亿，曰兆万万，兆曰京也，上数者数穷则变，若言万万，曰亿亿，亿曰兆兆，兆曰京也，按：诗云：胡取禾三百亿兮，毛注曰：万万曰：亿此即中数也，郑注云：十万曰亿，此即下数也。徐援受记云亿，亿曰兆兆，兆曰京也，此即上数也。郑注以数为多，故合而言之。
从亿至载终于大衍
按易经大衍之数五十，其用四十有九，又云：天一地二，天三地四，天五地六，天七地八，天九地十，天数五，地数五，天数二十有五，地数三十，凡天地之数五十有五也。
下数浅短，计事则不尽，上数宏廓，世不可用，故其传业，惟以中数耳，余时问曰：先生之言，上数者数穷则变，既云终于大衍，大衍有限，此何得穷？先生笑曰：盖未之思耳，数之为用，言重则变，以小兼大，又加循环循环之理，岂有穷乎？
小兼大者，备加董氏，三等术数，加更载为烦，故略焉。
余又问曰为算之体皆以积为名为复更有他法乎先生曰隶首注术乃有多种及余遗忘记忆数事而已其一积算 其一太乙 其一两仪 其一三才 其一五行 其一八卦 其一九宫 其一运算 其一了算 其一成数 其一把头 其一龟算 其一珠算 其一计算
此等诸法，随须更位，唯有九宫，守一不移，位依行色，并应无穷。
从积以来至珠算，从一至于百，千已上位，更不变改位，依行色者，位依五行之色，北方水色黒数一东方木，色青数三，南方火色赤，数二，西方金色白数四，中央土色黄，数五言位，依行色也，一位第一，用珠十位，第二用赤珠，百位第三，用青珠千位第四，用白珠万位第五，用黄珠十万位以赤，綖系黄珠百万，位以青綖系黄珠千万，位以白綖，系黄珠万万，位曰亿以黄，綖系黄珠，自余诸位，唯兼之故曰并应无穷也。
余慕其术虑恐遗忘故与好事后生记之云尔
积算
今之常算者也，以竹为之，长四寸，以效四时方三分，以象三才，言算法，是包括天地，以烛人情，数始四时，终于大衍，犹如循环，故曰：今之常算，是也。
太乙算太乙之行去来九道
刻板，横为九道，竖以为柱，柱上一珠，数从下始，故曰去来九道也。
两仪算天气下通地禀四时
刻板横为五道竖为位，一位两珠，上珠色青，下珠色黄，其青珠自上而下第一刻，主五第二刻，主六第三刻主七，第四刻主八，第五刻主九，其黄珠自下而上第一刻，主一第二刻，主二第三刻主三，第四刻主四而已，故曰天气下通地禀，四时也。
三才算天地和同随物变通
刻板横为三道，上刻为天中，刻为地下，刻为人竖为算，位有三珠，青珠属天，黄珠属地，白珠属人，又其三珠通行三道，若天珠在天为九在地，主六在人主三，其地珠在天为八，在地主五在人主，二人珠在天为七，在地主四，在人主一，故曰：天地和同，随物变通，按三元上元甲子一七四中元甲子二八，五下元甲子三六九，随物变通也。
五行算以生兼生生变无穷
五行之法，水生数一火赤，生数二木，青生数三金白生数四，土黄生数五，今为五行算，色别九枚，以五行色数相配，为算之位，假令九亿八千七百六十五万四千三百二十一者，则以白算配黄为九，亿以青算，配黄为八千，以赤算配，黄为七百，以算配，黄为六十，以一黄算为五万，以一白算为四千，以一青算为三百，以一赤算为二十，以算为一也，故曰：以生兼生，生变无穷。
八卦算针刺八方位阙从天
算为之法，位用一针，锋所指以定算，位数一从离起，指正南离，为一西南，坤为二正，西兑为三，西北干为四正北，坎为五东北，艮为六正，东震为七，东南巽为八，至九位，阙即在中央竖而指天，故曰位阙，从天也。
九宫算五行参数犹如循环
九宫者，即二四为肩，六八为足，左三右七，戴九履一，五居中央，五行参数者，设位之法，依五行已注于上是也。
运筹算小往大来运于指掌
此法位别须算筹一枚，令长五寸，其一筹上各为五刻，上头一刻近，一头刻之，其下四刻，迭相去一寸，令去下头，亦一寸，入手取四指三间，间有三节，初，食指上节间为一位，第二节间为十位，第三节间为百，位至中指上节间为千，位中节间为万位下，节间为十万，位无名指上节间为百万，位中为千万位，下为亿也，他皆仿此，至算刻近头者一刻，主五其逺头者一刻之别，从下而起，主一，主二主，三主四若一，二：三，四头，则向下于掌中，中若其至五，则回取上头向掌中，故曰：小往大来也，回游于手掌之间，故曰运于指掌也。
了知算首惟秉五腹背两兼
了算之法，一位为一了，字其了，有三曲，其下股之末内主一，外主九下，次第一曲内主二，外主八当二曲，内主三外，主七，其第三曲内主，四外主六当了，字之首，则主五，故曰：首唯秉五腹背两兼也。
成数算春夏生养秋收冬成
算之法位，别须五色算一枚，其一算之象，头各以黄色为本，以生数也余色为首，其五行各配土为成数也。水生数一成数六火赤生数，二成数七木青生数三成数八金，白生数四，成数九，若以首向东及南为生数，向西及北为成数，假令有九亿八千七百六十五万四千三百二十一者，则以白算首向北为九亿，以青算首向西为八千，以赤算首向北为七百，以算首，向西为六十，以黄算一枚，竖为五万，以白算首，向东为四千，以青算首向南，为三百以赤，算首向东为二十，以算首向南为一也，故首向东向南为生数，向西向北为成数，故云，春夏生养，秋收冬，成也。
把头算以身当五目视四方
把头之法，别须算二枚，一漫一齿者，一面刻为一，其一面为二，一面为三，其一面为四也；漫者为把，为犹即当五算生齿者为把头，一目当一算，故曰：以身当五，目视四方也。
龟算春夏秋成遇冬则停
为算之法，位别一龟，龟之四面为十二时，以龟首指寅为一指，卯为二指，辰为三指，已为四指午为五指，未为六指，申为七，指酉为八指，戌为九指亥为十，龟头指不以为数，故云，遇冬则停也。
珠算控四时经纬三才
刻板为三分，其上下二分以停游珠，中间一分，以定算位，位各五珠上一珠，与下四珠色，别其上别色之珠，当其下四珠，珠各当一至，下四珠所领故云控四时，其珠游于三方之中，故云经纬三才也。
计数既舍数术宜从心计
言舍数术者，谓不用算筹，宜以心计之，或问曰：今有大水，不知广狭，欲不用算，筹度而知之，假令于水北度之者，在水北，置三表，令南北相直，各相去一丈人，在中表之北，平直相望，水北岸，令三相直，即记南表相望，相直之处，其中表人目望处亦记之，又从中相望，处直望水南岸，三相直防南，表相直之处，亦记之取南，表二记之处髙下以等北表，防记之，还从中表，前望之所，北望之北，表下记三相直之北，即河北岸也，又望上记三相直之处，即河北岸，中间则水广狭也，或曰：今有长竿一枝，不知髙下既不用筹算，云何计而知之，答曰：取竿之影，任其长短，画地记之，假令手中有三尺之物，亦竖之，取杖下之影长短，以量竿影得矣，或问曰：今有深坑，在上防之可知尺数已否？答曰：以一杖极意长短，假令以一丈之杖，掷着坑中，人在岸上，手提之一杖，舒手望坑中之杖，遥量知其寸数，即令一人于平地，捉一丈之杖，渐令却行以前者，遥望坑中寸量之，与望坑中，数等者即得，或问曰，今甲乙各驱羊一羣，人各问多少而甲曰：更得乙一口，即加五多于甲，问各几何，答曰：甲九口乙十一口，或问曰：甲乙各驱羊行人，问其多少，甲曰：我得乙一口，即与乙等乙曰：我得甲一口，则倍多于甲，问各几何，答曰：甲二，乙四，或问曰：今有鸡翁一只，直五文，鸡母一只，直四文，鸡儿一文，得四只今有钱一百文，买鸡大小一百，只问各几何，答曰：鸡翁十五只，鸡母一只，鸡儿八十四只合大小一百，只计数多少，略举其例，或问曰，今有鸡翁一只直四文，鸡母一只，直三文，鸡儿三只直一文，今有钱一百文，还买鸡，大小一百，只问各几何，答曰：鸡翁八，只鸡母十四只，鸡儿七十八只合一百只。
或问鸾曰：世人乃云算位者算子，则竖信有之乎？鸾答之曰：依如针算，则以针锋指，八卦之位，一从离起，右行周帀至，巽八位既合，及其至九，无位可指，是以在中竖而指天，故曰：有位合算子，竖之名也！又问鸾曰：昔有吴人赵逹用一算之法头乗尾除其有此术乎？鸾答之曰：此乃传之失实，犹【阙】，公获夔一足，丁氏穿井而获一人也何者按乗之法重张其位，以上呼一，置得于中置所除之数于下，又置得于上，亦三重张位，然则乗之与除法，用不同，欲以一算上下，当六重之身，増损为众位之实，若其神也，则借一算之功，如其凢也理不可尔，问者又曰：若如来指，为妄矣，此言何从而至？鸾答之曰：此亦传之过实也，何者？积一算者，盖一位，用一算也头乗尾除者，欲使乗别位乗时以针锋指之，除时则用针，尾防之，故有头乗尾除之名也。
数术记遗