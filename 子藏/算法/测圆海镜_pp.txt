钦定四库全书     子部六
测圆海镜       天文算法类二【算书之属】提要
【臣】等，谨案测圆海镜十二卷元李冶撰冶，字镜斋，栾城人，金末登进士，入元官，翰林学士事迹具元史，本传其书，以勾股容圆为题，自圆心圆外，纵横取之，得大小十五，形皆无竒零次列识别杂记数百条，以穷其理，次设问一百七十则以尽其用，探赜索隐，参伍错综，虽习其法者，不能骤解，而其草多言，立天元一按立天元一法，见扵宋秦九韶九章，大衍术中，厥后授时草及四元玉鉴等书，皆屡见之，而此书言之，独详其法关乎数，学者甚大，然自元以来，畴人皆株守立成习而不察，至遂无知其法者，故唐顺之与頋，应祥书称立天元一漫不省为何语？頋应祥演是书为分类释术，其自序亦云，立天元一无下手之术，则是书虽存，而其传已泯矣，明万厯中利玛窦与徐光启，李之等译为同文，算指诸书，扵古九章，皆有辨订，独于立天元一法，阙而不言，徐光启扵勾股义序中引此书，又谓欲説其义而未遑，是此书已为利玛窦所见而犹未得其解也，迨我。
国朝醲化翔洽，梯航鳞萃，欧逻，巴人始以借根方法进。
呈
圣祖仁皇帝授
蒙养斋诸臣习之梅，防成乃悟，即古立天元一法，扵赤水遗珍，中详解之，且载西名阿尔，热巴拉【案，原本作阿尔，热巴逹谨据西洋，借根法改正，】即华言，东来法知，即冶之遗书，流入西域，又转而还，入中原也，今用以勘騐西法一一脗合，瑴成所説信而有徴特录存之以为算法之秘钥，且以见中法，西法互发益明，无容设畛域之见焉，乾隆四十六年二月恭校上。
总纂官，【臣】纪昀，【臣】陆锡熊，【臣】孙，士毅。
总 校 官 【臣】 陆 费 墀
原序
数本难穷，吾欲以力强穷之，彼其数不惟不能得其凡，而吾之力且惫矣，然则数果不可以穷耶？既已名之数矣，则又何为而不可穷也，故谓数为难穷，斯可谓数为不可，穷斯不可，何则？彼其冥冥之中，固有昭昭者存，夫昭昭者，其自然之数也。非自然之数，其自然之理也。数一出于自然，吾欲以力强穷之，使隶首复生，亦末如之何也已？苟能推自然之理，以明自然之数，则虽逺而干端坤倪，幽而神情鬼状，未有不合者矣，予自幼喜算数，恒病夫考圆之术，例出于牵强，殊乖于自然，如古率徽率密率之不同，截弧截矢，截背之互见，内外诸角，析剖支条，莫不各自名家，与世作法，及反覆研究，卒无以当吾心焉，老大以来，得洞渊九容之说，日夕玩绎，而向之病我者，使爆然落去而无遗余，山中多暇，客有从余求其说者，于是乎又为衍之遂累一百七十，问既成编，客复目之，测圆海镜，盖取夫天临海镜之义也。昔半山老人集唐百家诗选自谓废日力于此，良可惜！明道先生以上蔡谢君记诵为玩物丧志，夫文史尚矣，犹之为不足贵，况九九贱，技能乎嗜好，酸咸平生，每痛自戒，勅竟莫能已，类有物慿之者，吾亦不知其然而然也。故尝私为之解，曰：由技兼于事者言之，夷之礼，夔之乐，亦不免为一技，由技进乎道者言之，石之斤扁之轮，非圣人之所与乎？览吾之编，察吾苦心，其悯我者当百数，其笑我者当千数，乃若吾之所自得，则自得焉耳。宁复为人悯笑计哉？李冶序。
总率名号
天之地为通  天之干为通股
干之地为通勾
天之川为边  天之西为边股
西之川为边勾
日之地为底  日之北为底股
北之地为底勾
天之山为黄广 天之金为股
金之山为勾
月之地为黄长 月之泉为股
泉之地为勾
天之日为上髙 天之旦为股
旦之日为勾
日之山为下髙 日之朱为股
朱之山为勾
月之川为上平 月之青为股
青之川为勾
川之地为下平 川之夕为股
夕之地为勾
天之月为大差 天之坤为股
坤之月为勾
山之地为小差 山之艮为股
艮之地为勾
日之川为皇极 日之心为股
心之川为勾
月之山为太虚 月之水为股
水之山为勾
日之月为明  日之南为股
南之月为勾
山之川为□  山之东为股
东之川为勾
今问正数
通六百八十 勾三百二十 股六百
勾股和九百二十较二百八十
勾和一千较三百六十
股和一千二百八十较八十
较和九百六十较四百
和和一千六百较二百四十
边五百四十四 勾二百五十六 股四百八十勾股和七百三十六较二百二十四
勾和八百较二百八十八
股和一千零二十四较六十四
较和七百六十八较三百二十
和和一千二百八十较一百九十二
底四百二十五 勾二百 股三百七十五勾股和五百七十五较一百七十五
勾和六百二十五较二百二十五
股和八百较五十
较和六百较二百五十
和和一千较一百五十
黄广五百一十 勾二百四十【即城径也】 股四百五十
勾股和六百九十较二百一十
勾和七百五十较二百七十
股和九百六十较六十
较和七百二十较三百
和和一千二百较一百八十
黄长二百七十二 勾一百二十八 股二百四十【即城径也】
勾股和三百六十八较一百一十二
勾和四百较一百四十四
股和五百一十二较三十二
较和三百八十四较一百六十
和和六百四十较九十六
髙二百五十五【上下同】 勾一百二十【即半径】 股二百二十五
勾股和三百四十五较一百零五
勾和三百七十五较一百三十五
股和四百八十较三十
较和三百六十较一百五十
和和六百较九十
平一百三十六【上下同】 勾六十四 股一百二十【即半径也】
勾股和一百八十四较五十六
勾和二百较七十二
股和二百五十六较十六
较和一百九十二较八十
和和三百二十较四十八
大差四百零八 勾一百九十二 股三百六十勾股和五百五十二较一百六十八
勾和六百较二百一十六
股和七百六十八较四十八
较和五百七十六较二百四十
和和九百六十较一百四十四
小差一百七十 勾八十 股一百五十
勾股和二百三十较七十
勾和二百五十较九十
股和三百二十较二十
较和二百四十较一百
和和四百较六十
皇极二百八十九 勾一百三十六 股二百五十五
勾股和三百九十一较一百一十九
勾和四百二十五较一百五十三
股和五百四十四较三十四
较和四百零八较一百七十
和和六百八十较一百零二
太虚一百零二 勾四十八 股九十
勾股和一百三十八较四十二
勾和一百五十较五十四
股和一百九十二较一十二
较和一百四十四较六十
和和二百四十较三十六
明一百五十三 勾七十二 股一百三十五勾股和二百零七较六十三
勾和二百二十五较八十一
股和二百八十八较一十八
较和二百一十六较九十
和和三百六十较五十四
□三十四 勾十六 股三十
勾股和四十六较一十四
勾和五十较一十八
股和六十四较四
较和四十八较二十
和和八十较十二
识别杂记
天之于日，与日之于心，同心之于川，与川之于地，同日之于心，与日之于山同，故以山之川为小差， 川之于心，与川之于月同，故以月之日为大差。
明勾□股相得，名为内率，求虚积 明股，□勾相得，名为外率，求虚积 虚，勾虚股相得，名为虚率，求虚积。
凡勾股和即黄和 凡大差即股黄较 凡小差即勾黄较
髙股平勾差，名角差【，又】名逺差此数即髙平二差共也，又为明和，□和较也，【又】为通差，内去极差【，又】为极差，虚差共 ，明□二差共名次差【，又】名近差，【又】名戾，【音列，】和此数【，又】为明大差，□小差较也， 勾圆差之股，股圆差之勾相并，名混同和，此数【，又】为一径一虚，共也， 明□二差较名，傍差此数，又为髙平二差较【，又】为极双差，内减虚和【，又】为极和，内减城径也， 虚差不及傍差名，蓌差此数，又为大差，差内去角差【，又】为极差，内去二之平差，【又】为次差，内去小差，差【又】为明股，□勾共内，去二之明勾也， 虚差，傍差共为蓌和，【蓌音剉】。
凡大差股小差勾相乘为半段径幂 大差勾小差股相乘亦同上 虚勾乗大股得半段径幂 虚股乘大勾亦同上 边股□股相乘得半径幂明勾底勾相乘亦同上 黄广股黄长勾相乗得径幂 髙股平勾相乗得半径幂 明明股并与□□勾并相乘得半径幂 明明勾并与□□股并相乘亦同上 髙平相乘为一段皇极积 明勾□股相乘倍之为一段太虚积明股□勾相乘亦同
右诸杂名目
通上勾股，和即一城径一通，也，其较即勾圆差之，勾股圆差之股，相较也。 勾和，即二勾一大差其较，则大差也。 股和，即二股一小差，其较则小差也。 较和为一，径三差，共其较，则大勾小差，共也， 三事，和即边三事，和上带大勾也，【又】为底，三事，和上带大股也；其较则城径也。
边上勾股，和为通股，平共其较，则大差股内，去平也， 勾和，即通股底勾，共其较则明，股明共也， 股和即通，股通和，内少个边勾也，其较则平勾也， 较和为大差，上股和其较，则大勾也， 三事和即通。上股和【，又】为黄广三事，和上带勾圆差也，其较则大差勾也，【又】为平，上较和【，又】为太虚，上股和也。
底上勾股，和为通勾髙共其较则髙内去小差，勾也， 勾和为通，上较较与髙股共其较则髙股也 股和为半个，通上三事，和其较则□，上勾和也， 较和为大差，上勾和也，其较则小差，上勾和也， 三事和即通。上勾和【，又】为黄长三事，和上带股圆差其较，则小差股也；【又】为髙上较较【，又】为太虚，上勾和。
黄广上勾股和为大股，虚股共【，又】为通勾，通股共内少个小差，上勾股和其较，则两个髙差也 勾和为二髙一圆径，共其较则二，明股也； 股和为通，上较和其较，则二□股也； 较和，即两个大差股也；其较即两个小差股也； 三事，和两大股也；其较则两虚股也。
黄长上勾股和为大勾虚，勾共【，又】为通和，内少个大差，上勾股和也，其较则两个平差也。 勾和为通，上较较其较，则两个明勾也， 股和为二，圆径二□勾其较，则二□勾也， 较和为两个大差勾也，其较则两个小差勾也， 三事，和为两大勾，其较则两虚勾也。
髙上勾股和为髙虚股共【，又】为一径及髙勾髙股差也其较则底，内减大勾也，【又】为边股内减底股也； 勾共则底股，其较则明股也； 股共即边股，其差则□股也； 较共，则大差股其较，则小差股也； 三事，和即大股其较，则虚股也；【又】为小差，上勾较【，又】为明，上较较。
平上勾股，共即平，虚勾共也，其较则大股内减边也， 勾共即底勾，其差则明勾也， 股共即边勾，其较则□勾也， 较共即大差，勾其较则小差勾也， 三事，和即大勾其较，则虚勾也，【又】为大差，上股较【，又】为□，上较和。
大差上勾股，和即大股内去虚勾，其差则大差内，去圆径也， 勾共即大股，其差则大差股内去二之明勾也， 股和为大股，上加个大中差也，【按大中差，乃明股，和与半径之较】，其较则虚勾也， 较和为两个边，上勾较其较，即城径也， 三事，和即大股与股圆差共【，又】为大，大较共【又】为二边股，其较则太虚，上较和也。
小差上勾股，和即大勾内，去虚股也；其较则圆径，内去小差，也， 勾和为大勾，上减个小中差也，【按小中差，乃□勾，和与半径之较】，其较则虚股也； 股共即大勾，其较则小差勾内，去两个□股也； 较和为圆径，其较则为两个底，上股较【，又】为两个，□上勾和也， 三事，和即大勾与勾圆差共也，又为大，大较较【按即通。又上较较，】为二底，勾其较则太虚，上较较也。
皇极勾股，和即髙平共其较，则明股内去□勾也， 勾共即底，其较则明也， 股共，则边其较，则□也， 较和为髙明共【，又】为大股内减大差勾【，又】为大差，其较则小差也， 三事和即通。其较则太虚也，【又】为明勾，□股共【，又】为髙内减明【，又】为平，内减□，【又】为大差，勾上减虚股，【又】为小差，股上减虚勾也。
太虚勾股，和即圆径，内减虚，【又】为虚，虚，黄方共【，又】为皇极，内去明股，□勾共其差，则大差勾内减个小差股也； 勾共即小差股也；其较则虚股内减个小黄方也， 股共即大差，勾其较则虚勾内减个小黄方也， 较和为大差，上和较【，又】黄长，上勾较【，又】为两个明勾，其较小差，上黄方面也， 三事，和即大黄方其较则为两个明，上股较【，又】为□，上两个勾较【，又】为明，上小差，与□上大差共也。
明勾股，和即大差股内减明，其较则明，内减虚股也； 勾并即髙股其较则髙股内少二之明勾也， 股和，即边股内减大差勾【，又】为边勾边，差其较，则半个虚黄方也， 较和，即大差，上勾较其较，则虚股也； 三事，和即股圆差其较，则太虚上勾较【，又】为虚股内减虚黄方也。
□上勾股，和即小差，内减□其较，则虚勾内减□也， 勾和即底勾，内减小差股，【又】为底，股底差，其较则半个虚黄方也， 股和，即平勾其较则平，勾内少二个，□股也； 较和，即虚勾其较则小差，上股较也， 三事，和即勾圆差其较，则太虚上股较【，又】为虚勾，内减虚黄方也。
前黄广勾股下 ，其勾股较【，又】为大差股上，少个小差股【，又】为中差，【按中差系通勾股较】，内少个小差较【，又】为黄广股内少一径 ，勾共【，又】为两个底股，【又】为大股，与小差股，共 股和【，又】为大，中差共【，又】为两个边股， 股差，【又】为小差，上黄方面。
前黄长勾股下 ，其勾股较【，又】为大差，勾上少个小差勾也，【又】为圆径，内少个黄长，勾 勾共【，又】为两个底勾【，又】为大勾，与小差勾，共 勾较【，又】为大差，上黄方靣 股共【，又】为两个边勾。
右五和五较
大为大勾，与股圆差共【，又】为大股，与勾圆差共边，乃边股，平勾共【，又】为大股内减平，上勾股较 底，乃底勾髙股共【又】为大勾，内加一个髙差 黄广为大股内减虚股，【又】为边股，□股共黄长，乃大勾，内减虚勾，【又】为底，勾明勾共。
髙乃大差，内减明【，又】为明虚，共 平，乃小差，内减□【，又】为□虚，共 大差，乃大股内减大差勾【，又】为髙明共【，又】大内去黄长， 小差，为大勾，内减小差股，【又】为平□，共【，又】为大内，去黄广 极，乃髙股平勾共【，又】为平明，共【又】为髙□共【，又】为大差，内减髙平二较【，又】为小差，内加髙平二较 虚，乃皇极，黄方靣【又】为明勾，□股共【，又】为髙内减明【，又】为平，内减□ 明，乃髙内减虚 □，乃平，内减虚。
黄广黄长，相并为大，虚共也，以此数减于大和，余即虚和 ，若以二相减，余即虚平共也，【按虚平，共此题数偶合，当云二极差】 ，黄广【，又】为大差，虚共 黄长【，又】为小差，虚共 ，以黄长减于大勾，余即虚勾 ，以黄广减于大股，余即虚股。
边底相，并为大，皇极共也，于此并数内减大和，余为皇极，内减圆径也， 若以二相减，余即皇极差也。此数同者最多，故【又】为皇极，内少个小差，【又】为髙平较【，又】为明股内少□勾【，又】为大差，内少皇极，【又】为次差，虚差共也，边【，又】为皇极，股共【，又】为黄广，□共。
底【，又】为皇极，勾共【，又】为黄长，明共也，以边减大股，余为半径，内减平勾【，又】为平，内减小差，勾也， 底，内减大勾，余为髙股内减半径【，又】为大差，股内减髙也。
黄广内减边股，即□股 黄长，内减底勾，即明勾也。
髙髙股共即边股 平平勾共即底勾 髙髙勾共即底股 平平股共即边勾
上髙减于通股，余即边股内减□股也； 下平，减于通勾，余即边勾内减明勾也 髙平相并，即大内少个皇极，也，若以相并，数减于大和，余为皇极，圆径，共也 髙平相减，余即皇极差也。【又】为皇极，上减小差，也，若以相减数，却加于相并，数即黄广也。
髙内减明股，得半径 平，内减□勾亦同，上皇极勾，上加明为皇极， 皇极股，上加□亦同上。
皇极 得极勾即底 得极股即边 内去极勾即明 去极股即□ 减于通即极和 得虚亦同上 内去虚即明□共去虚黄即明和□和共也 去城径即傍差
内加极差即大差 去极差即小差 加角差即两个髙股 减角差即二平勾
太虚 加入极为极和 极内去之即明□二共 再去之则明大差□小差并也 加于大差即黄广 加于小差即黄长 内去明勾则□勾 加明勾为圆径内少虚黄□股共 加入明股为明和□股共 减于明股即明较内去□股 加入明为极股 减于明为明大差□小差内少个□ 加于明和即两个虚一个髙差共也 减于明和即髙差也 内去□勾即明勾□较共【又】为□股平差共 加于□勾即□和明勾共 加于□股为二虚内少明勾【又】为圆径内少虚黄明勾共 内减□股即明勾 内加□即极勾 减于□为明勾内少个□小差 加入□和即两个虚内少个平差也 内减□和即平差也 加入明□二和共即极和内少个虚黄也 若减于明□二和共即明股□勾共也 减于髙即明减于平即□加于角差即二明勾一极差也 减于角差即一极差二□股较也 得傍差即明股□勾共内减傍差即太虚三事和内去了极双差也【按双】
【差系勾差股差】 内加虚差即二明勾 内减虚差即二□股 内加虚黄方即虚和 内减虚黄方即太虚大小差并也
右诸
大差小差，共即两个极也，以两个极差为之，较 大差，差小差，差共即两个极差也。以两个傍差为之，较 大差，上大差小差，上大差共，即两个明也，以两个明差为之，较 大差，上小差小差，上小差共即两个□也，以两个□差为之，较大差黄，【按即二，明勾】小差，黄【按即二□股，】数共即两个极黄，【按即二虚】也，以两个虚差，为之较 ，大差勾小差，勾共即两个极勾也，以两个平差，为之较 ，大差股小差，股共即两个极股也；以两个髙差为之较二，和共为二极，和以二角，差为之较。
大差上较较，即圆径 小差，上较和，亦同上大差上小差，即虚勾 小差，上大差，即虚股也；大差与明勾共即边，股 小差，与□股，共即底勾也， 大差，内减中差，即黄长勾【按勾应作股，】小差，内加中差，即黄广股也；【按股应作勾，】大股内减小差股，即黄广股 大勾，内减大差勾，即黄长勾也，虚得虚股，即大差勾 虚，得虚，勾即小差。
股也 明段较和即大差上勾较 明段较较即小差上勾较也 □段较和即大差上股较 □段较较即小差上股较也大差勾内减虚余即虚股 小差股内减虚余即虚勾也 以大差和减大股即虚勾 以小差和减大勾即虚股也 以大差差减圆径即明勾此差若多于圆径则内减圆径余即虚勾也【按此条因题数偶合而误若勾股差甚大甚小者皆不能合】 以小差差减圆径即小差也 大差上加一径即大股上加虚勾也 小差上加一径即大勾上加虚股也大差股内减髙余即髙股内减半径 平内减小差勾余即半径内减平勾也 大差内减虚差即二明差 小差内减虚差即二□差也
大内减大差股小差，勾共即圆，径 三事，和内减二之大差，股小差，勾共即三个圆径也。
大差勾小差，股相并名，混同即一，圆径一虚也，若以相减，即虚差也。
大差和小差，和二数相并，即大虚共也， 二数相减，即中差虚差共也，【又】半之，并数即为极，虚共也，【又】为髙平共【，又】为皇极，勾股共也。
大差差小差，差二数相并，即两个皇极差，【又】为大差，内减小差，也， 二数相减，而半之，即是皇极，上减圆径也，【即傍差】。
右大小差
大差差小差差虚差共为一个通差 髙平极三差共亦同上 明□虚三差共为一个极差也 诸黄方面亦仿此
边黄内减底黄即虚差 黄广黄内减黄长黄即二虚差 髙黄内减平黄即虚差盖髙黄即虚股平黄即虚勾也 大差黄内减小差黄即二虚差盖大差黄即二明勾小差黄即二□股也 明黄内减□黄余即虚差 □上三差合成一个虚黄方
髙差内减平差为傍差 边差内减底差亦同上明差内减□差亦同上 大差差内减小差差为二旁差 黄广差内减黄长差亦同上
极双差即明□二共 内加虚双差即明□二和共 内减虚双差即明双差□双差共也 内加旁差即极内少个虚旁差差 内减旁差即虚和也 内加虚差即极内少二□股 内减虚差则极内少二明勾也
极差内加旁差为大差差 内减旁差为小差差也内加虚差即角差 内减虚差即次差也 倍
极差为大差差小差差共则倍旁差为之较 倍极为大差小差共倍极差为之较 以极差为明差平差共则以蓌差为之较 以极差为髙差□差共则以蓌和为之较 副置蓌和上加蓌差而半之即旁差也 减蓌差而半之则虚差也 极差内减二之平差得蓌差
角差内加旁差为二髙差 内减旁差即二平差也内加明□二差并而半之得极差 内减明□
二差而半之则虚差也 内加极差则通差 内减极差则虚差也
以虚差减于明和为明□二股共 以虚差加于□和为明□二勾共也 又副置二和共上加次差而半之即明□二股共 减次差而半之即明□二勾共也 明□二股共以髙差为之较 明□二勾共以平差为之较
以髙差减明和即虚 以平差加□和亦同上以髙差减髙股即半径 以平差加平勾亦同上以髙差减大差差即明差 以平差减小差差
即□差也 以髙差减大差即髙 以平差加小差即平也 二之平差内去虚差余即小差差 去二虚差即两个□差
髙股即半径上股方差 平勾即半径上勾方差故髙勾平股共为全径也 黄广股即全径上股方差 黄长勾即全径上勾方差 故黄广勾黄长股共数为两个全径也
边内减底，即皇极差， 边股内减底股即髙差【又】为底，内减大勾 边勾，内减底勾即平差，【又】为大股内减边也。
大勾减底余即半径为勾之中差也 大股内减边余即半径为股之中差也 边股底勾相并即大 若以相减即通中差也
二髙股一虚差，合成一个股，圆差 二，平勾一虚差，合成一个勾圆，差【按此二条，误当云二，明股一虚股，合成一个股，圆差 二，□勾一虚，勾合成一个勾圆差也，】。
明双差亦为明□二大差其较则明差也 □双差亦为明□二小差其较则□差也 明双差内减明差即虚黄 □双差上加□差亦同上 以明双差加明和即两明 以□双差加□和则两□也 以明双差减明和而半之即明黄【又】为虚大差 以□双差减于□和而半之即□黄【又】为虚小差也 以虚大差减明和即为明 以虚小差减□和即□也 明双差□双差相较则次差也 明双差□双差相并加于明□二和共则为两个极双差 若以减于明□二和共则为两个虚双差也 明双差上加虚双差即明□二股共 □双差上加虚双即明□二勾共也
以明□二股共为明，□黄共则髙差虚黄共为之较【，按明又□黄较】，为明大小差，虚大小差，共则明，□二股共内，去两个虚双差，为之较也。【按明大小差虚，大小差之较，】以明□，二勾共为□，明黄共则以平差虚黄。
较为之较【，又】为□，大小差虚，大小差共，则明□二勾共内减两个虚大小差，为之较也。【按虚大小差□，大小差之较】。
明□二和，共内减旁差，即二虚 虚，内加旁差明股，□勾共也。
明和内去平差即明股□勾共 □和上加髙差亦同上也 明和内去髙差即虚 □和上加平差亦同上 明内去髙差即虚勾 □上加平差即虚股也 明股内去□股即髙差 去□勾则极差也 明勾内去□股即虚差 去□勾则平差也
明□二股，并内减虚，即明差 ，明□二勾并减于虚，即□差。
明□二和共【，又】为明□，二共与明□二黄共数也。其较则明双差，□双差共数也。 其明□，二和共数，内减旁差，即二虚也， 若内减虚双差，即明□二共也。
极得极差为大差，大差，内减明和则髙内减虚大差也。 内减极差，则为小差，小差，内减□和，则是平，内减虚小差也， 又大差，内减明和与髙股共余则为虚，勾不及明勾，数 小差，内减□和与平勾共余则为□股，不及虚股数也。
右诸差
边勾边股差【，又】为皇极差与髙差共也【又】为边内，去大勾也， 边勾边共【，又】为大勾边，股共 边，勾边较【，又】为大差，内减半径也， 边股边较【，又】为□股和。
底勾底股差，【又】为皇极差平差共【，又】为大股内去底【，又】为髙股内去底小差 底，勾底共为大，内少个底股，大勾差 底，勾底较【，又】为明，上勾弦和 底，股底共与边勾边，共同 底，股底较【，又】为底，勾内少小差股也。
边股内减髙余则髙股 内减大差，余则明勾内减底，即底股内减大勾也，【又】为髙内减。
底勾也
底勾内减平，余即平勾 ，内减小差，余即□股以底勾减于边，余即大股内减边勾也，【又】为。
边股内减平也
边内减底股与底，内减边勾同为皇极，内减半径也。
皇极勾内减明勾，余即平勾也，若减□勾即半径也，倍之则为底，勾明勾共 ，皇极股内减□股，余即髙股也若减明股，余即半径也，倍之，则为边股，□股共也。
明股得虚股即髙股 明勾得虚勾即半径 □股得虚股即半径 □勾得虚勾即平勾也 髙内减髙股即□股 平内减平勾即明勾也明内减明差即虚股 □内加□差即虚勾也 髙股即虚明二股共 平勾即虚□二勾共也 明明勾并数与髙股同 □□股并数与平勾同也
明股□勾相倂，减于极，即虚和【，又】为极，黄虚黄共数也。
明□二并 内减□双差即明□二股并 内减明双差即明□二勾并 内加虚即极 内减虚即明大差□小差并也
以明和为明，明黄共，则明双差，为之较 ，以□和为□，□黄共，则□双差，为之较也。 明和【，又】为髙差虚共【，又】为极差，与明□二勾共数 ，□和【，又】为平差。少于虚，数【，又】为极差，少于明□，二股数。
半之三事和内加半黄方即勾股共 若减之则也 半圆径内加半虚黄即虚和 减半虚黄即虚也【又】以半虚黄加明和即髙股以半虚黄加□和即平勾也 加明股则明 加□股则□也 减明勾则明黄 减□股则□黄也 以虚黄加明黄则为虚股 以加□黄则虚勾也
右诸率见
髙□共为极，其差即虚极差，共也 髙股□股共为髙其差即虚股髙差共也 髙勾□勾共为平其差，即半径内减□勾也 髙和□和共为极和，其差即极和内少二□，和也 髙差□差共为极差，其差即虚差，旁差共也 髙黄□黄共为虚，其差即□黄不及虚股，数也【髙黄即虚股】髙大差□大差共即明，其差即半虚黄不及明股，数也此髙大差即明股，此□大差即半虚黄也髙小差【即□股，】□小差，共即□，其差即□小差。
不及□股数也， 明平二共亦为极，其较即虚，不及极差数也。 明平二股共亦为髙其较即明股内减半径也， 明平二勾共亦为平其较，即平差内去虚勾也， 明平，二和共亦为极和其较，即极和内，少二之平和也， 明平二差共亦为极差，其较即虚差不及旁差数也。 明平二黄共亦为虚，其较则虚，勾【按虚勾，即平黄】不及，明黄数也， 明平二大差，共亦为明，其较即明勾不及，明大差数，【平大差，即明勾】 ，明平二小差，共亦为□，其较则□勾不及半，虚黄数也，此明小差，即半虚黄，此平小差，即□勾。
右四位相套
边 自减其股为平勾 自减其勾为明股明并 减于通余平 减于通股余平差 内减通勾余边差 内减底余极差 内减底股为半径旁差共【又】为极内少半径 内减底勾即大股内去边勾也 内减黄广余□ 内减黄广股即小差股内去平差 内减黄广勾即大差股内去平差 内减黄长【又】得黄长【按此条误】 内减黄长股与内减黄广勾同 内减黄长勾即大股内去极勾虚勾共 内减皇极余髙
底 自减其股为□勾□并 自减其勾为髙股 减于通余髙 减于通股余底差 内减通勾余髙差 减于边余极差 减于边股即底差内去半径 内减边勾即髙差平勾共减于黄广余为明大差□小差并【按此条亦系数偶合】减于黄广股即底差内去小差股 内减黄广勾即一个明一个黄长股较 内减去黄长余明 内减黄长股与内减黄广勾同 内减黄长勾余为髙股明勾共 内减极为平减于边股【又】为底股内去大勾
髙差平差共【又】为平勾髙股差 以半径减髙股即髙差 半径内减平勾即平差 明勾内减□勾与平差同 明股内减□股与髙差同 股圆差内减极股即髙差也 勾圆差减于极勾即平差正股内去边即平差也 底内去正勾即
髙差也 大差勾内去极勾即平差也 极股内去小差股即髙差也 极差内去□差即髙差也内去明差即平差也
旁差即城，径极较也。【又】为明差，□差较【，又】为髙差平差较 极差得之，为大差，差也，去之则为小差，差也。
又髙差平差下 明和内去虚即髙差 虚内去□和即平差
大差内加虚差，即黄广股 小差，股内减虚差，即黄长勾。
通差内去髙差即底差 内，去平差，即边差也。虚大，差得二虚，勾即勾圆差之股， 虚小差，得二虚股，即股圆差之勾也。
明股较与勾共，即虚股也； □勾，较与股共即虚勾也。
半虚黄 ，□勾得之，即□也，减于此数，即虚黄内去□也， □股得之，虚勾也，去之，即□黄方也，□得之，即平勾内，去□黄也，去之则□勾也，明勾内得之，即虚股也；去之则明黄方也， 明。
股得之，即明也，去之则明，内去个虚，黄方也，明得之即髙股内去明黄也，去之则明股也；右拾遗。
按识别杂记约五百条，皆随时録其所得，未经审定者，故难易浅深，不拘先后，要皆精思妙义，足以开示数理之，蕴奥者，徐光启亟新法，而于勾股义中独推是书其必有所见矣。
测圆海镜卷一
钦定四库全书
测圆海镜卷二
元 李冶 撰
正率一十四问
假令有圆城一所，不知周径四面开门，门外纵横，各有十字大道，其西北十字道头，定为干地，其东北十字道头，定为艮地，其东南十字道头，定为防地，其西南十字道头，定为坤地，所有测望杂法，一一：设问如后。
或问：甲乙二人俱在干地，乙东行三百二十步而立，甲南行六百步，望见乙问径几里。
答曰城径二百四十步
法曰：此为勾股容圆也，以勾股相乗倍之为实，并勾股幂以求，复加入勾股，共以为法。
草曰：置甲南行六百步，在地以乙东行三百二十步乘之，得一十九万二千步，倍之，得三十八万四千步为实，以乙东行步自之，得一十万零二千四百步，为勾幂，以甲南行步自之，得三十六万，步为股幂，二幂相并，得四十六万二千四百步，为方实，以平方开之，得六百八十步，则也，以加勾股，共共得一千六百步，以为法，如法而一，得二百四十步，则城径也，合问。
或问：甲乙二人俱在西门，乙东行二百五十六步，甲南行四百八十步，望见乙问答同前。
法曰：此为勾，上容圆也，以勾股相乘，倍之为实，并勾股幂以求，加入股以为法。
草曰：置甲南行四百八十步，在地以乙东行二百五十六步，乘之，得一十二万二千八百八十步，倍之，得二十四万五千七百六十步为实，以乙东行步自之，得六万五千五百三十六步，为勾幂，以甲南行步自之，得二十三万零四百步为股幂，勾股幂相并，得二十九万五千九百三十六步，为方实，以平方开之，得五百四十四步为也，以加入南行步，共得一千零二十四步，以为法而一，得二百四十步，则城径合问。
或问：甲乙二人俱在北门，乙东行二百步而止，甲南行三百七十五步，望见乙问答同前。
法曰：此为股上，容圆也，以勾股相乘，倍之为实，以勾股幂求，加入勾以为法。
草曰：置甲南行三百七十五步，以乙东行二百步，乘之，得七万五千步，倍之，得一十五万步为实，以乙东行自之，得四万，步为勾幂，以甲南行自之，得一十四万零六百二十五步为股幂，勾股幂相并，得一十八万零六百二十五步，为方实，如平方而一，得四百二十五步，则也，加入乙东行二百步，共得六百二十五步，以为法，以法除之，得二百四十步，则城径也，合问。
或问：甲乙二人俱在圆，城中心而立乙穿城，向东行一百三十六步而止，甲穿城南行二百五十五步，望见乙问答同前。
法曰：此为勾股上，容圆也，以勾股相乘，倍之为实，并勾股幂，如法求以为法。
草曰：以二行步相乘，得三万四千六百八十步，倍之，得六万九千三百六十步为实，置乙东行自之，得一万八千四百九十六步，为勾幂，又以甲南行自之，得六万五千，零二十五步为股幂，二幂相并，得八万三千五百二十一步，为方实，以平方开之，得二百八十九步，即也，便以为法，如法除实，得二百四十步，即圆城之径也，合问。
或问：甲乙二人同立于干地，乙东行一百八十步，遇塔而止，甲南行三百六十步，回望其塔，正居城径之半问答同前。
法曰：此为上容圆也，以勾股相乘，倍之为实，以勾股和为法。
草曰：以二行步相乘，得六万四千八百步，倍之，得一十二万九千六百步为实，并二行步，得五百四十步，以为法除实，得二百四十步，即城径也，合问。
或问：甲乙二人俱在坤地，乙东行一百九十二步而止，甲南行三百六十步，望乙与城防相直，问答同前法，曰：此为勾外容圆也，以勾股相乘，倍之为实，以较和为法。
草曰：以二行步相乘，得六万九千一百二十步，倍之，得一十三万八千二百四十步为实，置乙东行自之，得三万六千八百六十四步为勾幂，又置甲南行自之，得一十二万九千六百步，为股幂，二幂相并，得一十六万六千四百六十四步，为方实，以平方开之，得四百零八即也，又置甲南行步内减，乙东行步，余一百六十八步即较也，以较加，共得五百七十六步，以为法，实如法而一，得二百四十步，为城径也，合问。
按此题用勾股求得，即可加减，得较较为城，径今必以勾股相乘，倍积为实，求得加减，得较和为法，而后始得。较较，为城径者，盖欲因此并明勾股相乘之，倍积为较较，较和相乘之积，非故为纡廻也。
或问：甲乙二人同立于艮地，甲南行一百五十步而止，乙东行八十步，望乙与城防相直，问答同前。
法曰：此为股外容圆也，以勾股相乘，倍之为实，以较较为法。
草曰：二行步相乘，得一万二千，倍之，得二万四千步为实，以甲南行自之，得二万二千五百步为股幂，又以乙东行步自之，得六千四百步，为勾幂，勾股幂相并，得二万八千九百步，为方实，以平方开之，得一百七十步，即也，以二行步相减，余七十步，为勾股较也，以此较又减余一百步，即较较也。便以为法，实如法而一，得二百四十步，即城径也，合问按此题系较和为城，径其用法，实以较取和之意，与上题同。
或问：甲乙二人同立于防地，乙西行四十八步而止，甲北行九十步，望乙与城防相直，问答同前。
法曰：此为外容圆也，勾股相乘，倍之为实，以和较为法。
草曰：以二行步相乘，得四千三百二十步，倍之，得八千六百四十步为实，以甲北行自之，得八千一百步为股幂，又以乙西行自之，得二千三百零四步为勾幂，并二幂，得一万零四百零四步，为方实，以平方开之，得一百零二步为也，又并二行步，得一百三十八步为和，以减和，余三十六步，得黄方以为法，实如法而一，得二百四十步，即城径也，合问。
按此题和，和即城径，其以勾股相乘，倍积为实，黄方为法者，亦以明和，和黄方相乘之，积与勾股相乘之，倍积为相等也。
或问：甲乙二人俱在南门，乙东行七十二步而止，甲南行一百三十五步，望乙与城防相直，问答同前法，曰：此为勾外容，圆半也，以勾股相乘，倍之为实，以大差为法。
草曰：以二行步相乘，得九千七百二十步，倍之，得一万九千四百四十步为实，又以乙东行自之，得五千一百八十四步为勾幂，又以南行自之，得一万八千二百二十五步为股幂，二幂相并，得二万三千四百零九步为方，实以平方开之，得一百五十三步，即也，以乙东行七十二步，为勾以减，余八十一步，即勾差也，便以为法，实如法而一，得二百四十步，即城径也，合问。
或问：甲乙二人俱在东门，甲南行三十步而止，乙东行一十六步，回望甲与城防相直，问答同前。
法曰：此为股外容，圆半也，以勾股相乘，倍之为实，以小差为法。
草曰：以二行步相乘，得四百八十步，倍之，得九百六十步为实，又以乙东行自之，得二百五十六步，为勾幂，又以甲南行自之，得九百步为股幂，二幂相并，得一千一百五十六步，为方实，以平方开之，得三十四步，即也，以甲南行三十步，为股以减，余四步以为法，以法除实，得二百四十步，即城径也，合问。
或问：甲出西门，南行四百八十步而止，乙出东门，南行三十步，望见甲问答同前。
法曰：此为半矮，梯也，以二行步相乘为实，如平方而一，得半径。
草曰：以二行步相乘，得一万四千四百步为实，以平方开之，得一百二十步，倍之，即城径也，合问。
又问：甲乙二人，乙出南门，折而东行，七十二步而止，甲出北门，折而东行二百，望见乙问答同前。
法曰：以二行步相乘，得数四之为实，如平方而一，得城径。
草曰：二行步相乘，得一万四千四百步，又四之，得五万七千六百步为实，以平方开之，得二百四十步，即城径也，合问。
又假令乙出南门，折东行二十步，甲出北门，折东行七百二十步，如此之类，亦同上法，【以上三问，是以半矮梯求之，】按右三题，通为一问。
或问：甲乙二人，乙在艮地，东行八十步而立，甲在坤地，南行三百六十步，望见乙问答同前。
法曰：此为两差，求黄方也，以二行步相乘，倍之为实，以平方开得城径。
草曰：二行步相乘，得二万八千八百步，倍之，得五万七千六百步为实，以平方开之，得二百四十步，即城径也，合问 别得甲南行，即股圆差也，乙东行，即勾圆差也。
或问：甲出东门四十八步而立，乙出南门四十八步见之，问答同前。
法曰：此当以方五斜七求之，每出门，二步管径，十步草曰：置出门步，在地以五之，得二百四十步，即城径也，据此法合，置出门步，在地以十之二而一，以二数相折，故五因便是合，问：
按方五斜七古率，非密率也，设问以尽此题之变，故率之踈密勿论。
或问出西门，南行四百八十步，有树出北门，东行二百步，见之问答同前。
法曰：以二行步相乗为实二行步相，并为从二步，常法得半径。
草曰：立天元一为半径，置南行步，在地内减天元半径，得□□为股，圆差【按斜画者，少之记也，□□，是为四百八十步，少一元也，下仿此，】又置乙东行步，在地内减天元得下式，□□为勾圆差，以勾圆差乘股圆差，得丨□□，【按丨□□为一平，方少六百八十，元多九万六千步，】为半段，黄方幂，即城幂之半也，【寄左】，又置天元，幂以倍之，得□□亦为半段，黄方幂，与左相消得丨□□如带，纵法之，得半径合问【，按相消者，取上两相等之数，同加减相等之数，使一为步数，一为方元数，仍相等也，如寄数内减一，平方，加六百八十元，则得九万六千步，又数内亦减一平，方加六百八十元，则得一平，方六百八十，元是为一平，方六百八十，元与九万六千步等，故其式为丨，□□旧稿，方元数皆作斜，画以别之，然遇方元数有多少异号者，殊混人目，今不用】。
又法：识别得二行，并即大也，立天元一为半径，置甲南行步，加天元一得□，□为大股，又置乙东行步，加天元得□□，为大勾也，勾股相乘，得丨□□为一个大直，积以天元除之，得下式□□，□为三事，和【寄左黄方，除倍积，得三事和，今以半黄方除直，积亦为三事，和也，】然后并二行步，又并入勾股，共得□□为同数，与左相消得□□，□以带纵，平方开之，得一百二十步，倍之，得全径也，合问：按是书皆先法后草，草者以立天元，一推衍而得其方，元积数者也，法者，又取推衍中之支节条目，融防而归于简约者也，草者法之本，法者草之用法，使人易于推步而草，则存其义，以俟知者，二者相须，不可偏废，顾应祥仅演其开，方乘除之数而去其细草，盖亦不得其理矣。
按元时未有笔算，故加减乘除之，式不能详载，观者遂以为无下手处，今借根方法既明，视此则涣，如氷释矣。
测圆海镜卷二
钦定四库全书
测圆海镜卷三
元 李冶 撰
边股一十七问
或问乙出东门，南行，不知歩数而止，甲出西门，南行四百八十，歩望见乙复就乙行五百一十步，与乙相防问答同前。
法曰倍相减，步以乘二之甲，南行步为平，方实得城径。
草曰：识别得二行相减，余三十步，即乙出东门，南行步也，倍相减，步得六十步，以乘二之甲，南行步九百六十步，得五万七千六百步，为平方实，如法开之，得二百四十步，即城径也，合问。
或问：甲出西门，南行四百八十步而止，乙从艮隅，东行八十步，望见甲问答同前。
法曰倍南行步，以东行步乘之为实，东行歩为从方一步，常法得全径。
草曰：立天元一为全，径以减于二之甲，南行步得□，□为两个大差也。以乙东行步乘之，得□□为圆径幂，【寄左】，然后以天元幂，与左相消得丨□，□以带纵，平方开之，得二百四十步，即城径也，合问。
又法半之，乙东行步，乘南行步为实，半之，乙东行步为从，一步常法，得半径。
草曰：立天元一为半城，径减甲南行步得□，□为大差也。以半之，东行步乘之，得□□即半径幂，【寄左】，然后以天元幂为同数，与左相消得丨□□开带，纵平方得一百二十步，倍之，即城径也，合问。
或问：甲出西门，南行四百八十步而止，乙从艮隅，亦南行一百五十步，望见甲问答同前。
法曰：两行步相乘为实，南行步为从方，一为隅得半径。
草曰：立天元一为半城，径以减乙南行步得□，□为半梯，头以甲行步为梯底，以乘之，得□□为半径幂，【寄左】，然后以天元幂，与左相消得丨□□开带，纵平方得一百二十步，倍之，即城径也，合问。
或问：甲出西门，南行四百八十步，乙出东门，直行一十六步，望见甲问答同前。
法曰：以四之东行步乗南行幂为实，从空东行为亷一步为隅法得全径。
草曰：立天元一为圆径，加乙东行步得□，□为中勾，其甲南行，即中股也；置东行步为小勾，以中股乘之，得□合以中勾除，今不受除，便以为小股也；【内寄中，勾分母】，乃复以中股乗之得三百六十八万六千四百，又四之，得一千四百七十四万五千六百为一段，圆径幂，【寄中勾分母寄左】，然后以天元径自之，又以中勾乘之，得□□为同数，与左相消得丨□，□□以，纵立方开之，得二百四十步，为城径也，合问。
按不受除者，无可除之理也，凡二数，此数于彼，数有可除之理则受除，无可除之理，则不受除也，盖除有法有实，实可二法不可二，此题以中勾为法，而中勾内有一元，又有十六步，其为数已二矣。又何以均分不一之数乎？故曰不受也，寄分者，姑寄其应除之数也。俟求得两相等数，而此数内尚少，一除不除此而转，乘彼则两数仍相等，犹之受除者也，此所谓以乘代除也。
或问乙出南门，东行七十二步而止，甲出西门，南行四百八十步，望乙与城防相直，问答同前。
法曰：以乙东行幂乗甲南行为实，乙东行幂，为从方甲南，行步内减二之东，行步为益，亷一步常法，得半径。
草曰：立天元一为半城，径以减南行步得□，□为小股，又以天元加乙东行步得□，□为小勾，又以天元加南行步得□，□为大股，乃置大股在地，以小勾乘之，得下式，丨□□合，以小股除之，今不受除，便以为大勾，【内寄小股分母】，又置天元半径以分母，小股乘之，得□□，以减大勾得□□，□为半个，梯底于上，以乙东行七十二步，为半个梯头，以乘上位，得□□□，为半径幂，【内寄小股分母】寄左，然后置天元幂，又以分母小股乘之，得□□，□为同数，与左相消得□□，□□以立方开之，得一百二十步，倍之，即城径也，合问。
又法曰：以二数相乘，为实相减，为从一虚，法平开得半径。
草曰：别得二数相，并为大股内少一虚勾，其二数相减，为大差，也，立天元一为半径，副置之上位，减于四百八十，得□□为股，圆差【，即大差股也；】下位，加七十二，得□□与股圆差相乘，得下式□□，□为一大差，积【寄左】，再以大差勾减于大差股，余□□为较，又加入大差，四百单八，共得□□，为较共也，以天元乘之得□，□为同数，与左相消得□□，□以平方开之，得一百二十步，即半径合问 ，前法太烦，故又立此法，以就简也。
或问乙出南门东行，不知步数，而立甲出西门，南行四百八十步，望见乙与城防相直，又就乙行四百零八步，与乙相防问答同前。
法曰：二行步相减，以乘甲南行步为实甲，东行步内减相减，步为益方，一步常法，得半径。
草曰：识别得二行相减，余七十二步，即是乙出南门，东行数也，更不湏用，遂立天元一为半城，径加乙东行得□□，为小勾也，副置南行步，上减天乙得□□，为小股下，加天元得□，□为大股，乃置大股以小勾乘之，得下式，丨□□合，以小股除之，今不受除，便以此为大勾也，【内带小股分母，】又倍天元以小股乘之，得下式，□□以减于大勾，得□□□，为勾圆差也，合以股圆差乘之，縁此勾圆差内已带小股分母【小股，即股圆差也，】更不湏乘便，以此为半段，黄方幂，【更无分母也，】寄左，乃以天元自之又倍之，得□□为同数，与左相消得□□，□以平方开之，得一百二十步，倍之，即城径也，合问。
或问乙出东门直行，不知歩数而止，甲出西门，南行四百八十步，望见乙复就乙斜行五百四十四步，与乙相会问答，同前。
法曰：半南行步减半，斜行步以乘，南行步为实，从方空半斜行半，南行相减，得数加入南行步，为隅法得半径。
草曰：识别得二行相减，余六十四步，即半径为股之勾也，立天元为半径，就以为小股，其二行相减，余六十四步，即小勾也，乃置甲南行步，加天元得下式，□□为大股，以小勾乘之，得□□，又以小股除之，得□□为大勾，又倍天元一减之，得下式□□，□为勾圆差也，半之，得□□□于上，乃以天元减甲南行步得□，□为股圆差，以乘上位，得丨□○，□为半径幂，【寄左】，然后以天元幂，与左相消得下式，□□□，以平方开之，得一百二十步，倍之，即城径也，合问。
按：此问以小股为除法，盖因小股只一天元，其数不二，犹有可除之理也，然得数降于实，数之下者，皆不可以命名，至开方时，仍湏各升一位以计之，是两边各加一乘，犹是寄分之理也。
又法：以二数差乘二数，并开方得边勾，复以边股乘之为实，并二数而半之，为法，实如法，得二百四十步，即城径【，此盖用前勾上容圆法也，】。
或问乙从干地东行，不知几步而止，甲出西门，南行四百八十步，望见乙复就乙斜行六百八十步，与乙相防问答同前。
法曰：并二行数以二行差乘之，内减二行差，幂为实，并二行步及二行差，为从方二步，常法得半径草，曰识别得二行相减，余二百步，即半圆径，与小差勾之，共数也。立天元一为半城，径加于二百步，得□□为大勾也，又以天元加于甲南，行步四百八十得□，□即大股也；乃以大勾自之，得丨□□为勾幂，【寄左】，乃置乙斜行六百八十步，为大，加入大股，共得□□于上，再置二行差，内减天元得□□，为小差勾，即股较，以乘上位，得□□，□为同数，与左相消得□□，□以平方开之，得一百二十步，倍之，即城径也，合问。
又法：求小差，二行相减，以自之，又四之为实，二行相减，八之于上，二之南行步，内减二之，二行相减数，又以加上位为益，方二步常法。
草曰：立天元一为小差，减二行差，得□□为半城，径以自之，得丨□□，又四之得□□，□为圆径幂，【寄左】，然后以半城径减于甲南行，得□□又倍之，得□□为两个大差也。又以天元乘之得□，□○为同数，与左相消得下式，□□□，以平方开之，得八十步，为小差也。
或问乙出南门，南行，不知步数，而立甲出西门，南行四百八十步，望乙与城防相直，复就乙斜行二百五十五步，与乙相防问答同前。
法曰甲南行，内减二之两行差，余以乘甲，南行又倍之为实，二步为隅，得半径。
草曰：别得二行步相减，余二百二十五步，乃是半径为勾之股也，立天元一为半城，径就以为小勾，率其二行差，二百二十五步，即为小股，率乃置甲南行步，加入天元得□□为大股，以天元小勾乘之，得丨□合，以小股除，今不受除，【按，此所谓不受除，乃其数竒零不能尽，非无可除之理也，与前辞同而意异，】便以此为大，勾【内寄小股分母，】乃倍天元以小股乘之得□，以减大勾，余丨□为一个小差于上，【内寄小股分母】，乃以天元减甲南行步得□，□为大差也。以乘上位，得□□，□又倍之，得□□□，为圆径幂，【内寄小股分母】寄左，然后倍天元以自之，又以小股乘之，得□□为同数，与左相消得□○，□以平方开之，得一百二十步，倍之，即城径也，合问。
按此题止用股，求勾法，即得城半径，其必展转数次，而后始得者，益见其为发明立天元一之术，使人易晓也，后多有仿此者。
或问乙出南门，直行一百三十五步而止，甲出西门，南行四百八十步，望乙与城防相直，问答同前。
法曰：二行步相减，余以自乘，内减乙行幂为实，二之甲南行为益，从一步常法，得半径。
草曰：立天元一以为半径，便以为勾率，又以天元加乙行步，并以减于甲，行步得□，□为股率，乃置乙南行步一百三十五步为小股，以勾率乘之，得□合以股率除之，今不受除，乃便以此为小勾，【内寄股，率分母】，又置乙南行步加二，天元得□□为大股，以勾率乘之，得□□合，以股率除之，今不受除，便以此为大，勾【内寄股，率分母】，以小勾大勾相乘，得□□□，为半径幂，【内带股，率幂为分，母】寄左，然后置天元以自乘，又以股率幂乘之，得丨□□，□为同数，与左相消得□□，□以平方开之，得一百二十步，倍之，即城径也，合问。
按此草得数为九百六十立，方少一三乘方与十万零八百平，方等皆虚数也。各降二位，即如各以平方除之，乃为九百六十，元少一平，方与十万零八百步等，两数等所降之位，又等则两数仍相等，而实积步数，乃出矣。故可以带纵平，方开之也，此系降位而得实数者，与前升位而得实数者，其理互相发明，草中不言，盖以为不待于言也。
或问：甲乙二人同出西门，向南行，至西南十，字道口，分路乙折，东行一百九十二步而立甲，又南行甲通行四百八十步，望乙与城防相直，问答同前。
法曰：两行相乘，得数，又以乙东行乘之为实，二行相乘于上位，又置乙东行，以二行相减数乘之，得数加上位为法。
草曰：立天元一为半城，径副置上位，加南行步，得□□为大股也；下位减于甲，行步得□，□为小股也；其乙东行，即小勾也，置大股以小勾乘之，得□□内寄小股，□□为母，便以为大勾也，置天元以母通之，得□□减于大勾，得丨□□，为半个矮，梯底于上，再置乙东行，内减天元得下式，□□为半个矮，梯头以乘上位，得下式□□□，□为半径，幂寄左再置，天元以自之为幂，又以分母乘之，得□□，□为如积，与左相消得□□，上法下实，得一百二十步，即城之半径也，合问。
按草中相消法，皆得两边数，此独得一边二数，盖此条共数比彼条共数少，一数又多一数为相等则多少，二数其必为相等无疑矣。多少数多者亦仿此。此又相消法中之一变也。
又法：二行步相乘为实，倍甲南行，内减乙东行为法，草曰：立天元一为半城，径副置上位，加甲南行，得□□为大股下位，减甲行步得□，□为小股，便是股圆差也，其乙东行，即小勾也，置大股以小勾乘之，得□□内寄小股，□□为母，便以为大勾也，再置天元以二之，又以分母乘之，得□□为全，径以减于大勾，余□□□，为勾圆差也，合以股圆差乘之，縁内已有小股，分母不湏，乘便以此为两段之半径幂也，更无分母，【寄左】，然后置天元幂，以二之得□，□为如积，以左相消得□□，上法下实，得一百二十步，即半城径也，合问。
或问见边股四百八十步，□三十四步，问答同前，【此题在甲乙二人，同出西门，南行至十，字道乙，折东行一百九十二步而立甲，又南行甲通行四百八十步，望见乙与城防相直之后】。
法曰：□乘边股，半之为实，半□半边，股相并为从，半步隅法平，方得□股。
草曰：立天元一为□股，加□得□，□为平勾也，又以天元减边股而半之，得□□为髙股也平勾髙股相乘得□□，□为半径幂，【寄左】，然后以天元乘边股得□为同，数与左相消得下式，□□□开平，方得□股三十步，以乘边股，开平方倍之，即圆城，径也，合问按此问原稿在三卷末。
或问见边股四百八十，明一百五十三问答，同前法曰：二云数相减，复倍之，内减边股，复以边股乘之于上，又以明幂，乘上位为实，以边股乘明幂，又二之为从二，云数相减，余以自之，为第一亷二云数相减，又倍之为第二益亷一常法开三乘方得，明勾草曰：立天元一为明，勾加明，得□□为髙股也以髙股减边股，余□□为髙以倍之，得□□为黄广也，内减边股得□，□为□股，复以边股乘之，得□□于上，又以明自乘，得二万三千四百零九为分，母以乘上位，得□□为，分半径幂，【寄左】，然后置黄广，以天元乘之，得□□复合，以明除之不除，寄为母，便以此为全，径又半之，得□□为半径以自之，得□□，□为同数，与左相消得下式，丨□□□，□开三乘，方得七十二步，即明勾也，余各依法求之，合问。
又法：边股内减二，明以边股乘之，复以明幂乘之，为三乘方实，亷从并同前。
草曰：识别得二数相减，余为髙股虚共又为髙明勾共此余数内，又去半径，即明和也，明和，明相并，即股圆差相减，则明黄方也，又倍明加明黄，亦得股圆差也，边股内减明勾，余即大差，也，立天元一为明，勾减于云数相减，数得□，□即髙也以髙减边股得□，□即髙股也以髙股减于云数相减，数得□□，即虚也，以天元又减虚，得□□，即□股也；乃置髙以天元乘之得□，□合明除之，不受除，便以此为髙勾也【即半径】髙勾自之得丨□，□□为半径幂，【内带明幂，分母】寄左，然后置边股以□股乘之，得□□为半径幂，又以明幂二万三千四百零九分母通之，得□□为同数，与左相消得实从亷隅五层如前式。
或问边股四百八十步髙二百五十五步，问答同前法曰：以边股减于二之髙复以边股乘之，开平，方得半径。
草曰：立天元一为半径，先倍髙内减边股余□，复以边股乘之，得□□寄左，以天元幂，与左相消得丨□□开平，方得数倍之，即城径也，合问。
或问边股四百八十步，平一百三十六步，答问同前，法曰置平，以边股再乘之为实，以边股自之为益，从平，为益亷一虚隅开立，方得半径。
草曰：别得平，即皇极勾也，立天元一为半径副之，上位加平得□，□即边勾也，下位减于平得□□，即□勾也，置□勾以边股乘之，得□□合边勾，除今不受，除寄为母，便以此为□股，乃以此边股乘之，得□□为半径幂，【内边，勾分母】寄左，然后以天元为幂，以分母边勾乘之，得丨□□为同数，与左相消得丨□□，□开立方，得一百二十步，倍之，即城径也，合问。
或问边股四百八十步，明股，明和二百八十八步，问答同前。
法曰：以云之，云数相减，余加边股，复以减余乘之讫，又折半于上，又以减余自之，减上位为实，并云数半之，为法得明勾。
草曰：别得二数相减，余为大差，勾立天元一为明，勾减于大差，勾得□□，即半径也，又以天元减半径得□□，为虚勾于上，又以半径加边股，得□□为通股于下，上下相乘，得□□□，折半得丨，□□为半径幂，【寄左】，然后以半径幂丨□，□为同数，与左相消得□□上法，下实得七十二步，即明勾也，合问：
或问见边股四百八十步，□勾□，和五十步，问答同前。
法曰半边股半，和步相并，得为泛率，以泛半减边股以自之，又二之于上，以和步乘泛率减上位为实，以泛率减边股六之于上内，又加半个，边股三个，和步为益，从三步常法，得□股。
草曰：别得和步得□股，即小差也。小差边股，共即二中差【按此句误】立，天元一为□股，加和步得□，□即小差也。以小差加边股而半之，得□□，即中差也。中小差相并，得□□即大差也。以小差乘之，得□□□，为半段径幂，【寄左】，然后置边股内减大差得□□，为半径以自之，得□□，□又倍之，得下式□□，□与左相消得下式，□□□开平，方得三十步，即□股也；合问按草云：以小差边股，共即二中差有误，盖中差即勾股较小差，即股较边股，即勾较与容圆半径和，若设勾二十股，二十一，二十九则勾较九容，圆半径六并之，得十五为边，股股较八为小差，小差边股，共得二十三，勾股较一为中差，倍之，仅得二则相差二十一矣，是知细草，乃因题数之，偶合而误，非正法也，今依其术，另设法草于后，以补其阙。
法曰：以□勾和自之，边股再乘为实，倍边股，加□勾和，再以□勾和乘之，为从，又倍□勾，和减边股，余为益亷一为隅纵，立方开之，得□股草曰：别得边股即髙股和□，股即髙股差□股和，即平勾也，立天天一为□股自之，得丨□应以□勾和，除之不除，便以为□，勾较【，内寄□勾和，分母】转，以□勾和自之，得□为□，勾和加□勾，较得丨，○□为倍□，又以□勾和，分母乘倍□股，得□为倍，□股与倍，□相加，得丨□□为倍，□股和，即倍平勾，又于边股内减□股得□，□为倍髙股倍髙股倍平勾相乘，得□□□，□为圆径，幂寄左，又以边股□股相乘，得□为半径，幂四因之，得□为圆径幂，又以□勾和，分母乘之，得□为同，数与左相消得丨□，□□开带，纵立方得，□股三十步，合问：
测圆海镜卷三
<子部,天文算法类,算书之属,测圆海镜>
钦定四库全书
测圆海镜卷四
元 李冶 撰
底勾一十七问
或问乙出南门东行，不知步数，而立甲出北门，东行二百步，见之就乙，斜行二百七十二步，与乙相防问答同前。
法曰：二行差数乘，甲东行，又四之为平方实，得全径草，曰识别得二行相减，余即乙出南门，东行数也，以甲东行，减于就乙，斜行余七十二步，以乘甲东行歩得一万四千四百步，又四之，得五万七千六百步为实，以平方开之，得二百四十步，即城径也，合问。
或问乙从坤隅，南行三百六十步，甲出北门，东行二百步，见之问答同前。
法曰：二行步相乘，倍之为实，乙南行，为从一步常法，得城径。
草曰：立天元一为城，径以减于二之甲，东行步得【，□，】，□为两个小差，以乙南行步乘之，得□□为城，径幂，【寄左】，然后以天元幂，丨□与左相消得丨□□，以平方开之，得二百四十步，即城径也，合问。
又法半之，乙南行步，乘甲东行为实，半乙南行，为从一步常法，得半径。
草曰：立天元一为半城，径减甲东行，得□□为小差，半乙南行步，得一百八十步，以乘小差，得□□为半径幂，【寄左】，然后以天元幂，丨□与左相消得下式，丨□□，以平方开之，得一百二十步，倍之，即城径也，合问。
或问乙从坤隅，东行一百九十二歩而止，甲出北门，东行二百步，见乙问答同前。
法曰：两行步相乘，为实甲东行，为从乙为隅得半径草曰：立天元一为半径，减于乙东行，得□□以甲，行步乘之，得□□为半径幂，【寄左】，然后以天元幂，丨□与左相消得丨□□，以平方开之，得一百二十步，倍之，即城径也，合问。
或问乙出南门，直行一百三十五步，甲出北门，东行二百步，见乙问答同前。
法曰：以乙南行步，乘甲东行幂，又四之为实，从空乙行为亷一步常法，得城径。
草曰：立天元一为城，径加乙南行，得□□为股，率其甲东行，即勾率也，其乙南行，□为小股，以勾率乘之，得□合以股率除，今不除受，便以此为小勾，【寄股率为母】，乃以甲东行步乘之，得□ ，又四之，得□为一段，城径幂，【寄左】，然后以天元城径自之，又以股率分母通之，得丨□□为同数，与左相消得下式，丨□□□，以立方开之，得二百四十步，即城径也，合问。
又法：二行相乘，又以自乘为实，以二行相乘，倍之为益，方南行，幂为亷八步益隅，立方开得，小勾七十二草曰：立天元一为小勾，以南行为小股，以东行二百步，为大勾也，置大勾内，减天元得□□，为中勾也，以小股乗之得□□，以天元小勾除之，得□□为中股，即城径也以自之，得□□□为城，径幂也，【寄左】，又以天元小勾乘通勾二百步，得□又四之，得□为同，数与左相消得□□，□□开立方得，七十二步，即小勾也，以乘通勾二百步为实，平方开，得一百二十步，倍之，即城径也，合问。
又法：求半径以南行步乘东行，幂为实，从空东行步为亷二步常法，得半径。
草曰：立天元一为半，径以二之，加南行步，得□□为股，率以东行，□为勾率，以南行为小股也；置小股以勾率乘之，得□以股率除之，不受，除只寄股率分母，便以此为小勾也，又以勾率乘之，得下式，□为半径幂，【寄左】再立，天元半径以自之，又以分母股率乘之，得□□，□为同数，与左相消得□□，□□开立方，得一百二十步，倍之，即城径也，合问。
或问乙出东门，南行三十步而止，甲出北门，东行二百步，望乙与城防相直，问答同前。
法曰：以甲东行步乗乙南行幂为实，以乙南行幂，为从甲东行，内减二之乙，南行为益亷一步隅得半径草曰：立天元一为半城，径减于甲东，行步得□，□为小勾，以天元加于乙南，行步得□，□为小股，乃以天元加东行步得□，□为大勾，置大勾，以小股乗之得丨□□，合以小勾除之，今不受除，便以此为大，股【内带小勾分母】，又置天元半径以分母，小勾乘之，得□□减于大股，余□□□，以乙南行步乗之得□□□，为半径幂，【内有小勾，分母】寄左，然后以天元为幂，又以小勾通之，得□□，□为同数，与左相消得下式，□□□□，以立方开之，得一百二十步，倍之，即城径也，合问：【翻法在记】。
又法：乙南行，乘甲东行为平实，二数相减，为法一隅，翻开得半径。
草曰：别得二数相，并为大勾，内少一虚股，其二数相减，为小差，也， 立天元一为半径，副置之上位，减于二百步，得□□为勾，圆差【，即小差勾也，】下位加三十步，得□□为小差，股勾股相乘，得□□，□为一段小差，积【寄左】，再以小差勾减小差，股余□□为一较也。又以此较减于小差，得下式，□□为一个，较较，以天元一乘之，得下式，□□为同数，与左相消得□□，□开平方得一百二十步，即半城径也，合问：【翻法在记】，再立此法者，盖从简也。
按：此乃以小差勾为平，上较较，半径为平股，故以小差上，较较与半径相乘，等于平，上较较，与小差股，相乘为一段，小差积也。
或问乙出东门，南行，不知步数，而立甲出北门，东行二百步，望乙与城防相直，复就乙斜行一百七十步，与乙相防问答同前。
法曰：以二行差乘，甲东行为实，甲就乙斜行为方一步，常法得半径。
草曰：识别得二行相减，余三十步，即乙出东门，南行步也，【更不湏用，】立天元，一以为半城，径加乙南行，得□□为小股，副置甲东行步上位，减天元得下式，□□为小勾下位，加天元得□□，为大勾也，乃置大勾，以小股乘之，得下式，丨□□合，以小勾除不受，除便以此为大，股【内小勾分母】又倍，天元以小勾乘之，得□□以减于大股，得□□，□又倍之，得下□□，□为两个，股圆差合，以勾圆差乘之，縁为其中已带小勾分母，更不须乘便，以此为黄方幂，【更无分，母】寄左，然后倍天元以自之，得□□为同数，与左相消得□□，□上下俱半之，【俱半之者，盖从简也，】得□□□，以平方开之，得一百二十步，倍之，即半径也，合问。
或问乙出南门直行，不知步数而止，甲出北门，东行二百步，见之，复就乙斜行四百二十五步，与乙相防问答同前。
法曰：倍两行差，以乘二之甲，东行为实，从空四之甲，东行于上，倍两行差加上位，为隅得半径。
草曰：识别得二行差，二百二十五步，即半径为勾之股也，立天元一以为半径，便是小勾，其二行差，便是小股，乃置甲东行步，加天元得□，□为大勾，以小股乗之得下式□□，又以小勾除之，得□□为大股，又倍天元以减之，得□□□为股，圆差又倍之，得□□，□为两个股，圆差于上，乃以天元减甲东行，得□□为勾圆差，以乘上位，得下式□□，○□为城，径幂，【寄左】，然后倍天元一以自之，得□□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问【按此系得数各升一位，然后开平方】。
又法：并二数以二数差乗之开方得底股，复以甲东行二百步，乘之为实，并二数而半之，以为法，如法得二百四十步，即城径也，合问：【此用股，上容圆求之，比前法，极为简易，】。
或问乙从干隅南行，不知步数而止，甲出北门，东行二百步，望见之，复就乙斜行六百八十步，与乙相会问答，同前。
法曰：并二行以二行差乘之，内减二行差，幂为实，并二行步及二行相减，数【按即倍乙斜行，】为从二步，常法得半径。
草曰：识别得斜行六百八十步，即大也，其二行相减，余四百八十步，即乙南行步内减半径也，立天元一为半城，径副置之上位，加二行相减，数得□□，为大股也；下位加甲东行步得□，□为大勾也，乃以大股自增乘得丨，□□为大股幂，【寄左】，乃并大勾，大得□□于上，又以大勾减大，得□□为大差，以乘上位，得□□，□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问。
又法求大差
法曰：二行差，自乘为实，置二之二，行差于上，乃以甲东行步，减二行差，又半之，以减于上，为益方【，按三因斜行步，二因东行步相减，折半亦同，】半步常法。
草曰：立天元一为大差，减于二行，差得□□为半城，径以自之，得丨□□，为半径幂，【寄左】，乃以半城径减于甲东行，得下式，丨□为小差，又以天元乘之，得丨□，又以半之，得□□为同数，与左相消得下式，□□□，以平方开之，得三百六十步，即大差也。合问。
或问乙出东门，不知步数而立，甲出北门，东行二百步，望乙与城叅相直，复就乙斜行一百三十六步，与乙相防问答同前。
法曰：甲东行步内减二之二行差，【按倍斜，行步内减东行步亦同】，余以乘甲，东行为实，一步常法，得半径。
草曰：别得二行相减，余六十四步，即半径为股之勾，立天元一为半城，径就以为股，率其二行差，即勾率也，乃置甲东行步，加天元得□，□为大勾，以天元股率乘之，得丨□合，以勾率除之，不受，便以此为大，股【内勾率分母，】乃倍天元以勾率乘之，得□，以减大股，得丨□为一个大差于上，【内勾率分母，】乃以天元减甲东行，得□□为小差，以乘上位，□□□为半段，黄方幂，【内寄勾率为母，】寄左，然后以天元自之，又以勾率乘之，又倍之，得□□为同数，与左相消得下式，丨□□，以平方开之，得一百二十步，倍之，即城径也，合问。
或问乙出东门，直行一十六步而止，甲出北门，东行二百步，望见乙与城叅相直，问答同前。
法曰：二行步相减，余以自乘，内减乙东行幂为实，二之甲东行为益，从一步隅法，得半径。
草曰：立天元一以为半城，径加乙行步，并以减于甲，行步得□，□为平勾率其天元半径，即平股率也，乃置乙东行，一十六步，为小勾，以股率乘之，得□合以勾率除之，今不受除，便以此为小股，【内带勾率分母】，又置乙东行，加二天元得□□为大勾，以股率乘之，得□□合，以勾率除之，今不受除，便以此为大，股【内寄勾率为母】，以此小股，大股相乘，得□□□，为半径幂，【内寄勾率幂，为母】寄左，然后以勾率幂，乘天元幂得丨，□□□为相，同数相消得，□□□□，开平方得一百二十步，倍之，即城径也，合问【按此系得数各降二位，然后开平方】。
或问：甲乙二人同出北门向东，行至东北，十字道口，分路乙折，南行一百五十步而立，甲又向东行，甲前后通行了二百步，廻望乙恰与城相直，问答同前法曰：以二行步相乘于上，又以南行步乗之为实二，行步相乘于上，又以乙南行减于甲东行，得数，复以乙南行乘之，加上位共为法，得半径。
草曰：立天元一为半城，径副之，上位加甲，行步得□，□为大勾也，下位减于甲，行步余□，□为小勾也，其乙折南行，即小股也；置大勾，以小股乘之，得□□内寄小勾，□□为母，便以为大股也；再置天元以母乘之，得□□减于大股，余丨□□，为半个矮，梯底于上，【内寄小勾为母】，再置乙折，行步内减天元得□□，为半个矮，梯头以乘上位，得□□□，□为半径幂，【寄左】，乃以小勾分母乘天元幂得下，式□□，□为同数，与左相消得□□，上法下实，如法而一，得一百二十步，即城之半径也，合问。
又法：  法曰：二行步相乘为实，倍甲东行，内减乙南行为法。
草曰：立天元一为半，圆径副之，上位加甲东行，得□□为大勾下位，减甲东行，得□□为小勾，此小勾便是勾圆差也，其乙南行，即小股也；置大勾，以小股乘之，得下式，□□内寄小勾，□□为母，便以为大股也；再置天元以二之，又以分母乘之，得□□为全，径以减于大股，余得□□，□为股，圆差也，合以勾圆差乘之，縁内已有小勾分母，故不湏再乘便，以此为两段之半径幂也，更无分母，【寄左】，再置天元以自之，又二之得□，□为同数，与左相消得□□，上法下实，一百二十步，即半城径也，合问。
或问：见底勾二百步，明一百五十三步问答，同前法曰：半底勾乘，明为平实，并二云数而半之，为从五分，常法得明勾。
草曰：立天元一为明，勾加明，得□□为髙股也；又以天元减底勾而半之，得下式，□□为平勾也，勾股相乘，得□□□，为半径幂，【寄左】，然后以天元乘底勾得下式，□为同数，与左相消得□□，□开平，方得七十二步，即明也，以明乗底勾为平方实，如法开之，得一百二十步，倍之，即城径也，合问。
或问见底勾二百步□三十四步问答同前
法曰底勾，□相减，余倍之，内减去底，勾【按倍，□减底，勾亦同】，复以底勾乗之于上，又以□幂，乘上位为三乗方实倍底，勾以□幂乗之为从二，云数相减，余以自之，为第一亷二云数相减，余又倍之，为第二益亷一步隅法，得□股。
草曰：立天元一为□股，加□得□，□为平勾，以平勾减底勾余，□□为平，以倍之，得□□为黄长也，此内却减底勾，余得下式，□□为明勾也，复以底勾乘之，得□□于上，又□自乘，得一千一百五十六为分，母以乗上位得□□为带，分半径幂，【寄左】，然后置黄长以天元乗之得□□合，以□除之不除，寄为母，便以此为全径也，以半之，得□□为半径，【内带□分，母】以自之，得丨□□，□为同数，与左相消得丨□□□，□开三乗方得三十步，即□股也；余各依数，求之合问。
又法底勾，内减二□，复以底勾乘之，复以□幂乘之，为三乗方实余亷从并与前同。
草曰：识别得二数相减，余一百六十六，为平勾虚，共又为平□股，共于此余数内，又去半径，即□和也，□和□相并，即勾圆差也，相减则□黄方也，又倍□加□黄，亦得勾圆，差也底勾内减□股，余即小差也， 立天元一为□股，减于云数相减，数得□□，为平以平，减底勾得□，□即平勾，以平勾减于云数相减，数得□，□即虚，以天元又减虚，得□□，即明勾也，乃置平，以天元乘之，得□□合，□除不除，寄为母，便以此为平股也；【即半径，】平股自之，得丨□□，□○为半径幂，【内带□幂，分母】寄左，然后置底，勾以明勾乗之得□□，又以□幂一千一百五十六，通之得下式，□□为同数，与左相消得丨□□，□□亷从一一如上。
或问：见底勾二百步，平一百三十六步，问答同前，法曰倍平，内减底勾，复以底勾乗之开平方得半径。
草曰：立天元为半径，先倍平，内减底勾余，□为明勾，复以底勾乗之得□为半径幂，【寄左】，然后以天元幂为同数，与左相消得丨□□，开平方得一百二十步，又倍之，即城径也，合问。
或问底勾二百步髙二百五十五步，问答同前，法曰底勾幂乗髙为立实底勾幂，为从髙为亷一为隅得半径。
草曰：识别得髙即皇极股也；立天元一为半径副之，上位加髙得□□，即底股也；下位减于髙得□□，即明股也；置明股以底勾乗之得□□，合以底股除不除，寄为母，便以此为明，勾又以底勾乗之得□□为半径幂，【内带底股分，母】寄左，然后以天元幂乗底股得丨，□□与左相消得丨□□，□开立方，得一百二十步，倍之，即城径也，合问。
或问底勾二百步，□勾□，和五十步问答，同前法曰：以二云数相减，余加底勾，复以减余乗之半之于上，以减余自之，减上位为实，并云数半之，为法得□股。
草曰：别得二数相减，余为小差，股立天元一为□股，减于小差，股得□□，即半径也，又以天元减半径得□□，为虚股于上，又以半径加底勾得□，□为通勾于下，上下相乗得□□□，折半得丨，□□为半径幂，【寄左】，然后以半径自之，得下式，丨□□为同数，与左相消得□□上法，下实得三十步，即□股也；合问：
或问：见底勾二百步，明股，明和二百八十八步，问答同前。
法曰：二数相减，又半之，得数又减于底勾，余为泛率；以泛率自之，又倍之于上位，又二数相减，而半之以乗和步所得减于上倍为实，倍泛率于上位，又半底勾减和，步加上位为法，得明勾。
草曰：别得和步得明，勾为大差也。大差得底勾，为二中差 ，立天元一为明，勾加和步，得□□为股，圆差也，【即大差，】内又加底勾得□折半，得□□即通。勾通股差也，【此即中差】置大差减，中差得下，□□即小差也。大小差相乘，得□□，□为半段，圆径幂，【寄左】，乃置底勾，内减小差，得□□为半径以自之，得□□□，倍之，得下式□□，□为同数，与左相消得□□上法，下实得七十二步，即明勾也，合问：
按：此条法草与三卷末，以小差边股，共为二中差者，同误依问，另设于后。
法曰：以底勾乘明股，和幂为实，倍底勾，以明股和乗之加入明股，和幂，为从倍，明股和，内减底勾为亷一为隅开带，纵立方得明勾。
草曰：别得明，得明勾为髙股髙勾即半径也底勾为平勾和，明勾为平勾，较平股，即半径也，立天元一为明勾自之，得丨□应以明股，和除之不除，便以为明股，较【内，寄明股和，分母】明股，和自之，得□为股，和以加股，较得丨，□□为倍，明以分母乗倍天元得□为倍，明勾与倍明相加，得丨□□为倍髙股置底勾，减天元得□□，为倍平勾，与倍髙股相乘得□□，□□为城，径幂【内，寄明股和，分母】寄左，又倍天元与倍底勾相乘，得□以寄分母乘之，得□为相，同数与左相消得丨□□□，开立方得，明勾合问。
测圆海镜卷四
钦定四库全书
测圆海镜卷五
元 李冶 撰
大股一十八问
或问乙出南门，直行一百三十五步而立，甲从干隅，南行六百步，望乙与城叅相直，问答同前。
法曰倍，二行差内减甲南行步，复以乗甲南行步为实，【倍二行，差减甲南行步，即是甲南行步，内减二之乙，南行也，】四之甲，南行步内减二之乙，南行为从方，四为益隅，开平，方得半径草曰：立天元一为半，径以二之，加乙南行步得□，□为中股，以中股又减于甲南，行步得□，□为股，率其天元半径，即勾率也，置甲南行，为大股以勾率乗之得□合以股率除之，不受除，便以此为大，勾【内股，率分母】，再置天元以二之以股率乘之，得□□减于大勾，余□□为勾，圆差于上，【内有股，率分母】，又以二之天元减甲南行，得□□为大差，以乘上位，得□□，□为半段，黄方幂，【内寄股，率分母】，然后以天元自之，又以股率乘之，又倍之，得□□，□为同数，与左相消得下式，□□□开平，方得一百二十步，倍之，即城径也，合问。
或问乙出南门，东行七十二步而止，甲从干隅，南行六百步，望乙与城叅相直，问答同前。
法曰：云数相乘，为平实甲，南行为从，二益隅，得半径草曰：别得虚勾乗通股得半，段圆径幂，此与虚股乗通勾同立，天元一为半径，内减乙东行得□，□为虚勾，以乘甲南行，得□□，为半段径幂，【寄左】，再以天元为幂，又倍之，得□□为同数，与左相消得□□，□开平方得一百二十步，即城径也，合问。
或问乙出东门，直行一十六步，甲从干隅，南行六百步，望见乙问答同前。
法曰：以乙东行，乘甲南行，幂为实二之，乙东行乘甲，行为从方，亷空二步隅，法得半径。
草曰：立天元一以为半城，径以二之加于乙东行，得□□为勾率，又以天元减甲南行得□，□为股率，乃置乙东行，以股率乗之得□□合，以勾率除不除，便以此为小股，此小股即半，梯之头也，【内带勾率分母】，又以股率乗之【此股率即半，梯之底也。】得□□，□为半径，幂【内带，勾率分母】寄左，然后置天元幂，以勾率通之，得□□，□为同数，与左相消得□○，□□开立方，得一百二十步，倍之，即城径也，合问。
或问乙出东门，南行三十步而立，甲从干隅，南行六百步，望见乙问答同前。
法曰：二行步相乗为寳以南行为从一步常法，得半径。
草曰：立天元一为半径，以减于甲，南行得□□，为半梯底，以乙南行三十步，为半梯，头以乗之得□□为半径幂，【寄左】，乃以天元幂，与左相消得丨□□，开平方得一百二十步，即半城径也，合问。
或问乙从艮隅，南行一百五十步而立，甲从干隅，南行六百步，望见乙问答同前。
法曰：二行步相乗为实，并二行步为法，得半径草曰：立天元一为半径，副置之上，以减于乙南行，得□□为半梯，头下以减于甲，南行得□□，为半梯底，上下相乗得丨□□，为半径幂，【寄左】，乃以天元幂，与左相消得下式，□□上法下实，如法而一，得一百二十步，倍之，即城径也，合问。
或问乙从艮隅，东行八十步而立，甲从干隅，南行六百步，望见乙问答同前。
法曰：二行步相乘，又倍之为实，二之，乙东行为从一步，常法得全径。
草曰：别得乙东行八十步，即小差也。立天元一为城，径减于甲南，行步得□，□为大差，以乙东行步乘之，得□□又倍之，得□□为城，径幂，【寄左】，然后以天元幂，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问南门东，不知逺近有树甲从干隅，南行六百步，望树与城防相直，复就树斜行四百八步，至树问答同前。
法曰南行步幂，内减两段，两行相乘，数为实，二之南行，步为从一步益隅，得城径。
草曰：别得南行步内减城，径即小股也；其斜行步即小也，又二行相减，即大差为股之勾也，立天元一为圆径，以减南行步，得□□为股，圆差也，【合为小股，】置南行步，以斜行步乘之，得□合以小股除之，不受除，便以此为大，【内带小股分母】，再置南行步，以小股乗之得□□为大股，【亦带小股分母】，以大股减大得□，□为小差也。合以大差乘之，縁于内带大差分母，更不湏乘，便以为半段黄方幂，【更无分，母】又二之，得□□为一段，黄方幂，【寄左】，然后以天元幂为同数，与左相消得□□，□开平，方得二百四十步，即城径也，合问。
依前问，假令乙出南门东行，不知步数，而立甲从干，南行六百步，望乙与城相直，复就乙斜行四百八步，【按：此即前问以明，又法】。
法曰：二行差幂乗甲南行为实，二之二行，差以乗南行步为益，方二之二行，差为隅得半径。
草曰：识别得二行相减，即半城，径与乙东行共也，得此数更不须用斜，立天元为半径，减于二行差，一百九十二，得□□即半梯头也，又以二天元减甲南行步得□，□为股率，又以一百九十二为勾率，乃置甲南行，以勾率乘之，得□合股，率除不除，便以此为大，勾【内寄股，率分母】，再置天元以股率乘之，得□□以减于大勾，得□□，□为半梯，底也头底相乘，得下□□，□□为半城，径幂【内，寄股率分，母】寄左，然后以股率乘天元幂得□，□□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问。
或问东门南，不知逺近有树甲从干隅，南行六百步，见树复向树，斜行五百一十步，至树问答同前。
法曰：二行差步，乘甲南行步为实，二行之差，步并甲南行步为从，二益隅【，若欲从简上下，俱折半】。
草曰：别得二行相减，数即虚，积之股也；立天元一为半径，内减二行之差，步得□□，为梯头于上，又以天元减于甲之南，行步得□，□为梯底，上下相乗得□□□，为圆径幂，【寄左】，然后以天元幂，与左相消得□□，□开平方得一百二十步，即城径也，合问。
或问乙出东门直行，不知步数，而立甲从干隅，南行六百步，望见乙复就乙斜行五百四十四步，与乙相防问答同前。
法曰：以二行步相减，乘甲南行步，得数又半之，南行步以乘之，为实，以二行差乘，南行步于上，又以半之，南行步，乘南行步加于上，为从方二之，南行步为益，亷一步常法，得半径。
草曰：别得二行相减，即半径上勾股较【，此股即半径也，】又别得是大勾圆差不及平，数立天元，一以为半城，径以减南行步得□，□为中股，其斜行步，即中也，乃立半城，径以斜步乘之，得□合以中股，除今不受除，便以此为平，【内带中，股分母】，又以二行步相减，余五十六步为勾，圆差不及平，数置此数以中股乗之得□□，复以减平，余得□□为小差，【内带中，股分母】，乃以二天元减甲南行步得□，□为大差，又半之，得□□，以乘小差，得□□□，为半径幂，【寄左】，然后以天元自乗又以中股通之得□，□□为同数，与左相消得丨□□，□开立方，得一百二十歩倍之，即城径也，合问：【翻法在记】。
或问：甲乙二人俱在干隅，乙东行，不知步数，而立甲南行六百步，望见乙复就乙斜行六百八十步，与乙相会问答，同前。
法曰：以二行差乘二行，并开平，方得数内，复减二行差，得全径。
草曰：别得二行相减，即勾圆差也，先求大勾立天元一为大勾，以二行相减，余八十步，以乘二行相并，数一千二百八十步，得□为勾幂，开平，方得三百二十步，即大勾也，大勾内减去勾圆差，余二百四十步，即城径也，合问。
或问南门外，不知逺近有树甲从干隅，南行六百步，望树与城防相直，复就树斜行二百五十五步，至树问答同前。
法曰倍，二行相减数，内减甲南行得数，复以乘甲南行为实倍，二行相减，数为从二步益隅，得半径草，曰识别得斜行步，乃是树至城，心之数也，立天元一为半径，加斜行步，得□□为树，至城北门之步也，乃以减于甲南行，得□□为小股，率其天元半径，即小勾率其斜步即小数也，再置甲南行步内，减天元得□□，为梯底于上，又置梯底，内减二之小股，率得□□，即梯头也，复以乘上位，得□□□，为半径幂，【寄左】，然后以天元幂，与左相消得下式，□□□开平，方得一百二十歩倍之，即城径也，合问。
或问东门外，不知步数，有槐树一株，甲从干隅南行，至柳树下，望见槐树，复斜行至槐树下，甲自云，我共行了一千一百四十四步，乙从艮隅，东行，望见槐树，与城相直，复斜行至槐树下乙，自云我东行，少不及斜，行五十六步，问答同前。
法曰甲斜行，减于甲南行，以乘甲南行，得数，复以乘二之甲，南行为实，半之，甲南行，以乘二之甲，南行于上，甲斜行减于甲南，行余复以乘甲南行，又倍之，加上位为从方二之甲，南行为益亷五分隅法，【按五分隅法，即半个立方】。
草曰：识别得五十六步，是小差不及平，数【此小差，即勾圆差也，】又为平，上勾股差，又为甲斜行不及大股，乃副置甲共行在地，其上位加五十六步而半之，得六百步，即大股也；其下位减五十六步而半之，得五百四十四步，即今也，立天元一为圆，径以半之，减于甲南，行步得□，□为中股，其斜行五百四十四步，即中也，乃立半天元以斜步乘之，得□合以中股除之，今不受除，便以此为平【内，寄中股分母】，又置勾圆差不及平，数以中股乘之，得□□，复以减于平□，□为小差，【内带小股分母】，又以天元减甲南行，倍之，得□□为两个大差，以乘小差，得□□□，为圆径幂，【寄左】，然后以中股乘天元幂得下，式□□，□为同数，与左相消得□□，□□开立方得，二百四十步，即城径也，合问：【翻法在记】。
或问出东门向南行，不知步数，有柳树一株，甲从干隅，南行六百步，望见柳树而止，乙出东门直行，不知步数，望柳树与甲相直，却斜行三十四步，至柳树下问答同前。
法曰乙斜行，乘甲南行，数以乗甲南行幂为实，斜行乗甲南行幂，又三之，为从方甲行幂，内减两段，斜行南行相乘，数【按甲南行，内减二之乙，斜行以甲南行乘之，】为第一，亷二之南行步为第，二益亷二步常法，得半径。
草曰：立天元一为半，径以二之，减甲南行，得□□为大差以自之，得□□，□为大差，幂加于南行，幂得□□，□又半之，得□□□，为大也，内带大差，□□分母别寄，又置乙斜行，以大股六百步乘之，得□合大除不除，便以此为小股也；【内带大分母，】乃以天元减甲南行得□□，即半梯底也以乗小股半梯，头得□□为半，径幂于上，此半径幂，内有大，分母縁别寄大分，母元带大差分母，故又用大差分母□□，乘上半径，幂得□□，□为带分，半径幂也所带之分，谓只带大分母也，【寄左】，然后以大乘天元幂得□，□；□，□为同数，与左相消得□□，□；□，□开三乘方得一百二十步，即半城径也，合问。
按：此条寄分内，又带寄分，则以所带之分乘本条，仍以寄分乘次条者，盖寄分为应，除本条之数，而寄分内所带之分，又为应除寄分之数，今不除寄分，而乘本条，则犹是寄，分乘次条之理也乗除之变至，斯而极矣。
又法：置甲南行，幂于上，又置甲行幂，半之以乗上位为实，以斜行乗甲行幂倍之于上位，又以甲行再自乗加上位为益，方置甲行幂于上，以斜行乗甲南行倍之，以减上位为第一，亷甲南行步为第二，亷半步常法，得股圆差。
草曰：立天元一为股，圆差【即大差，】以自之，为幂，以加甲南行，幂得丨，□□半之，又以天元除之，得□□，□为大，其甲南行，即大股也；别置乙斜行三十四步，以大股乗之得□合大除不除，便以为小股，【内寄大分母，】乃以天元加甲南行步，得□□为全，梯底也以乗小股半梯，头得□□又倍之，得□□为城，径幂【内，寄大为母，】寄左置，天元大差减甲南行，余□□为圆，径以自之，得丨□□，又以大分母乗之得□□□，□□为同数，与左相消得□□，□；□，□开三乘，方得三百六十步，即股圆差也，以股圆差减甲南行余二百四十步，即城径也，合问。
或问：甲从干隅，南行六百步而止，丙出南门，直行乙出南门，东行各不知步数而立，甲望，乙丙，悉与城防相直，既而乙就丙斜行一百五十三步，相防问答，同前法曰：以甲南行步，再自之于上，以斜行步，乘甲南行，幂又倍之，减上位为立方，实南行步自之，又四之于上，以斜步乗甲南行又倍之，减上位为益，从六之甲，行步为从，亷四步虚常法，得半径。
草曰：立天元一为半，径以二之，减于甲南行，得□□为大差也以自之，得□□，□为大差，幂也，乃置甲南行，幂内加大差，幂而半之，得□□□，为大也，【内寄大差分母】，又置甲南行幂，内减大差，幂而半之，得□□为大勾也，【亦带大差分母，】乃置斜行步在地，以大勾乗之得□□，合以大除不除，便以此为小勾内带，大为母，【其大勾，内元有大差分，母不用】，即半梯头也，【寄上位，】再寄天元半径以大差乘之，得□□以减于大勾，得□为半，梯底也，以乘上位，得□□，□为半径，幂也，【内带大差及大为母，】寄左，然后置天元幂，以大差通之，又以大通之，得□□□，□□为同数，与左相消得□□，□□开立方，得一百二十步，即半城径也，合问。
依前问，假令南门外有树，乙出南门东行，不知步数而立【，只云乙东行步少于树，去城步】，甲从干隅，向南行六百步，望树与乙，悉与城防相直，乙就树斜行一百五十三步，至问答同前。
法曰：以斜行步乗甲行幂为立方，实以甲行幂，半之于上，以斜行步乘甲，行步减上位，为益从亷空五分隅得大勾，大差。
草曰：别得斜步即小，小得小和，即勾差也，立天元一为股，圆差以自之，为幂副之，上以加甲南行，幂而半之，得□□□，为大也，【寄大差分母，】下以减于甲，南行幂而半之，得下式□□，□为大勾也，【寄大差分母，】乃置斜步，以大勾乗之得下□□□，合以大除不除，便以此为小勾，【寄大分母，】又置斜步，以甲南行乗之得□合以大除为小股不除，而又以同母分通之，得□○为同分，小股也；【内只寄大分，母】注【，大股乘时无大差分母，故今通之以齐，大勾上所有，大差分母也，】又置斜步，以大通之，得□□，□为通分，小也，三位相并，得□□为股，圆差【寄左】，然后置天元大差，以大分母通之，得□○，□为同数，与左相消得□○，□□开立，方得三百六十步，即股圆差也，以股圆差减于甲南，行步即城径也，合问。
或问东门外，不知步数，有树甲从干，南行六百步而止，乙出北门东行，斜望树及甲与城防相直，却就树斜行一百三十六步，问答同前。
法曰：二行步相乘于上，又半甲南行乘之为实，二行相乗于上，又半甲南行，以乘甲南行，加上位为益，从甲南行，为从亷一步益隅，开立方得，半径。
草曰：立天元一为半径，便以为小股，其斜行步即小也，乃以甲南行为大股，以小乘之，复以天元除之，得□□，即大也，又倍天元减甲南行余□□为大差，以减大，余□□□，为大勾也，又倍天元以减勾得□，□□为小差也。却以半大差，□□乘之，得□□□，为半径幂，【寄左】，乃以天元幂相消得下式，丨□□，□开立方，得一百二十步，即半径合问。
或问南门外，不知步数，有槐树，一株东门外，不知步数有柳树一株，槐柳二树，相去二百八十九步，有人从干，南行六百步而止，斜望槐柳，与城防相直，问答同前。
法曰：云数相乘得，又自增乗为三乗方实斜步幂，乘南行步，又云之为益从二，云数相乘，又倍之，【按此下脱内减斜步幂五字，】为益亷二之斜步为第二，从亷二法常法，得槐至城心步。
草曰：别得槐树至城，心步即人所止，至槐树步也，乃立天元一为槐树，至城心步【，即人至槐处，】加于斜步，得□□为边也，以天元乗之得丨□合斜，步除不除，便以此为边股，【寄斜步分母，】又以斜步乗南行步得□，为大股以边股减之，余□□□为半城，径【寄斜，步分母】以自之，得丨□□，□□为半径幂，【内带斜步为母，】寄左，又以天元减斜歩得□□为□，以天元乘之得□，□○合斜，步除不除，寄为母，便以此为半梯，头以边股半，梯底乗之得□○□，□为同数，与左相消得□□，□；□，□开三乘，方得二百五十五步，即槐树至城，心之步也，亦为皇极，正股又自之，得数以减斜幂，余如平方而一，得城，心至柳树步，又为皇极，正勾也，勾股相乘，倍之为实，如斜步而一，即城径也，合问。
或问甲从干，南行六百步而立，乙出南门，直行丙出东门直行，三人相望，俱与城相直，而乙丙共行了一百五十一步，问答同前。
法曰甲南行，为幂折半，又以自之为实，倍共步，加甲南行，以乘半段，甲行，幂为从方，甲行乘共数为从亷一个半甲南行为第，二益亷二分五厘，为三乘，方隅草曰：识别得共步加城，径即皇极，和也，又是半径为勾之，与半径为股之，相和步也，二之，此数内减去大即皇极，勾股内黄方面也，亦为太虚，乃立天元一为大差以自之，副置二位，上位减于甲行幂，以天元除之，又折半得□，□□为大勾也，下位加甲南行，以天元除之，又折半得□，□□为大也，其甲南行，即大股也；并勾大股，得下式□□□，即大和也，再以天元减甲南行得□□，即圆径也，加共步得□，□即皇极和，又是半径为勾之，及半径为股之，共数也。又倍之，得□□即全径为勾之，及全径为股之，共数也。内减大得□□，□即小和内黄，方面也，乃置大和□，□□以小黄方面乘之，得□□□，□□合以小和除之不除，便以此为大黄方也，【内寄小和为母，】寄左，然后以天元减甲南行，得□□为大黄，方以小和乗之得丨□□为同数，与左相消得□□，□；□，□开三乗方得三百六十步，即股圆差也，以股圆差减于甲南，行余二百四十步，即城径也，合问。
或问：丙出南门，东行乙出东门，南行，各不知步数而立，甲从干隅，南行六百步，斜望乙丙，悉与城叅相直，乙就丙斜行一百二步，相防问答同前。
法曰：以斜步乘，甲南行幂，又倍之为实，倍甲行幂于上，又以斜步乘二之甲，南行加于上，为从方，四之甲南行，为益亷四步常法，开立方得，半径。
草曰：别得斜步为小也，以斜步减圆径，余为小和也，乃立天元为半径，以二之，减于甲南行，得□□为大差也以自之，得□□，□为大差，幂也，置甲南行，幂□内加大差，幂而半之，得□□□，为大也，【内带大差为分母，】又置甲南行幂，内减大差，幂而半之，得□□○，为大勾也，【带大差分母，】又以大差乘股六百步，得□□并入大勾，得□□□，为大和也，【带大差分母，】乃先以小乘大和，得下式□，□□寄左，又以倍天元减，斜步得□，□为小和，以乘大，得□□□，□为同数，与左相消得□□，□□开立方，得一百二十步，即半径也，合问。
依前问，假令乙出东门，南行，丙出南门，东行各不知步数而立【，只云丙行步，多于乙，行步】甲，从干隅，南行六百步，望乙丙与城叅相直，乙复斜行就丙，行了一百二步，与丙相防问答同前。
法曰：以斜步乘，甲行，幂又倍之，为立方实，甲行幂，内加斜行，南行相乗数为从方，甲南行，为益亷半步为隅，得全径。
草曰：别得相就，步即小也，小得小和为直，径也，立天元一为城，径以减于甲南，行步得□，□为大差以自之，得丨□□为太差，幂也，置甲南行，步以自之，为幂副之，上以加大差，幂而半之，得□□□，为大也，【内寄大差分母】下，以减大差，幂而半之，得□□○，为大勾也，【内寄大差分母，】乃置相，就步在地，以大勾乗之得□□合，大除不除，寄为母，便以此为小勾也，寄大母，又置斜步，【即相就步也，】以甲南行乘之，得□合以大除之不除，寄为母，便以此为小股，而又以元分母大差乗之得□□为同分小股，也只寄大为母，【其大勾，内元有大差分，母其大股内却无分母，故今乘过，复以大差通之，齐分母也，】又置斜行步，以大通之，得□□□，为小也，上三位相并，得□□为城，径也，【内寄大分，母】寄左，然后置天元以大通之，得□□，□为同数，与左相消得□□，□□开立方得，二百四十步，即城径也，合问。
测圆海镜卷五
钦定四库全书
测圆海镜卷六
元 李冶 撰
大勾一十八问
或问乙从东门直行一十六步，甲从干隅，东行三百二十步，望乙与城叅相直，问答同前。
法曰甲东行，内减二之乙，南行，复以乘甲东行为实，四之东行，内减二之乙，东行，为从四益隅，得半径草曰：立天元一为半，径以二之，加乙东行得□，□为中勾，以中勾减于甲东行，得□□为勾率也，其天元半径，即股率也，置甲东行，为大勾，以股率乗之得□合以勾率除之，不受除，便以此为大，股【内带勾率分母】，再置天元以二之以勾率乗之得□□减于大股，余□□为股，圆差于上【，内有勾率分母】，又以二之天元减甲东行，得□□为小差，以乗上位得□□，□为半段，黄方幂，【内有勾率分母】寄左，然后以天元自之，又以勾率乘之，又就分，倍之，得□□，□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问。
或问乙出东门，南行三十步而立，甲从干隅，东行三百二十步，望乙与城叅相直，问答同前。
法曰：甲乙相乘为实，甲东行，为从二虚法，得半径草，曰识别，具见大股第二问中立，天元为半径，内减乙南行得□□，为虚股以乘通勾甲东行，得□□为半段，城径幂，【寄左】，然后以天元自之，又就分二之得□，□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问。
或问乙出南门，直行一百三十五步而立，甲从干隅，东行三百二十步，望见乙问答同前。
法曰：以乙南行，乘甲东行，幂为实二之，乙南行，乘甲东行，为从方亷空二步常法，得半径。
草曰：立天元一为半城，径以二之加于乙南行，得□□为股，率以天元减甲东行，得□□为勾率，乃置乙南行，以勾率乘之，得□□合股，率除不除，便以此为小勾，此即半梯之头，【内带股，率分母】，又以勾率乘之，得□□□，为半径幂，【内股，率分母】寄左，乃以股率乘天元幂得□，□□为同数，与左相消得□○，□□开立方，得一百二十步，倍之，即城径也，合问。
或问乙出南门，东行七十二步，甲从西北隅，取直行三百二十步，见乙问答同前。
法曰：二行相乘为实，以东行为从一步常法，得半径草曰：立天元一为半城，径以减甲东行步得□，□为梯底，以乙东行，七十二步，为梯头以乘之，得□□为半径幂，【寄左】，然后以天元幂，与左相消得丨□□，以平方开之，得一百二十步，倍之，即城径也，合问。
或问乙从西南隅，直东行一百九十二步，甲从西北隅，直东行三百二十步，望见乙问答同前。
法曰：二行步相乘为实，二行相并为法，得半径草曰：立天元一为半径，副置之上，以减于乙东行，得□□为梯头于上下位，减于甲东行，得□□为梯底，以乘上位，得丨□□，为半径幂，【寄左】，然后以天元幂，与左相消得□□，上法下实，即半径也，合问。
或问乙从坤隅，直南行三百六十步而止，甲从干隅，直东行三百二十步，望见乙问答同前。
法曰：二行步相乗倍之为实，二之甲东行，为从一步常法，得城径。
草曰：立天元一以为城，径加一南行，得□□为股，二行步相并，得六百八十步，为甲东行，为勾勾股相乘，得□□又倍之，得□□为二直，积【寄左】，然后以勾股相并，得□□为三事，和以天元乘之得丨，□为同数，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问东门南，不知逺近有树甲从干隅，东行三百二十步，望树与城叅相直，复就树斜行一百七十步，至树问答同前。
法曰两段，东行步幂，内减两段，东行，斜行相乗数为实【按，或云倍东行步，以二行差，东之亦同】，二之东行，为从一益隅，得城径草曰：别得东行步，即大勾斜，行步即小也，乃立天元一为城，径减东行步得□，□为勾圆差也，【今为小勾，】置东行步，以斜步乘之，得□合以小勾除之，今不受除，便以此为大，【内带小勾分母】，再置东行步，以小勾乘之，得□□为大勾，以减大，得□□为大差，合以小差乗之【縁内带小差分母，】更不湏乗便以此为半段，黄方幂，【更无分，母】又二之，得□□为一段，黄方幂，【寄左】，然后以天元幂，与左相消得□□，□开平，方得二百四十步，即城径也，合问。
依前问，假令乙出东门，南行，不知步数而止，甲从干东行三百二十步，望乙与城相直，复就乙斜行一百七十步。
法曰：以甲东行，乘二行差，幂为实，以甲东行，乘二之二行差，为从方二之二行，差为隅法得半径。
草曰：识别得二行相减，余一百五十，即半城，径与乙南行共数也。得此数更不湏用，斜立天元一为半径，减于二行，差得□□，即半梯头也，又以二天元减甲东行步得□，□为勾率，又以一百五十为股率，乃置甲东行，以股率乘之，得□合勾率除不除，便以此为大，股【内寄勾率分母】，再置天元以勾率乘之，得□□以减于大股，得□□，□为半梯，底也头底相乘，得下□□，□□为半径，幂也，【内带勾率分母】寄左，然后以勾率乘天元幂得□，□□为同数，与左相消得□□，□开平方得一百二十步，倍之，即城径也，合问。
或问南门东，不知逺近有树甲从干隅，东行三百二十步，见树复向树，斜行二百七十二步，至树问答，同前法曰：二之二行，差乘二之甲，东行为实，并二之，二行差及二之甲东行，为从二步，益隅得城径。
草曰：别得二行相减，余四十八步，即虚积之勾也，立天元一为城，径内减二之二行，差得□□，为梯头于上，置甲东行，步以二之，内减天元得□，□为梯底，以乘上位，得□□□为城，径幂，【寄左】，然后以天元幂，与左相消得□□，□开平，方得二百四十步，即城径也，合问。
或问：甲从干隅，东行三百二十步而止，乙出南门直行，不知步数，望见甲复就甲斜行四百二十五步，与甲相防问答同前。
法曰：二行步相减，以乘东行，幂得数，半之为实，以半之，东行步乗东行步于上，二行步相减，余乗东行步减上位，为从二之东行步为益，亷一步常法，得半径草，曰识别得二行相减，是髙积上勾股较【，此勾即半径也，】又别得是髙不及股，圆差数，乃立天元为半城，径以减东行步得□，□为中勾其斜，行步即中也，又置半城，径以斜步乗之得□合，以中勾除之，不受除，便以此为髙【内寄中，勾为母】，又以二行步相减，余一百五步为髙不及股，圆差数置此数以中勾乘之，得□□加入髙得□□为大差于上，【内带中，勾分母】又倍天元减，东行步得□，□为小差，又半之，得□□以乘上位，得□□□，为半径幂，【内有中，勾分母】寄左，乃以天元自乗又以中勾乘之，得□□，□为同数，与左相消得□□，□□以立方开，得一百二十步，倍之，即城径也，合问。
或问：甲乙二人俱在干隅，乙直南行，不知步数，而立甲直，东行三百二十步，望见乙复就乙斜行六百八十步，与乙相防问答同前。
法曰：以二行差乘，甲东行步，又二之为实，以二之二行差，为从一步常法，得城径。
草曰：别得二行步相减，余三百六十步，即股圆差也，乃立天元一为圆，径以减于甲东，行步得□，□为小差，以东行斜行差，三百六十步乘之，得□□倍之，得□□为一段，城径幂，【寄左】，乃以天元幂，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问东门外，不知逺近有树甲从干隅，东行三百二十步，望树与城叅相直，复就树斜行一百三十六步，至树问答同前。
法曰倍，二行相减数，内减甲东行，得数，复以乘甲东行为实，【按，或云倍斜步，以减甲东行，余以甲东行乗之亦同】倍，二行差，为从二步虚常法，得半径。
草曰：识别得斜行步乃树，至城心步也，立天元一为半径，加斜行步得□，□即树至城西门之步也，乃以减于甲东行得下，□□为小勾，率其天元半径即小股，率其斜步即小数也，再置甲东行步内，减天元得□□，为梯底于上，又置梯底，内减二之小，勾率得□，□【按倍，小勾得三百六十八步，少二元以少二元减，梯底之少，一元反为多，一元以三百六十八步，减梯底之三百二十步，反为少四十八步也，】以乘上位，得□□□，为半径幂，乃以天元幂，与左相消得下式，□□□，以平方开之，得一百二十步，倍之，即城径也，合问。
或问南门外，不知步数，有槐一株，甲从干隅，直东行，至柳树下，望见槐树，复斜行至槐树下，甲自云，我共行了，七百四十五步，乙从，坤隅南行，望见槐柳，与城叅相直，复斜行至槐树下，乙自云，我南行步多于斜，行步一百五步。
按此问下有草无法今依细草补之
法曰：置甲共步内减乙较步余数，折半自之，再倍乙较步乗之为立方实，置上减，余折半数，又减二之乙，较步复以减，余折半数乗之为从甲，共步内减乙较步为亷五分为负隅，开立方得，城径。
草曰：识别得一百五步，是大差，多于髙数又为髙上勾股差数，又别得是甲，斜行多于东行数也，乃副置甲共行，七百四十五步，在地其上位，加一百五步而半之，得四百二十五步，即甲斜行也，其下位减一百五步而半之，得三百二十步，即甲东行也，乃立天元一为圆，径以半之，减于甲东，行步得□，□为中勾，其甲斜行四百二十五步，即中也，再置天元以半之为小勾，以中乘之，得□合以中勾除不除，便以为髙于上【内中，勾分母】别置乙多步一百五步，以中勾乘之，得□□为大差，多于髙数也以加入上位，得下式，□□为一个大差也。置甲东行，以天元减之，又倍之，得□□为二个小差以乗大差得下，□□□为一段，黄方幂，【内带中，股分母】寄左，然后置天元幂，丨□以中勾通之得□□，□与左相消得□□，□□开立方得，二百四十步，即城径也，合问。
或问出东门直行，不知步数，有槐树一株，出南门东行，不知步数，有柳树一株，槐栁斜相距一百五十三步甲从干，东行三百二十步，望槐柳与城防相直，问答同前。
法曰：二行相乘讫，又以乗甲东行幂为实，斜行乗甲东行幂，又三之为从方，甲东行幂，内减两段，二行相乘，数为第一，亷二之甲东行，为益二亷二步常法，开三乗方得半径。
草曰：立天元一为半，径以二之，减于甲东行，得□□为小差以自之，得□□，□加于甲东行，幂复半之，得□□，□为大，【内寄小差分母】，又置斜相距步，以大勾乘之，得□合大除不除，便以此为小勾，【内大分母，】乃以天元减甲东行，数得□□，为半梯底，以乘小勾半，梯头得□，□为半径，幂于上，此半径幂，内有大分母，此大分，母元小差分母，故先用小差分，母以乗上半径幂，得□□，□为半径，幂也，内本大分母，【寄左】，然后以大乘天元幂得□，□；□，□为同数，与左相消得□□，□；□，□开三乗方得一百二十步，即半城径也，合问。
或问：甲从干隅，东行三百二十步而止，丙出东门，南行，乙出东门，直行各不知步数而立甲廻望，乙丙，悉与城叅相直，既而乙就丙斜行三十四步，相防问答同前。
法曰甲东行，再自之于上，以二之斜行步，乘甲东行，幂减上位，为立方实两段，南行幂，内减东行，斜行相乘，数为益从，以甲东行，加五【按加五，即加半】，为从亷五分虚隅得全径。
草曰：立天元一为城，径以减于甲东，行步得□，□为小差以自之，得丨□□为小差，幂也，乃置甲东行，幂内加小差，幂而半之，得□□□，为大也，【内带小差分母】，又置甲东行幂，乃减小差，幂而半之，得□□○，为大股也；【内带小差分母，】乃置斜行步在地，以大股乘之，得□□合，以大除之不除，而又倍之，得□□为梯头也，【即两个小股内寄大，为母权寄】，乃置天元圆，径以半之，以小差分母通之，得□□以减于大股，余得□又倍之，得□为梯底也，【即两个边股内亦有小差，分母】以乘权，寄得□□，□为城，径幂也，【内寄大及小差分母】寄左，然后以天元自之为幂，以大通之，又以小差通之，得□□□，□□为同数，与左相消得□□，□□开立方得，二百四十步，即城径也，合问。
依前问，假令东门外有树，乙出东门，南行，不知步数而立【，只云树去城步少于乙南行步，】甲从干隅，向东行三百二十步，望乙与树悉与城叅相直，乙复就树斜行，三十四步，到树问答同前。
法曰：甲东行自之，又以斜步乘之，为立方实，置半段甲东行幂于上，以斜步乗甲东行减上位，为从亷空半步常法，得勾圆差。
草曰：别得乙斜行，即□也，□得小勾股即大股，较也，乃立天元一为勾，圆差以自之，为幂副之，上以加于甲东行，幂而半之，得□□□，为大也，【寄小差分母，】下以减于甲东行，幂而半之，得□□□，为大股也；【寄小差分母，】乃置斜步，以大股乘之，得□□□，合大除不除，便以此为小股，【寄大分母，】又置斜步，以甲东行乗之得□合大除不除，便以此为小勾，而又以通母分通之，得□为同分，小勾也，【寄大，分母】注，【大股乘时有小差分母，今大勾无母，故又以齐同之】，又置斜步，以大通之，得□□，□为同分，小也，三位相并，得□□为勾，圆差也，【寄左】，然后置天元以大通之，得□○，□为同数，与左相消得□○，□□开立，方得八十步，即勾圆差也，以勾圆差减于甲东，行步余二百四十步，即城径也，合问。
或问南门外，不知步数有树，甲从干东行三百二十步而立，乙出西门，便南行望树及甲与城叅相直，却就树斜行二百五十五步，至树问答同前。
法曰：二行相乘于上，以半之，甲东行乗之为实二行相乘，于上又半之，甲东行，以乘甲东行，加上位为益，从甲东行，为从亷一步虚法，开立方得，半径。
草曰：立天元一为半径，便以为小勾，其斜行，即小也，乃以甲东行为大勾，以小乘之，复以天元除之，得□□，即大也，又倍天元减，东行余□□为小差，以减大，余□□□，为大股也；又倍天元以减股余，□□为大差也。却以半小差，□□乗之得下式□□，□为半径幂，【寄左】，乃以天元幂，与左相消得丨□□，□开立方，得一百二十步，倍之，即城径也，合问。
或问南门外，不知步数，有槐树，一株东门外，不知步数有柳树一株，槐柳相距二百八十九步甲从干，东行三百二十步，斜望槐柳，与城叅相直，问答同前法曰：二行相乗得数又自增乘为实，斜行幂，乘甲东行，又倍之为益，从两行相乘，又倍之为益亷二之斜步为第二，亷二步常法，开三乘，方得栁至城，心步草曰：别得柳至城，心步即甲立处，柳树步也，立天元一为柳至城，心步加斜，步得□□为底，以天元乘之得丨，□○合斜，步除不除，便以此为底，勾【寄斜步分母，】乃再置通勾，以斜步乘之，得□为带母通勾，内减底勾余□，□□为半径以自之，得丨□□，□□为半径，幂内带斜，步幂分母，【寄左】，乃以天元减斜步得□，□为明，以天元乘之，得□□合斜，步除不除，便以此为半梯，头【寄斜步为母，】复以底勾半梯底乘之，得□□□，□为同数，与左相消得□□，□；□，□开三乘方得一百三十六步，即柳至城，心步也，合问。
或问：甲从干隅，东行三百二十步而立，乙出城东行，丙出城南行，三人相望，俱与城相直，乙丙，共行了一百五十一步，问答同前。
法曰：以甲东行，为幂折半，又以自之，为三乘方实，倍共步加甲东行以乗半段甲行幂，为从方甲行乗共数为从亷甲东行加五为第，二益亷二分五厘，常法得小差。
草曰：别得乙丙，共行步即明股，□勾共也，立天元一为小差以自之，副置二位，上位减于甲东行，幂以天元除之，又折半得□○，□即大股也；下位加甲行幂，以天元除之，又折半得□，○□为大也，其甲东行，即大勾也，并大勾，大股得□□□，即大和也，再立天元以减，甲东行步得□，□即圆径也，以圆径加共行步，得□□即皇极，和也，【即小和，又为髙平共数】，又倍之，得□□，即黄长，黄广共也，内减大得下式，□□□为皇极，内小黄方也，【亦为虚，】再置，大和□□□，以小黄方乘之，得下式□□，□□□合，以小和除之不除，便以为城，径内寄小和为母，【寄左】，然后天元减甲东行，得□□为大黄，方以小和乘之，得丨□□为同数，与左相消得□□，□；□，□开三乗方得八十步，即小差也。以小差减甲东行余二百四十步，即城径也，合问。
或问：丙出南门，东行乙出东门，南行，各不知步数而立，甲从干隅，东行三百二十步，望乙丙悉与城防相直，乙就丙斜行一百二步，相防问答同前。
法曰甲东行，自之于上，倍斜行步乘之，为立方实倍，斜行步乘，甲东行于上，加两段，甲东行幂，为从四之甲，东行为益亷四为隅法，得半城径。
草曰：别得斜步即虚减于全径，即小和也，乃立天元一为半，径以二之，减于甲东行，得□□为小差，也以自之，得□□，□为小差，幂也，置甲东行，幂内加小差，幂而半之，得下□□，□为大，【内带小差分母，】置甲东行幂，内减小差，幂而半之，得□□为大股也；内亦带小差为母，又以小差乘大勾，得□□并入大股，得□□□，为大和也，【带小差，母】乃先以小乗大和得下，□□□寄左，次以斜步减于二天元得□□，为小和以乗大得下，式□□□，□为同数，与左相消得□□，□□开立方，得一百二十步，即半城径也，合问。
依前问，假令乙出东门，南行，丙出南门，东行各不知步数而立【只云，丙行多于乙，行步】甲，从干隅，东行三百二十步，望乙丙与城防相直，其乙丙共行一百二步，问答同前，法曰倍共步以乗甲东行幂，为立方实，共步乗甲东行于上，又以甲东行自之，加上位为益，从甲东行，为从亷五分隅常法，得城径。
草曰：别得共步，便为小，得小勾小股，即与圆径，同立天元为城，径以减乙东行，得□□为小差以自之，得□□，□为小差，幂也，乃置甲东行以自之，为幂副之，上以加小差，幂而半之，得□□□，为大也，【内寄小差分母】下，以减小差，幂而半之，得□□○，为大股也；【内寄小差分母，】乃置共步在地，以大股乘之，得□□合，大除不除，便以此为小股也；【寄大分母，】又置共步，以甲东行乘之，得□合以大除不除，便以此为小勾，而又以元分母小差乘之，得□□为同分小勾，【只寄大分，母】注【，其大内，元带小差分母，其大勾内，却无分母，故母故，今复以小差通之齐同，其分母也，】又置共步，以大通之，得□□，□同分小也，三位相并，得□□为城，径也，【内有大分，母】寄左，然后置天元城径□，以大分母通之，得□□□，○为同数，与左相消得□□，□□开立方得，二百四十步，即城径也，合问。
测圆海镜卷六
<子部,天文算法类,算书之属,测圆海镜>
钦定四库全书
测圆海镜卷七
元 李冶 撰
明□前一十八问
或问出南门，东行七十二步，有树出东门，南行三十步，见之问答同前。
法曰倍南行，以乘倍东行为平实，并二行又倍之，为从一虚隅，得城径。
草曰：识别得此问，名为外容，圆又为内率，求虚积其二，行步相并为虚，若以相减，即虚较也。又倍东行，为较和，倍南行，即较较，此二数相乘，则两虚积也，若直以二行相乘，则半个虚积也，又倍东行，减于城径，余即二虚勾也，倍南行，减于城径，则二虚股也；虚积上三事，和即城径也，乃立天元一为圆径，便以为三事，和也，倍二，行步减之，得□□为黄方一，天元乘之，得□□为二虚积，【寄左】，然后倍东行以乗倍南行得八千六百四十为同数，与左相消得丨□，□益积开平，方得二百四十步，即城径也，合问。
又法：二行步相乘为实，二行步相，并为从一步虚，法得半径。
草曰：立天元一为半径，副置二位，上加东行步得□，□为大差，勾下加□股，得□□为小差，股此二数相乘，得下式，丨□□为半段，黄方幂，【寄左】，然后立天元以自之，又二之与左相消得丨□，□益积，开平方得一百二十步，即半城径也。
又法：二云数相乘，倍之于上，加云数差，幂权寄并二，云数又自增乗得数内减上位为平实，并云数而倍之，为从二步，益隅得半径。
草曰：立天元一为半径副之，上减明勾得下，□□为虚，勾下减□股得□，□为虚股，勾股相乘，得丨□□又倍之，得□□□，又加二行差幂，□得□□，□为幂，【寄左】，然后并云步以自之，得□为同，数与左相消得□□，□益积，开平方得一百二十步，即半城径也。
又法：云数相乘，又倍之为平实，云数相减，为从一，常法得虚勾。
草曰：立天元一为虚，勾以南行减东行余四十二步，为虚较也。以虚较加，天元得丨，□为虚股，以天元乘之得下，丨□为直积，【寄左】，然后倍南行，乘东行，得□与左相消得丨□□开平，方得四十八步，即虚勾也，以勾除积，得九十步，即虚股也；并勾股得□，为虚和也，内加入二行并□，得□即圆径也。
又法：并两行步，以自乘于上，又倍南行，乘倍东行，加上位为平实一隅，法得小和。
草曰：立天元一为小和，并二行步加之，得□□为三事，和也，倍二，行步而并之，得□，以减三事，和余□□为黄方，却以三事和乘之，得下丨□，□为二虚积也，【寄左】，乃倍南行，以乘倍东行，得□为同，数与左相消得丨□□，开平方得一百三十八步，即虚和也，加入二行步，得二百四十步，即城径也，合问。
或问：丙出南门，直行一百三十五步而立，甲出东门，直行一十六步，见之问答同前。
法曰：以丙行步一百三十五步再自之，得二百四十六万零三百七十五于上，又以甲行步一十六乘，丙行，幂一万八千二百二十五，得二十九万一千六百，以乘上位，得七千一百七十四亿四千五百三十五万，为三乘方实，以二行步相乘，又倍之，得四千三百二十以乘丙，行步再自之数，得一百六亿二千八百八十二万为益，从第一亷空以甲行乘，丙行，幂得二十九万一千六百，又倍之，得五十八万三千二百于上，四之甲，行幂一千零二十四，以乘丙行步，得一十三万八千二百四十减上位，余四十四万四千九百六十，为第二亷二行步相乘，得二千一百六十为虚，常法得丙，行步上勾，差八十一。
按法中载数自此始，亦择其数，繁者详之，使人易晓也。
草曰：识得二数相并，以减于皇极，余即虚，勾虚股并也，若以二数相减，余为髙内减平，又为皇极，内少个小差，又为大差，内减个皇极，也，立天元一为丙，行大差数置丙，行步一百三十五，自乘得□，用天元除之，得□□为勾并也，上减天元得□□，□为二丙勾也，复用丙南行乘之，得□□□，为二积也，又以天元除之，得□□，○□为丙，勾外容圆径，【泛寄】，别置丙南行，用二甲勾乘之，得□合用二丙，勾除之，不受除，便以此为甲，股【内寄二丙，勾为分母，】复用二甲，勾三十二乘之，得□为二个，甲直积也，又置丙南行，内减天元得□□，为黄方以自乘，得丨□□，为丙上勾，差乘股，差二段，以天元除之，得□□，□为两个，丙小差也，乃用甲股乗之得下式，□□□复用，丙南行除之，得□□□，又折半得□，□□为一个，甲步股差也，内亦带前二，丙勾，分母复置二个，甲直积内，已寄此甲股，差分母，便为甲步股外容，圆径【寄左，】乃再置，先求到泛寄【按，即前所寄□□，○□之数，】用甲股，差分母乘之，得□□○，□□为同数，与左相消得下式，□□○□，□开三乗方得八十一步即丙步上，勾差也，钤经载此法，以勾差率，幂减丙行差，幂复以丙行乘之为实，以差率幂为法，如法得径此法，只是以勾外求容，圆半合，以大差除陪积，而今皆以大差幂，为分母也，依法求之，勾差八十一自之，得六千五百六十一，以减于丙，行幂一万八千二百二十五，余一万一千六百六十四，复以丙行一百三十五乘之，得一百五十七万四千六百四十为实，以大差幂六千五百六十一为法，如法得二百四十步，即城径也。
又法：二行相乘，得数又自之，为三乘方实，并二行步以乗二行相乘，数又倍之，为从二行相并，数以自乘于上，又二行相减，数自乗减上位为第一，亷第二亷空一益隅，益积开之，得半径【，其第一亷只是四段二行相乗数】。
草曰：立天元一为半城，径副置之，上加南行步，得□□为股下位，加东行步得□，□为勾勾股相乘，得丨□□，为直积一段，以天元除之，得丨□□，为以自之，得丨□□，□□为幂，【寄左】，乃以勾自之，得丨□□，又以股自之，得丨□□二位相并，得□□，□为同数，与左相消得丨○□，□□益积，开三乘方得一百二十步，即半城径也。
又法条段同前
草曰：以前求得勾股率置出南门，步为小股，以勾率乘之，得□□合，以股率除不除，寄为母，便以此为半，梯头于上，又置南行步，加二天元得□□为大股，以勾率乘之，得□□□，合以股率除不除，寄为母，便以此为梯底，以乘上位，得□□□，□为半径，自乘数内带股，率幂为母，【寄左】，然后置天元以自之，又以股率幂乘之，得下丨□□，□为同数，与左相消得数一如前答。
又法：以二行差幂，数自乗又倍之为实，并二行步，以乘二行差幂，又四之为益从四段，南行幂，内减二段，差幂于上，又二段差幂，内减四段，东行幂余，以减上位，【按并二行幂，减二行差，幂四因之，亦同】为第一，亷四之二行，共为第二，亷二步虚法，益积开之，得皇极二百八十九，草曰：立天元一为皇极，以自之，为幂于上，以二行步相减，余□以自之，得□为较幂，以减上得丨，□□为二直，积复以天元除之，得□○，□为一个，城径也，副置之上位，加二之东，行步得□，□□为二勾也，以自增乘，得丨□□，□□为四段，勾幂于上下位，加二之南行，得□□□，为二股也；以自增乘，得丨□□，□□为四段，股幂也，并入上位，得下式，□□□□，□为四段幂，【寄左】，然后以天元为幂，四之为同，数与左相消得下式，□□□□，□益积开三乘，方得二百八十九步，即皇极也， 欲见城径者，别立天元，半径副之，加东行为勾，加南行为股，勾股各为幂，并之与，幂相消开，方得城径也。
又法：以二行差，一百一十九自乘，得一万四千一百六十一，为差，幂以东行步乘之，得二十二万六千五百七十六，为泛率，又自增乗得五百一十三亿三千六百六十八万三千七百七十六为五乘，方实倍东行步，得三十二，以二行差，一百一十九乘之，得三千八百八为小泛，以乘泛率，又倍之，得一十七亿二千五百六十，○万二千八百一十六为从方，并两行而倍之，得三百二，以乘泛率，得六千八百四十二万五千九百五十二于上位，以小泛幂，一千四百五十万，○○八百六十四，加入上位，共得八千二百九十二万六千八百一十六，为第一亷并两行而倍之，得三百二以乗小泛得一百一十五万，○○一十六，为寄数倍，二行差，以乘差幂，得三百三十七万零三百一十八，内减寄数，余二百二十二万零三百零二为第二亷六段二行差，幂八万四千九百六十六，内减二行并数，幂二万二千八百一，余六万二千一百六十五为第三，益亷六之二行，差七百一十四，为第四益亷二步虚法，得□三十四步。
草曰：立天元一为皇极，上股差【，即东行步上，斜也亦谓□斜】，以元加二行差，得□□，即明也，【此即皇极，上勾差也，】以天元乗之又倍之，得□□，□即皇极，内黄方幂也，【泛寄】，置皇极，上勾差以东行步乘之，得□□，以天元除之，得□□为明勾也，又置天元以南行乘之，得□□合用明，除不除，寄为母，便以此为□股于上，【寄明母，】乃再置明勾，以明乘之，得□□□，亦为带分明，勾加入上位，得□□□，即是一个虚也，以自增乘，得下式□□□，□□为一段，虚幂也，内带明幂，分母【寄左】，然后置明以自之，得丨□□，为明幂，以乘泛寄，得□□□，□为同数，与左相消得下式，□□□，□，□，□，□开五乗方得三十四步，为东行步上，斜步也，【即□】，其东行十六步，即□勾也，勾各自为幂，以相减，余九百步，开方得三十步，即□股也；既各得此数，乃以股外容圆半法，求圆径，得二百四十步，即城径也，合问。
按此草又法求□，至开带，纵五乘方法愈繁，数愈赜而天元一之用，愈见其妙，苐所得带，纵五乘方亷隅积数虽具，而未习其法者，不能信其数之必然，今姑取已得之□，数按亷隅数推其积数，以明其数之无可疑焉。置五乘，方数二，以□三十四乘之，得六十八，与四乘方数七百一十四，相加，得七百八十二，又以□乘之，得二万六千五百八十八，与三乘方数，六万二千一百六十五相加，得八万八千七百五十三，又以□乘之，得三百零一万七千六百零二，与立方数二百二十二万零三百零二相加，得五百二十三万七千九百零四，又以□乘之，得一亿七千八百零八万八千七百三十六，内减所少平方数八千二百九十二万六千八百一十六，余九千五百一十六万一千九百二十，又以□乘之，得三十二亿三千五百五十万零五千二百八十，内减所少元数十七亿二千五百六十万，零二千八百一十六，余十五亿零九百九十万零二千四百六十四，又以□乗之得五百一十三亿三千六百六十八万三千七百七十六为积数，与草中积数合【，此即无次商带，纵五乘方法】。
或问出东门一十六步，有树出南门，东行七十二步，见之问答同前。
法曰：二行步相减，得数以自之于上，又以出东门步自之，减上位为平方实，二之出南门，东行步为益，从一步常法，翻开得半径。
草曰：别得人到树，即平也，半圆径，即平股也；其东行七十二步，则平勾平差也，乃立天元一为半径，加一十六，减七十二，得□□为勾也以自之，得丨□□为勾幂，又加入天元股，幂得□□，□为幂，【寄左】再立，天元一为半径，加出东门，步得□□，即也以自之，得丨□□为同数，与左相消得□□，□翻法开之，得一百二十步，即半城径也，合问。
或问出南门一百三十五步，有树出东门，南行三十步，见之问答同前。
法曰：树去城步内减南行步，余以为幂于上，又以树去城步为幂，内减上位为平实倍树，去城步为从一虚隅翻法，得半城径。
草曰：别得人距树即髙也半圆径即髙勾也其南行三十步即髙上小差也，乃立天元一为半径，加树去城步为，内减小差，□得□□，即股也以自之，得丨□□为股，幂内加入天元幂，得□□，□为幂，【寄左】，再置□□自之，得丨□□为同数，与左相消得丨□□翻开，得一百二十步，即半城径也，合问。
或问乙出东门，不知逺近而立甲出南门，东行七十二步，望见乙就乙斜行一百三十六步，与乙相会问答，同前。
法曰：以斜行步，自之于上，以二行相减，余自为幂，减上位为平实，从空一步，常法得半径。
草曰：别得七十二步，即大差也。斜行即半径即股也；立天元一为半，径以自之，为股幂，又以二行差六十四以自之，得□为勾幂，并二幂得丨，□□为幂，【寄左】，然后以斜行步自之，得□为同，数与左相消得丨□□，开平方得一百二十步，倍之，即城径也，合问。
或问：甲出南门，不知逺近而立乙出东门，南行三十步，望见甲，却就甲斜行二百五十五步，与甲相防问答同前。
法曰：二行差自之为幂，以减于斜行幂，为平实一虚，隅得半径。
草曰：别得南行步即股，差也，斜步即也，半径即勾也，乃立天元一为半城，径以自之，为幂，以二行相减，余二百二十五以自之，得□为股幂，二幂相并，得丨□□为幂，【寄左】，然后以斜行自之，得□为同，数与左相消得下丨，□□开平，方得一百二十步，即半径也，合问。
或问：甲出南门东行，不知步数，而立乙出东门，南行三十步，望见甲斜行一百二步，相防问答同前。
法曰：二行相乘，四之于上，又加入斜行幂，为平实得虚，和一百三十八。
草曰：别得斜步内减南行为甲，东行步也，此问以外，容圆入之，以二行相减，数乘乙南行三十步，得□，又四之得□，为二直积也，又加入斜步幂，□共得□，即和幂也，平方而一，得一百三十八步，即虚和也，又加斜步，得二百四十步，即城径也，合问。
或问乙出东门，南行，不知步数，而立甲出南门，东行七十二步，望见乙斜行一百二步，与乙相防问答同前，法曰倍相减，步以乘倍东行，得数，复以减于斜步，幂余为实，平方而一，得较也。又以二行相减数乘，倍东行为平实，以较为从方，得勾勾较共为长，又以斜步并入勾股，共即城径。
草曰：别得二行相减，余□为乙南行步也，以此数又减于甲东，行余四十二步即较也，乃以二行相减数，□乘倍东行，得□为平实以较，为从平方开，得四十八即勾也，勾内加较得九十步，即股也；勾股，共得一百三十八，又加入斜步，共得二百四十步，即城径也，合问。
或问乙出南门，东行，甲出东门，南行两相望见，既而乙云，我东行不及城，径一百六十八步，甲云，我南行不及城，径二百一十问答，同前。
法曰：半甲不及步以自之，为幂半甲，不及步内，减云数差以自之，为幂，二幂相并，内却减差，幂为平实二之，乙不及为益，从三步半虚法，得甲南行。
草曰：别得乙不及为虚，勾半径共又为径内减明勾也，甲不及为虚，股半径共又为径内减□股也；又二云：数相并为虚，和圆径共也，云数相减，即虚较也。乃立天元一为甲南行，以减于甲，不及步，又半之，得□□为虚股也；虚股内减虚，较得□□为虚，勾勾自之，得□□□，为勾幂也，又股自之，得下式□□，□为股幂也，二幂相并，得□□，□为幂，【寄左】，然后以天元加虚较，得□□为乙东行，又加入天元甲南行，得□□为虚，以自之，得□□，□为同数，与左相消得□□，□开平，方得三十步，即甲南行也，内加少步，即城径也，合问。
或问：丙出南门，直行甲出东门，直行两相望见，既而丙云我行少于城，径一百五步，甲云，我行少于城，径二百二十四步，问答同前。
法曰：二少歩相乘讫，又自乗为实六之，共步乘云数相乘，数为益从十八之云：数相乘，数于上，又三之，共步自乘，加上位内复减丙，少步幂，甲少步幂，为从亷四十八之共步为益二亷六十三步，常法翻，法开三乗方得一百二十步，即半径。
草曰：别得云数共减于倍城，径为甲，丙共数又云，数相减，即皇极差，亦为甲行不及，丙行数立，天元一为半城，径以三之，副置二位，上位减丙少步，得□□为皇极，股也；下位减甲少步，得□□为皇极，勾也，勾股相乘，得□□□，以天元除之，得□□，□为也，自之，得□□□，□□为幂，【寄左】，然后以股自之，得下□□，□为股幂于上，又以勾自之，得□□，□为勾幂，并以加入上位，得□□，□为同数，与左相消得□□，□；□，□翻法开三乘方得一百二十步，即半城径也，合问。
或问：甲出东门直行，丙出南门，直行各不知步数而立，乙望见甲，就甲斜行了二百八十九步，与甲相防，其二直行共一百五十一步，问答同前。
法曰斜幂，内减共步，幂为平实，倍共步内减斜步为从一，常法得径。
草曰：别得共数城，径并即皇极，和也，立天元一为圆径，加共步得□，□为皇极，和以自之，得丨□□于上，以斜行幂，□减上位，余丨□□为二直，积【寄左】，然后以天元乘斜步得□，□与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问：甲出东门，直行乙出东门，南行，丙出南门，直行丁出南门，东行各不知步数而立，四人遥相望，悉与城叅相直，只云：甲丙，共行了一百五十一步，乙丁立处相距一百二步，又云：丙直行步，多于甲直，行步问答，同前。
法曰共步，距步相减，得数自之于上，以共步为幂，内减上为平实二之，距步内减共步距，步差为从一步虚法，得城径。
草曰：别得共步得城，径即皇极，和也，相距步即虚也，皇极和内减虚，即皇极也，又共步距步差□，即皇极，内减城径也，【此名旁差】，乃立天元一为城，径加共步，得□□为皇极，和也以自之，得丨□□于上，以共步距步差，□加天元，得□□为皇极，也以自之，得下式，丨□□减上位，余得□□为二直，积【寄左】，然后以天元径乘皇极，得丨□为同数，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问：甲出南门东行，不知步数，而立乙出东门，南行，望见甲复就甲斜行，与甲相防，乙通计行了一百三十二步，其乙南行步不及，斜行七十二步，其甲东行，多于乙南行问答同前。
法曰倍不及步，在地以不及步减，通步以乗之为实以四之不及步为法，得乙南行三十步。
草曰：别得乙南行，即□股也；以减通步，即虚也，以减不及步，即虚较也。其不及步即甲东行也，立天元一为乙南行，置不及步，以天元乘之，又四之，得□为二直，积【寄左】，然后倍不及步，以为较和于上，□以不及步减，通步得□，为较较以乗上位得□为同，数与左相消得□□上法，下实得三十步，为乙南行也，余各以数求之。
又法：别得通行，步为两个，乙南行一个甲东行共也，其不及步即东行步也，云步相并，即两个虚相减，即两个乙南行也。
或问：甲出南门东行，不知步数，而立乙出东门，南行，望见甲复斜行与甲相防，二人共行了，二百四步，又云：甲行不及，乙一百三十二【，按甲不及，乙六十步，非一百三十二步，当云甲行不及共步方合】问答同前。
法曰：别得二行，共即两个虚也，其不及步即乙南行与一虚共也，置不及步，内减一，余三十步，即乙南行也，以乙南行反，以减虚，余七十二步，即甲东行也，以乙南行，减甲东行，余即虚较也。 此问无草。
按右二问语若浅近然以发明加减乘除相通之
义最为深切集中仿此者可类推之
或问乙出东门，南行，甲出西门，南行，甲望见乙斜行五百一十步，相防乙云，我南行少于城，径二百一十步，问答同前。
法曰少步，幂为平实四，斜步内减二少步为益，从五步常法，得乙南行。
草曰：别得少步为径，内减叀股，立天元一为乙南行，以二之，减于倍斜，行步得□，□为梯底也，以二之天元乘之，得□□为径幂，【寄左】，再置天元加少步，得下式，□□为城，径以自之，得丨□□，与左相消得□□，□开平，方得三十步，即乙南行也，加少步即城径也，合问。
或问乙出南门，东行，甲出北门东行，甲望见乙斜行二百七十二步，与乙相防，乙云：我东行不及城，径一百六十八步，问答同前。
法曰：以不及步，幂之为实，四斜，内减二之不及步为虚，从五常法平实，开得乙东行七十二。
草曰：别得不及步为城，径减明勾也，立天元一为乙东行以倍之，减于二之斜，行步得下，□□为梯底也倍，天元乘之，得□□为径幂，【寄左】，再置天元加不及步得，□□为城，径以自之，得丨□□为同数，与左相消得□□，□开平，方得七十二步，即乙东行也，加入少步，即城径也，合问。
或问乙出南门，东行丁出东门，南行却有甲，丙二人共在西北隅，甲向东行，丙向南行，四人遥相望见，俱与城叅相直，既而相防，甲云：我多乙二百四十八步，丙云，我多于丁五百七十步，问答同前。
法曰：二多步相乗为平实并二，多步而半之，为从七分半，常法得城径。
草曰：别得甲多步为大勾，内减明勾也，丙多步为大股内少叀股也，又乙东行得一虚，勾为半径，丁南行得一虚股为半径，又二多数相并，得□为大和内，少虚也，又二多数相减，余□为两个角差，又甲多步内减半径，即勾方差也，丙多步内减半径，即股方差也，立天元一为城，径以半之，减于甲，多步得□，□为勾方差，又以半径减于丙，多步得□，□为股方差，二差相乘，得□□，□为径幂，【寄左】，然后以天元幂，与左相消得下式，□□□开平，方得二百四十步，即城径也，合问。
或问：甲丙，二人俱在西北隅，甲向东行，丙向南行，又乙出南门，东行丁出东门，南行，各不知步数而立，四人遥相望，见悉与城叅相直，既而相防，甲云：我与乙共行了三百九十二步，丙云，我与丁共行六百三十步，问答同前。
法曰：甲乙共自之为幂，丙丁共自之为幂，二幂又相乘，为三乘方实，甲乙共自之为幂，以丙丁共乘之于上，又以丙丁共自之为幂，以甲乙共乘之，加上位为益，从甲乙共自之为幂，丙丁共自之为幂，并以七分半乘之于上，又以甲乙共乘丙丁，共得数减，上位为第一，益亷并二共数，以七分半乘之，为第二亷以七分半自之，得五分六厘，二毫五丝于上位，以一步内减上位，余四分三厘七毫，五丝为虚隅，得城径草曰：别得甲为大勾，乙为明勾，丙为大股，丁为叀股也；甲乙共内减半径，即是黄长也，丙丁共内减半径，即黄广也，黄长黄广，二数相减，余为两个，皇极差也。乃立天元为城，径半之，副置二位，上以减于甲乙共数得□，□即黄长，也以自之，得□□，□为黄长，幂也，内减天元一幂，余得下式，□□□为勾方差，幂也，下位以减于丙丁，共得下式，□□即黄，广也以自之，得□□，□为黄广，幂也，内减天元一幂，余得□□，□为殷方差，幂也，再以勾方差，幂股方差，幂相乘，得□□□，□□为径幂，【寄左】，然后以天元为幂，又以幂自之，与左相消得下式，□□□□，□开三乘，方得二百四十步，即城径也，合问。
测圆海镜卷七
钦定四库全书
测圆海镜卷八
元 李冶 撰
明叀后一十六问
或问出南门，向东有槐树一株，出东门，向南有柳树一株，丙丁俱出南门，丙直行丁往至槐树下甲乙俱出东门，甲直行，乙往至柳树下，四人遥相望见，各不知所行步数，只云丙丁共行了二百七步甲乙共行四十六步，又云：甲丙，立处相距二百八十九步，问答同前。
法曰：以二共相减数，又以减距数为实，二为法，得平勾。
草曰：识别得丙丁共即明和也，甲乙共即叀和也，相距步即极也，二共相并，即极内少个虚黄也。又为极和，内少个虚和也，二共相减，余为平勾髙股差也，又为虚差，极差共也，又为通差，内减极差也。立天元为平勾，加入二共相减数，得□□为髙又加天元得□□为极，【寄左】，以相距步二百八十九，与左相消得□□上法，下实如法，得六十四，即平勾也，以二共相减，数加平匀，得二百二十五为髙股复以平勾乘之，得一万四千四百步，开平方得一百二十步，即城半径也，合问。
又法：二共数并以减相距，数余者半为泛率，以泛率加丙丁共为长，以泛率加甲乙共为阔长，阔相乘为平，方实得半径。
草曰：置极，内减二共并数，余三十六步，即虚黄也。半之，副置二位，上以加明和，得二百二十五步为髙股也下以加叀和，得六十四步，为平勾也，二位相乘，得一万四千四百步，开平方得一百二十步，即半径也，合问。
或问：依前见丙丁共二百七步，甲乙共四十六步，又云：二树相去一百二步，问答同前。
法曰：以甲乙共乘树相去步得数，又以自之为平实，从空并二共数为幂于上，内减甲乙共自之，数丙丁共自之数，【按，或云二共数相乘，倍之，亦同】为益隅，得叀。
草曰：识别得两树相去，步即虚也，余数具前立，天元一为叀，置明和，以天元乘之合，叀和除不除，便以□为明也，【内带□和，分母】乃置虚，以分母叀和乘之，得□加入明，得□□，为极股也；内带叀和，分母以自之，得下式□□□，为极股幂，【内寄叀和羃，为分母】，又以天元加虚，得□□为极，勾以自之，得丨□□，又以叀和幂□乘之，得□□□，为勾幂也，勾股相并，得□□，□为两积，一较幂也，内有叀和幂，分母【寄左】，然后置明，□于上，以叀和乘天元得□，加上位得□为二，并又置虚，以叀和乘之，得□并入上位，得下式，□□为极，以自之，得□□，□为同数，与左相消得□□，□开平，方得三十四步，即叀也。
又法：以树相去步自之，又以甲乙共乘之，为平实从空，倍丙丁共为虚隅，得叀。
草曰：立天元一为叀，依前术求得明□，便以为皇极，勾差也，【内带叀和，分母】，以天元□便为皇极，股差以乘之，又倍之，得□□为虚幂，【内有叀和，分母寄左】，然后以虚自之，又以分母□乘之，得四十七万八千五百八十四为同数，与左相消得□○，□开平，方得三十四步，即叀也，合问：
或问：皇极大小差共一百八十七步，明黄叀黄共六十六步，问答同前。
法曰：后数自乘为实，前后数相减，余为法得虚，黄方草曰：别得一百八十七，即明叀二共也，其六十六即太虚大小差共也，又二数相并，得□即明叀二和，共若以相减，余□即明叀四差，共也，立天元一为太虚，黄方面加二黄，共得□□，即虚也，倍虚，又加天元得□□，即城径也，又以虚加皇极，大小差得□，□即极也，以极乘城，径得□□，□为两段，皇极勾股积，【寄左】，再以极虚相并，得□□即皇极，勾股共也自之，得□□□，内减皇极幂，丨□□得□□，□为同数，与寄左相消得□□上法，下实如法，得三十六步，即太虚，黄方靣也合问。
或问东门，南有柳一株，南门，东有槐一株，甲出东门直行，丙出东门，直行甲丙，槐柳悉与城防相直，既而甲就柳树，斜行三十四步，至柳树下，丙就槐树，斜行一百五十三步，至槐树下问答同前。
法曰：云数相乘，倍之，便为平方实开，方得虚一百二步，以此加甲，行步即极勾，以此加丙，行步即极股，余各依法求之， 识别甲斜行，即叀也，丙斜行，即明也， 无草。
或问东门，南有柳一株，南门，东有槐一株，甲出东门直行，丙出南门，直行二人遥相望，槐栁与城边悉相直，既而甲复斜行至柳树下，丙复斜行至槐树下，各不知步数，只云丙共行了二百八十八步甲斜行，与柳至东门步，共得六十四步，问答同前。
法曰：二云数相乘于上，以六十四步自之，又二之，减上位为平实，十四之六十四于上倍，丙行减上位，为从【按倍，丙行，乃数偶合当云九个半六十四，内减丙行为从】，二十常法，得甲直行步。
草曰：别得丙共步即明股，明和也，六十四，即平勾也，内甲斜行，即叀也，柳至东门，步即叀股也；又云：二数相并，即明差与极共也，二云数相减，即明差与平勾髙股差共也，又平勾，内减叀勾，即虚勾也，立天元一为叀，勾置丙共步，以天元乘之，复以六十四除之，得□□呔，为明勾也，又以天元减于六十四得□，□为虚勾也，并虚明二勾，□□为半，径也以自之，得□□□□，倍之，得□□□，□为半段，圆城径幂，【寄左】，乃以天元加六十四，得□□为勾，圆差于上，又以明勾加丙共步得□，□□为股，圆差于下，上下相乘，得□□□，□为同数，与左相消得□□，□开平方得一十六步，即叀勾也，此叀勾乃甲出东门，直行步也，余皆依数，求 合问。
或问东门，南有柳树一株，南门，东有槐树一株，甲出东门直行，丙出南门，直行二人遥相望，槐柳与城边悉相直，既而甲复斜行至柳树下，丙复斜行至槐树下，各不知步数，只云甲共行五十步，丙斜行，与槐至南门，步共得二百二十五步，问答同前。
法曰：以二百二十五步，自之为幂，又以此幂自为幂于上，置甲共行，以二百二十五步，三度乘之，得数复折半减，上位为平实，置二百二十五步自之数，以二云数相减数乘之，又倍之于上，倍五十步，在地以二百二十五步，自之数乘之，复折半加上位为益，从云数相减，自乘于上，以云数相乘，复折半减，上位为常法，得明股。
草曰：识别得甲，共步即叀勾，叀共也，二百二十五即髙股也内丙斜行，即明槐至南门，步即明勾也，又二，云数相并，即极，内减一个叀差也。云数相减，即叀差与髙股平勾差，共也又髙股内减明股，即虚股也；立天元一为明股，即丙出南门，直行步也，置五十步，以天元乘之，得□合髙股除不除，便以此□为叀股也；内带髙股□分母，再置髙股内减天元得□□，为虚股以分母髙股乘之得下，式□□加入叀股得□，□即半径也，以自增乘，得下□□，□为半径，幂也，内带髙股幂为母，【寄左】，然后置甲共步，以分母髙股乘之得□，加入叀股，得□□为勾，圆差于上，【内带髙股分母】，又以天元加髙股得□□为股，圆差于下，上下相乘，得□□□，又以分母髙股乘之得□，□□复折半得□，□□为同数，与左相消得□□，□开平方得一百三十五步，即明股也；合问：
或问通勾，通共一千步，叀勾叀共五十步，问答同前。
法曰：置一千，减二之五十步为泛，率以自乘，复半之于上，又置泛率，复以五十乘之，加上位为平实，二十二之，泛率于上，【按二十二乃此题叀和，除通和，所得通倍叀，数加二数之数易题，则数不同矣。当直云通倍，叀数加二，数乘泛率，】以四十二【按四十二，乃此题倍通倍，叀数加二数之数，当直云倍通倍叀，数加二数，】乘五十，得数内减泛率加上位为益，从二百，【按二百，乃此题通倍叀，数加二数自乘，折半于上，又倍通倍，叀数并二数，以减上位之数，当同上，不必载数，】为常法，得叀股。
草曰：立天元一为叀，股置一千，以天元乘之，以五十除之，得□为通股也；又以天元加五十步，得□□即小差也。通股加小差，得□□即通。也，以通减一千，得□□即通。勾也，以小差减通，勾得□□，即圆径也，以圆径减通，股得□□，即大差也。置大差，以小差乘之，得□□□，【寄左】，然后置圆径以自之，得□□□，折半得□□，□与左相消得□□，□开平，方得三十步，即叀股也；合问：
按此题通勾，和为叀勾，和度尽之数，则不用寄分，而用除法，以从省便作者，盖举一以例其余也。
或问通勾，通共一千步，明勾明共二百二十五步，问答同前。
法曰：以后数再自乘，又以前数乘之，为平实以后，数为幂，又以前数乘之，为从，以前数幂为常法，得明股草曰：别得二百二十五步即髙股也立天元一为明，股置一千，以天元乘之，合以髙股除不除，便以此□为通股，【内带髙股为母】，以天元加髙股□□即大差也。置大差以髙股分母乘之，得□□即带，分大差也。以此减于通股，余□□即圆径也，以自增乘，得□□□，寄左【内髙股幂分母，】然后置，一千以髙股分母通之，得□内减带分大差，得□□为两个通勾也，内减两个，圆径得□，□为两个小差也。以带分大差乘之，得下式□□，□为同数，与左相消得□□，开平方得一百三十五步，即明股也；合问：
或问通股，通共一千二百八十步，叀股叀共六十四步，问答同前。
法曰：云数相乘，为平实前，数为益从置前，数以后数除之，得二十为泛率，泛率减一，以自乘于上，又倍泛率减一，加上位为常法，倒积开得叀勾。
草曰：别得六十四步，即平勾也，立天元一为叀勾，置前数以天元乘之，以后数除之，得□即通。勾也，又置天元加后数得□，□即小差也。以小差减通，勾余□□，即圆径也以自之，得□□□，【寄左】，然后以小差减于前，数得□□为二，通股内减两个，圆径得□，□为二大差也。以小差乘之，得下□□，□与左相消得□□，□开平方得一十六步，即叀勾也，合问：
或问通股，通共一千二百八十步，明股，明共二百八十八步，问答同前。
法曰：二数相减，以后数乘之，内减后数，幂又半之，为泛率以自乘，为平实【按，或云前数内，减二后数，余以后数乘之，折半自之，亦同】置前，数加二之后，数而半之，为次率，以乘泛率于上，以后数乘泛率减上位，【按：或云二数相加，以乘前折半，数亦同，】为益从，次率自乘之于上，以前数加次率，复以后数乘之，减上位【按，或云前数折半，内减后数，又以半前数乘之，亦同】为隅法得明勾。
草曰：别得二数相减，余□为通勾，通股及明勾共也，立天元一为明勾，置前数以天元乘之，合以后数除之，不除，便以此□为通勾也，【内寄，后数分母，】又以二数相减，得数内，又减天元得□□，为通和也，乃以分母二百八十八乘之，得下式□□，内减通勾余□，□为通股也；又以天元加后数，又以分母【，即后数也，】通之，得□□为大差也。以此大差，减于通股，得下式，□□为一个，圆径也，半之，得□□以自得之，□□□，为半径幂，【寄左】，然后以半圆径减通，勾得□□为底，勾又以天元乘之，又以分母二百八十八乘之，得□□呔为同数，与左相消得□□，□开平，方得七十二步，即明勾也，合问：
或问明股，明并二百八十八步，叀勾叀并五十步，又云：明股叀勾并多于虚，四十九步，问答同前，法曰：前二数相并，内减二之多，步即圆径，又只以前二数相乘，便是半径幂。
草曰：识别得前，二数相减，而半之，即极差也。其多步名傍差，又圆径不及极数。
或问平差髙差共一百六十一步，明股叀勾，并多于虚，四十九步，问答同前。
法曰：二数相减，又半之，以自乘为实，后数为法，得平勾。
草曰：立天元一为平勾，以加前数得□，□为髙股也；又以天元加髙股得□□为极，内减后数，得□□又半之，得□□为半径以自之，得丨□□，【寄左】，然后以天元乘髙股得丨□为同数，与左相消得□□上法，下实得六十四步，即平勾也，合问：
或问：平勾髙股差一百六十一步，明差叀差，并七十七步，又云：极多于城径四十九步，问答同前。
法曰：并上二位而半之，为平率，其四十九，即旁率也，副置平率，上加旁率下，减旁率以相乘为实，倍旁差为法，得勾圆差，【按求实，数有误，当云并上二位而半之，内减后数于上，又置上前数内减后数，以乘上位，为实方合】。
草曰：识别得平勾髙股差名为角差，副置角差，上加七十七而半之，得□即极差也。下减七十七而半之，得□即虚差也。角差加极差得□，即通差也。又极多于城径步，名为旁差，副置角差，上加旁差，得□为两个髙段上勾股较下，减傍差得□，为两个平段，上勾股较也，又副置极差，上加傍差，得□为股，圆差上勾股，较下减旁差，□为勾圆差，上勾股较也，立天元一为勾圆差，依法求得通差加入天元得□□，即大差也。以天元乘之得丨，□为半段，圆径幂，【寄左】，乃置大差，□□内减股圆差，上勾股较□，余有□□为股，圆差之勾于上，再置天元内加勾圆差，上勾股较□，得□□为勾，圆差之股，以乘上位，得丨□□为同数，与左相消得□□上法，下实得八十歩即勾圆差也。
又依前问见角差一百六十一步，见明差叀差，并七十七步，又见太虚较较六十步，问答同前。
法曰：前二数相减，而半之，得数加入半之，太虚较较，为泛率以自乘，为平实，置一百六十一，内减二之泛，率为从一，常法得平勾。
草曰：别得□即二叀股也；立天元一为平勾，先以前二数相减，而半之，得□为虚差，以虚差加叀股得□，即明勾也，以明勾加天元，得丨□为平以自之，得丨□□，内减天元幂得□，□为半径幂，【寄左】，然后以天元加一百六十一为髙股以天元乘之得丨，□为同数，与左相消得丨□□开平，方得六十四步，即平勾也。
又法曰：前数内加半之，太虚较较以自乘，【按此语内有误，当云倍角差加半太虚，较以半太虚较乘之，】为实前数，内减太虚较较，为从一常法，开平方得平，勾此更不用明差，叀差并也，草曰：依前求平勾前髙股内加叀股，得□□为髙也以自之，得丨□□于上位，内减髙股幂丨□□，余得□□，为半径幂，【寄左】，然后以天元乘髙股得丨□为同数，与左相消得下丨，□□开平，方得六十四步，即平勾也，合问：
或问髙差平差并一百六十一步，明差叀差，并七十七步，问答同前。
法曰：以前数自乘于上，二数相并，而半之以自乘，减上位得数，复自增乘为平实，前数自之于上，又以四之前数乘之，寄位以前数自之于上，并二数而半之，以自乘减上位，得数，又以四之前数乘之，【按此下落，又倍之三字，】减于寄位，为从前数自之，又四之于上，又以四之前数为幂，加上位权，寄以前数为幂于上，并二数而半之，以自乘减上位，得数复八之，加上位，又以四之前数为幂，加入上位，并以减于权，寄为常法，【按：或云二和并而自之，又半之，以减髙平共差幂，又四之为常法，亦同】得平勾。
草曰：识别得二位相并而半之，得□即极差也。立天元一为平勾，加一百六十一，得□□为髙股髙股内又加天元得□□为极，以自之，得□□□于上，内减极差，幂一万四千一百六十一，余□□，□为两段，极积合，以极除不除，寄为母，便以此为城，径以自增，乘得□□□，□□为圆径幂，【内有极幂，分母寄左】，然后以天元乘髙股又四之得□□，又以分母极幂，□□□通之，得□□□，□呔为同数，与左相消得□□，□开平，方得六十四步，即平勾也，合问：
或问：见明和二百七步，叀和四十六步，问答同前，法曰二和，上下相减，数同则止，名为泛率，又以二和直相减，余为泛实【，此则角差也。】乃以泛率除泛实，所得为差率也，以差率加减泛率若半讫，与勾股相应者，其泛率便为和，率其泛实，便为较率，乘和率也，若不相应，则直取差率，以消息之定为相，管和率【，其勾股数少，得见黄而相为率者，勾三股四，则其和七，而其较一也，勾五股十二，则其和一十七，而其较七也。勾八股十五，则其和二十三，而其较亦得七七勾，七股二十四，则其和三十一，而其较一十七也。勾九股二十，则其和二十九，而其较一十一也，此消息之大畧也余皆仿此，】乃以和率约二和，其明和，所得为明垒，率其叀和，所得为叀垒率也，又副置和率，上加差率，而半之，则为股率也，下位减差率而半之，则为勾率也，既见勾股及差三率，各以垒率乘之，即各得勾股及差之真数也。
按：此用约分以勾股，率数求之，甚为省便，然必两数度尽而得数，最小者方可用，若两数不能度尽，或虽度尽而得数尚大者，转属繁难，故又设后法。
又法：二云数相，并以自乘于上，二之云，数相乘，又四之以相并，以四分半乘之，又四之以并入，上位为从方，以七十步零四分三厘七毫，五丝为常法，得叀小差四步。
按此法未求实数，其求从隅，皆用本题数不可通用。今依细草意，另演一法于后，亦惟二和数可以度尽者用之，若不能度尽者，仍用寄分为便。
法曰：二和数相减，自之为平方实，叀和除明和，得数自而倍之，内减四之除，得数再加二，单数以乘二和相并之数为从除，得数自而四之于上，又以除得数自乘，内减四之除，得数外加一单数自之，以减上位为常法，得叀小差。
草曰：以二和相约，命得叀率一，明率四步半，其两数大小差率并同，又别得明小差，叀大差俱为半虚黄也，立天元为叀小差，以四歩半乘之得□，元为□大差也。又为明小差，又为半虚，黄置此□大差，又以四步半乘之，得□为明大差也。其四差相并，得□减于二和，并得□□，即两段太虚大小差，并也，内加三段，虚黄方□得□，□合成一个太虚三事，和即圆城径也，以自增乘，得□□，□为径幂，【寄左】，乃置叀和加半虚，黄得□□为平勾，又置明和，内加半虚，黄得□□为髙股勾相乘，得下式□□□，又四之得□□，□为同数，与左相消得下式，□□□开平，方得四步，即叀小差也，合问。
或问：明叀二勾共八十八步，明叀二股共一百六十五步，问答同前。
法曰：先识别得二大差，共二小差，共及四差共乃以二大差二小差，相乘为实，以四差共为法，如法得半之，虚黄方。
草曰：先置前后云，数以约法约之，得一十一，即垒率也，复各置前后数如垒率而一，前得八即勾率也，后得一十五即股率也，再以勾股率求得较率七，和率二十三率一十七黄方率六大差率，九小差率二，即见诸率，各以垒率乘之，其二和，共得□二较，共得□二，共得□二黄，共得□二大差，共□二小差，共□四差共□已上，皆为明叀，所得之共数也。乃立天元一为半虚黄，便为明小差，又为叀大差也。以减于大差，共得□□，即明大差也。又以减于小差，共得□□，即叀小差也，以二数相增乘，得丨□□，【寄左】，以天元幂，与寄左相消得□□，上法下实，得一十八步即半之，虚黄方也，以倍之，得□又加于二黄，共六十六，共得一百二，即明勾，叀股共也，又为极黄，方又为虚也，又以三十六减于一百八十七，余一百五十一，即明股叀勾共也，此数内减虚，余□为明，叀二差较也，此名傍差，以旁差减二，共一百八十七，余得□即太虚和也，却加入虚一百二，并得□为太虚三事，和即圆城径也，合问。
又或以虚，黄方加于上和，共二百五十三，得□为极，也，以旁差减极，余二百四十步，亦同。
又或前后副置勾股较和，黄六率，在地前，以小差率，二因之则勾，得□股得□，较得□和，得□得□黄得□，即叀段各数也，后以大差率，九因之则勾，得□股得□，较得□和，得□得□黄得□，即明段各数也，既得明，叀各数余可知，【按此因明即皇极，形勾差，叀即皇极，形股差，故以小差率乘，各率即得叀段各数以大差率乘，各率即得明，段各数也，】。
按右二卷，明叀前十八问，后十六问，在集中尤为神妙，惜其中有偶尔思，省未至者，亦未暇修饰故耳。
测圆海镜卷八
<子部,天文算法类,算书之属,测圆海镜>
钦定四库全书
测圆海镜卷九
元 李冶 撰
大斜四问
或问：甲丙俱在中心，丙望南门直行，不知步数而止，甲出东门直行，不知步数，望见丙斜行，与丙相防，二人共行了，六百八十步，仍云甲直行少于丙，直行一百一十九步，问答同前。
法曰：二数相减，余以为幂，内却减差，幂为平实，二数相减，又四之于上，又加入二之差，步为益，从二步常法，得皇极勾。
草曰：别得共步即皇极三事，和少步即勾股差也，立天元一为皇极，勾加少步，得□□为股也；又以天元加股得□，□为和也，以和减共步得□，□为也，自之得□□，□为一段，幂，【寄左】，然后置股以天元乘之，又倍之，得□□为二直积，加入少步幂，□共得□□，□为同数，与左相消得□□，□平方而一，得一百三十六即勾也，勾加差为股，勾股相乘，倍之为实，勾股和减共步为法，得城径。
又法：云数并与云数差相乘，【按此句有误，当云和数与倍差，相加相减，二得数相乘，】为平实云，数并与二数差相并，得数以减于八之共步为益，从【按此只云六因和步为益，从亦同】一步，常法得皇极，黄方。
草曰：立天元一为黄方【，即虚也，】副置之，上位加共步得□，□为二和也，下位减共步得□，□为二，也先以二和自乘，得丨□□，为四段和幂，又以二自乘，得丨□□，为四段幂，二数相减，余得□又倍之，得下式，□为十六段，直积于天元位，【寄左】，然后副置二和，上位加二之少，步得□□，为四股下位，减二之少，步得□□，为四勾勾股相乘，得丨□□为同数，与左相消得□□，□平方而一，得一百二步，即皇极黄方也，余各依法求之，合问。
或问：甲丙俱在西北隅起，丙向南行，不知步数而立，甲向东行，望见丙就丙，斜行六百八十步，与丙相防，丙云，我南行步多于甲东行二百八十步，问答同前法曰：以云数差乘云数并为实，倍多步为从，二为平隅，得大勾。
草曰：立天元为大平，【按大平，即大勾】加差，得□□为股，倍天元乘之，得□□为二积，【寄左】，然后以斜步多步，并□与斜步多步，较□相乘，得□为同，数与左相消得□□，□开平，方得三百二十步，即大勾也，合问：
或问：甲乙二人共立于艮隅，乙南行过城外而立甲东行，望乙与城叅相直而止，丙丁二人共立于坤隅，丁向东行，过城门而立，丙向南行，望丁及甲乙悉与城俱相直，丙复就甲，斜行六百八十步，与甲相防，乙丁，又云：吾二人直行，共得三百四十二问答，同前法曰：二云数相乘，倍之为实，倍斜行于上，以二云数相减，加上位为从一步常法，开平，方得城径。
草曰：别得斜步即大也，其共步则一径一虚，共也，其二数相并为一，大和一虚，共数也。立天元为径减于共步得□，□为虚也，以虚复减于天元，得□□为虚，和以斜步乘之，得□□，【寄左】，乃以天元加斜步得□，□为大和，以虚乘之，得□□，□为同数，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
或问：甲从北门向东直行，庚从西门穿城东行，丙从西门向南直行，壬从北门，穿城南行，四人遥相望，悉与城叅相直，只云丙相望，处六百八十步，庚壬穿城，共行了六百三十一步，问答同前。
法曰：共步自之，得数以共步减斜，余自乘，以减上为实，二之斜步，加入共步减，斜余数为从一步常法，得城径。
草曰：共行步为一径，与皇和共也，又为大和，皇差也，甲丙相望，即大也，以共步减大，余□为皇极，上减一径也，立天元一为圆径，减于共步，得□□为皇极，和也以自之，得丨□□于上，内减共步余□，又以天元加之，得□□为皇极，以自之，得丨□□减上位，余得□□为两个皇直，积【寄左】，乃以天元乘皇得下式，丨□为同数，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
大和八问
或问庚从西门穿城东行二百五十六步而立，壬从北门，穿城南行三百七十五步而立，又有甲丙，二人俱在干隅，甲向东行，丙向南行，各不知步数而立，四人遥相望，只云甲丙共行了，九百二十步，问答同前，法曰庚东行，幂壬南行，幂相并于上，并庚壬步而倍之，内减大和，余复减于庚壬，共得数【按，或云并庚壬步，以减大和，亦同】以自乘，减上位为平实，并庚壬步为益，从半步为隅法，得城径。
草曰：立天元一为圆，径以半之，副置二位，上以减于庚东行，得□□为平也，下以减于壬，南行得□，□为髙也二相并，得□□为皇虚，共也，倍此数得□□为大，虚共也，以大虚，共减于大和，余□□为虚，勾虚股共也，天元内减虚，勾虚股，共余□□，即虚也，复置皇虚，共内减虚，余□□即皇极，也以自之，得□□，【寄左】，然后以平自之，得下式□□，□为勾幂也，又以髙自之得□□，□为股幂也，二幂相并，得□□，□为同数，与左相消得□□，□平方而一，得二百四十步，即城径也，合问。
或问：丙甲，俱在西北隅，甲向东行，不知步数而立，丙向南行，望见甲，就甲斜行，与甲相防，甲直行，丙直行共九百二十步，【甲步，少于丙步】，又出东门，南行有柳树一株，出南门东行，有槐树一株，戊己二人同在巽隅，戊就柳树已从槐树，亦与甲乙遥相望，只云已行少于戊，行数与两树相距数相并，得一百四十四步，其二数相减，余六十步，问答同前。
法曰：二云数相并，而半之为虚，以乘大和九百二十步于上，以一百四十四减，大和以虚较乘之，减上位为平实，以一百四十四减大和，又二之于上，以二之虚较减，上位【按，或云倍甲丙，直行共加己，戊较与两树距之，较减三之，己戊，较与两树距之，和亦同】，为从四虚隅，得太虚勾。
草曰：别得甲丙直行，共即大和也，戊就柳树，步即虚股也；已就槐树，步即虚勾也，其一百四十四步，即二明勾，其六十步，即二叀股也；立天元一为虚，勾加明勾，得□□为半径也，倍之，得□□，即城径也，【又为虚上三事，和】二云：数相并而半之，得□即小也，相减而半之，得□即小较也。以天元加较得□，□即小股也；小勾股，共得□□，即小和也，以小三事，减大和得□□，即大也，乃先置小和，以大乘之，得下式□□□，【寄左】，次以小，乘大和，得□□与左相消得下式，□□□开平，方得四十八步，即虚勾也，加明勾又倍之，得二百四十步，即城径也，合问。
或问：甲从干隅东行，乙从艮隅南行，丙从干隅南行，丁从坤隅东行，四人遥相望见，既而甲还至艮隅，就乙丙，还至坤隅，就丁甲丙直行，共九百二十步，甲还，就乙共二百三十步，丙还，就丁共五百五十二步，问答同前。
法曰：并就数以减直行，共复以所并就数乘之为实，并就数减直行，共得数复加入直，行共为法，得虚草曰：别得甲丙直行，共为大和也，甲还就乙步为小差，勾股共也，丙还，就丁步为大差，勾股共也，以大差勾股共减于大股，余即虚勾也，以小差勾股共减于大勾，余即虚股也；二数相并，得□为大，虚共也，二数相减，余□为通差，及大虚，勾股差共也，又并二数而半之，得□为太极虚，共又为太极勾股，共也，立天元一为虚，先以二共数减于大和，余□为虚，勾虚股和于上，次以虚减于二共数余□，□为大，以乘上位，得下□□，【寄左】，然后以天元乘大和，得□为同，数与左相消得□□，上法下实，得一百二步，即虚也，加入虚和，得二百四十步，即城径也，合问。
又法：并云数减大和，复以二数相减，乘之为实，并云数减大和，得数复加入大和为法，得虚差。
草曰：立天元一为虚，较先以并云数减大和，余□为虚和于上，次以天元减于二就，步较□得□，□为通差，以乘之，得□□，【寄左】，然后以天元乘大和，得□为同，数与左相消得□□上法，下实得四十二步，即虚差也。副置虚和为二位，上加虚差而半之；得九十，即虚股也；下减虚差而半之；得四十八即虚勾也，勾幂股幂，相并得□，开平方得一百二步，即虚也，加入虚和，得二百四十步，即城径也，合问。
或问：依前见大和，只云股圆差，上勾差二百一十六，勾圆差上股差二十步，问答同前。
法曰：以云数二十步，减通和，复以二十步乘之于上，以云数二百一十六，减九百步，【按即并二差，以减大和，】而半之，乘上位为立实，三因二十步，以减通和，得八百六十，以二百一十六，减通和而半之，得二百四十二，二数相乗讫内减二十之九百步，又以三百四十二及二百一十六，共得五百五十八，又以之以减之，为从方【，按取从方，内语有误，当云：三因小差减大和，并二差减大和半之，相乘于上，三因大和，加大差减三之小差，半之，以小差乘之，得数减上位，为从方，】以二百一十六，减通和，又以三之二十步，减通和，相并于上，以二之五百五十八，内却减二十步，余以减上位，为益亷【按取益亷内语亦有误，当云：三因大和减六之小差，为益亷】四步常法，得小差股。
草曰：别得小差，上股差□，加二股为大勾也，大差上勾差，□加二勾，为大股也；立天元一为小差，股加□得□，□为小差，也，小差上，又加天元得□，□为通勾，以减于和，步得□□，为通股也；通股内减大差，上勾差，□得□□半之，得下式，□□即大差之勾也，大差勾上，又加勾差，□得□□为大差，也，再置通股，以小差乘之，得□□□，以天元除之，得□□，□为一个大也，【泛寄】，再置通勾，以大差乘之，得□□□，合以大差勾除不除，寄母便以为大，【寄左】，乃以大差勾乘泛，寄得□□，□□为同数，与左相消得□□，□□益积，开立方，得一百五十步为小差，股也；合问：
或问：依见前大和，只云髙平共得三百九十一步髙平相较，得一百一十九步，问答同前。
法曰：以较数幂，减于共数幂，又半之为实，以共数减大和为益，从一步常法，开平，方得圆径。
草曰：别得髙数减于通，股为边股内减明股也；平减于通，勾为边勾，内减明勾也，其共数即大，内减皇极，又为皇极，勾股共也，其相较步即皇极差也。二云数相并，即黄广也，二云数相减，余即黄长也，以共数减于大和，余□为皇极，与圆径，共立天元一为圆径，以减皇极，与圆径，共得□□为皇极，也，以共数自之，得□于上，以相较数自之，得□减上位，余□又半之，得□为两段，皇极积，【寄左】，乃以天元乘皇极，得卜□为同数，与左相消得下□，□□开平，方得二百四十步，即城径也，合问。
或问：依前见大和，只云大差四百八步，小差一百七十步，问答同前。
法曰：以并云数减大和，复以乘大和，又倍之为平实，三之通和于上，又以并云数减大和，加上位为从二步虚法，得圆径。
草曰大差，减和步余，□为大勾，大差勾共也，以小差减大和，余□为大股小差，股共也；云数相并，□即大，内减虚也，云数相减，得□为虚，平共也，【按此二语，因数偶合而误，见前】以相并，数减于大和，余□为大差，勾小差股，共又为圆径，虚共也，立天元一为圆径，减于□得□，□为虚也，返以减于圆径，得□□为小和也，以天元减大和，得□□为大，以乘小和，得□□□，【寄左】，乃再置虚，以通和乘之，得□□与左相消得□□，□开平，方得二百四十步，即城径也，合问。
或问：依前见大和，只云黄广五百一十步，黄长二百七十二步，问答同前。
法曰：云数相并，减大和复以相并数乘之，为实，云数相并，减大和得数，复以加大和为法，得虚。
草曰：别得黄广，又为大差，虚共又为边股，叀股共也，黄长，又为小差，虚共又为底，勾明勾共也，以黄广减于大股，余即虚股以黄，长减于大勾，余即虚勾，故并数以减于大和，余□为虚和也，以虚和减径，□□即虚也，二云数相并，得□为大，虚共也，云数相减，余□为虚，平共【按此句误同上，】立天元一为虚，以减于七百八十二，得□□为大也，以小和乘之，得□□，【寄左】，乃以天元虚，乘大和，得□呔为同数，与左相消得□□，上法下实，得一百二步，即虚也，合问：
或问：依前见大和，只云边五百四十四步，底四百二十五问答同前。
法曰：云数相减，自之为实，以大和减并数为法，得皇极。
草曰：别得以边减大股，余为半径，内减平勾，又为平，内减勾圆差也，以底减于大勾，余为髙股内少半径，又为股圆差，内少髙股也二云数相并，得九百六十九，为大皇极，共也，二云数相减，□为皇极，勾股差也，并数内减通和，余□为皇极，内减圆径也，立天元一为皇极，以自之于上，以一百一十九自之减，上位得丨，□□为二皇积，【寄左】，复置天元内减四十九得下式，□□为黄，方复以天元乘之得丨，□与左相消得□□，上法下实，得二百八十九步，即皇极也，内减四十九，余即城径也，合问。
按右大和八问，每问于大和外，复设二数，然多有大和，外设一数，即可求者，细考其法草所载，皆三数并用，婉转求之，盖意在发明三数取用之理，非不知其可省也。
测圆海镜卷九
钦定四库全书
测圆海镜卷十
元 李冶 撰
三事和八问
或问：甲乙同，立于干隅，乙向东行，不知步数而立，甲向南直行，多于乙步，望见乙复就东北，斜行与乙相防，二人共行了一千六百步，又云：甲南行不及斜行八十步，问答同前。
法曰：共步内减四之小差，复以自之于上，以十八个小差，幂减于上为实，四之共步内减十六个小差于上，却以十八小差加上为益，从四步常法，开平，方得中差。
草曰：别得共步为三事，和也不及步即小差也。立天元一为中差，加二之小差，得□□为大小差，并以加入三事，和得□□为三也，倍三事，得三千二百，内去大小差，并得□□，为三和也，内减三，余□□为三个，黄方以自之，得□□，□为九段，黄方幂，【寄左】，再置天元中，差加小差，得□□为大差，以小差□乘之，得□□为半个，黄方幂就一十八之得□，□为同数，与左相消得□□，□开平，方得二百八十步，即中差也。其余各依法求之，合问。
或问：以前三事，和又云大差三百六十步，问答同前，法曰倍云，数以云数乘之，又九之于上倍，云数加三事，和为前数倍，云数减二之三事，和为后数，二数又相减，余一百六十为泛，率以自乘，减上位为平实，十八之云：数内又加四之泛，率为从四常法，得中差草曰：立天元一为中差，置云步倍之，内减天元得□□为大小差，共数加于三事，和得□□为三也，倍三事，内减大小差，共数得下，式□□为三和也，内减三，得□□为三个，黄方靣也以自之，得□【□，□，】，□为九段，黄方幂，【寄左】，再以天元减大差得下式，□□为小差，又倍之，得□□，以云数乘之，得下式□□，又就分九之得下式，□□与左相消得下式，□□□开平，方得二百八十步，即中差也。合问。
或问：依前见三事，和又云中差二百八十步，问答同前，法曰：和步加差步，以自乘于上，又和步内减差，步以自乘，加上位为平实，四之和，步为从二步，益隅得大。
草曰：立天元一为大，减共步得□，□为和副，置之上位，减差步得□，□为二勾以自之，得丨□□为四段，勾幂也，下位加差，步得□□，为二股以自之，得丨□□为四段，股幂也，二位相并，得□□□，为四段幂，【寄左】，然后以天元自之，又四之，得□□为同数，与左相消得□□，□开平，方得六百八十步，即大也，倍之，以减于三事，和余即城径也，合问。
或问：依前见三事，和又云小差大差，并四百四十步，问答同前。
法曰：并前后二数，三而一为，反以减共步，得数又以减，得城径。
草曰：二数相并，得□三而一，得□即也，以减三事，和得□即和也，和又相减，余二百四十步，即城径也，合问。
或问：依前见三事，和又云小差中差，大差共七百二十问答同前。
法曰：半云数自之，又三之于上，以三事减上位为平实【，按以三事，减上位有误，此系偶合三事之数耳，当云加半段三事，幂又倍三事，和加大差，复以大差乘之，减上位为平实，】倍三事于上半，云数而五之，加上位为益，从二常法得小差。
草曰：别得三差，共为二大差也。立天元一为小差，并大差加入三事，和得□□为三也以自之，得丨□□为十八，积九较幂，【寄起】，又以共三事步自之，得□方于上，又以天元小差乘大差，倍之，得□加于上，得□□为十二，积四较幂，又加五【，按即三因二归，】得□□为十八个，直积六个较幂，以减寄起，余得丨□□，为三个较幂，【寄左】，然后以天元小差减大差，得□□为中差以自之，得丨□□，又三之，得下式川，□□为同数，与寄左相消得□□，□平方而一，得八十步，即小差也。余各依数，求之合问。
或问：依前见三事，和又云明黄方叀黄方共六十六问答同前。
法曰：二事内加二之共步，复以二之共步乘之，于上位三事，内减二之共，步复以二之共步乘之，得数减上位为平实三事，内加二之共步，又倍之于上，又三【，按三当作六】之共，步加上位，为泛寄三事，内减二之共步，又四之于上，又三【按三，亦当作六】之共，步减上位，得数以减泛寄，为从作十八段虚，平方开之，得虚黄方。
草曰：别得共步即虚，大小差也，立天元一为虚，黄方以三之，加入倍之，共步得□，□为圆径也，以圆径加三事，得□□，为二通和，以圆径减三事，得□□为二通，又副置圆径上，加天元得□□，为二虚和，下减天元得□，□为二虚，乃置二大和，以二小乘之，得下□□□，【寄左】，然后置二大，以二小和乘之，得下式□□，□与左相消得□□□，平方开之，得三十六步，即虚黄方也，其余各依法求之，合问。
或问：依前见三事，和又云：皇极二百八十九步，问答同前。
法曰二数相乘为实从空一益隅得大
草曰：立天元一为通，内减皇，余□□为皇极，勾股和以自之，得丨□□于上，以皇极幂，减上位得丨，□为二直，积合于皇极，除之不除，寄为母，便以此为城，径【寄左】，乃以二之天元减共步得□，□为黄方面，以皇通之，得□□与左相消得丨□□开平，方得六百八十步，即大也，合问：
或问：依前见三事，和又云见太虚一百二步，问答同前。
法曰半虚，乘三事为实，三事为从四虚隅，翻开之，得半大。
草曰：识别得以虚减大，半之为皇极，以虚加大，半之为皇极，勾股共也，立天元一为半大，以二之内减虚，得□□折半，得□□为皇极，也，又以虚加大而半之，得□□为皇极，和也和自之，得丨□□于上，又以自之，得丨□□减上位，余得下□，为二直积合，以皇极除之不除，寄为分母，便以此为城，径【寄左】，然后以四之，天元减三事，共余□□，又以皇极分母通之，得□□，□为同数，与左相消得□□，□倒积开，得三百四十步，倍之，即大也，合问：
测圆海镜卷十
钦定四库全书
测圆海镜卷十一
元 李冶 撰
杂糅一十八问
或问：城南有槐树一株，城东有柳树一株，甲出北门东行，丙出西门，南行甲丙，槐柳悉与城叅相直，既而丙就柳行五百四十四步，至柳树下甲就槐行四百二十五步，至槐树下问答同前。
法曰甲就步，自之于上，以二行相减数自之，减上位为实，二之二行相减数，并入二之甲，就步为从一步，常法得平。
草曰：别得丙就步为边也，甲就步为底，也，边即皇髙共也底即皇平共也，二行相并，即大皇共也，二行相减，即皇极，勾股较也，倍皇以减于大，余即虚也，倍皇，内减边，余即叀也，倍皇，内减底，余即明也，皇极加一差，【按一差即皇极，勾股较】，则大差也，内减一差，则小差也，立天元一为平，加一皇极，勾股差得□，□即髙也髙自之得丨，□□内加天元幂得□，□□为皇幂，【寄左】，然后以天元减底，得下式，□□自之，得丨□□为同数，与左相消得丨□□，开平方得一百三十六步，即平也，余各依法求之，合问。
或问出南门，东行有槐树一株，甲出北门东行，斜望槐树，与城相直，就槐树行二百七十二步出东门，南行有柳树一株，丙出西门，南行，斜望柳树与城相直，就柳树，行五百一十步，问答同前。
法曰：云数相并而半之，以自乘于上半，丙斜行以为幂，半甲斜行以为幂，并二幂，减上位为实，并云数为益从一，步平隅得虚。
草曰：别得丙斜行为黄广也，亦为两个髙也此勾则城径也，甲斜行，即黄长也，亦为两个平也，此股则城径也，二数相并，得□即大，虚共也，二数相减，余□即两个，皇极差也。二数相并而半之，得□即皇极，和也，立天元一为虚，以减于皇极，和得□□即皇极，也以自之，得丨□□为皇幂，【寄左】，然后以髙自之得□，以平自之，得□二，自乘数相并，得□与左相消得□□，□开平方得一百二，即虚也，合问：
或问：甲从坤隅南行，不知步数，而立乙从艮隅，南行一百五十步，望见甲复斜行五百一十步，与甲相防问答同前。
法曰：斜行自之于上，倍南行减，斜余自之，以减上为实，倍南行减斜，又四之为从八步，常法平，方得半径草曰：别得南行，即小差股斜行，即黄广也，小差股内减半径，余即半个黄广积，上股差也，全径即其勾也，立天元一为半城，径减于乙南行，倍之，得□□，即一个黄广，即上股差也，以减于斜，行步余□，□即股也；自之得□□，□为股幂也，又倍天元以自之，得□□为大勾幂，加入大股，幂得□□，□【寄左】，然后以斜行幂，□与寄左相消得下式，□□□开平，方得一百二十步，即半径也，合问。
或问乙从艮隅东行，不知逺近而止甲从坤隅，东行一百九十二步，望见乙复斜行二百七十二步，与乙相防问答同前。
法曰倍东行，减斜行得，数自为幂，以减于斜行幂，为平实倍，东行减斜行，又四之为从八，益隅翻法开平，方得半径。
草曰：别得甲东行，即大差勾也，斜行则黄长也，大差勾内减半径，余即半个黄长，积上勾差也，全径即其股也；立天元一为半径，减于东行，倍之，得□□，即一个黄长，积上勾差也，以减于斜，行步得□，□即黄长勾也以自之，得□□□为勾，幂于上倍，天元以自之，得□□加上位，得下式□□，□为幂，【寄左】，然后以斜行幂，□为同数，与左相消得□□，□平开，得一百二十步，即半城径也，合问。
或问：甲从坤东行一百九十二步，丙从艮南行一百五十步，望见之，问答同前。
法曰二行相乘倍之为平实如法得圆径
草曰：别得甲行，即大差勾，丙行，即小差股，此二数相乘，恰与大小差相乘，正同，如法相乘讫，倍之，得□为圆径幂，【寄左】然，然立天元为圆，径以自之，与左相消得丨□□开平，方得二百四十步，即城径也，合问。
又法：以二行相减，数减于二行，相并数余者，半之于上，复以二行相减，数加于上，即城径。
草曰：别得甲东行，减于径为虚勾也，丙南行减于径，为虚股也；二行共为一径，一虚共也，二行相减，即虚和也，以相并数相减，数又相减，即两个虚也，如法求得虚和，□虚□相并，得□即城，径也，合问按又法：未合，盖以二行相减，为虚较而草中，误以为虚和也，其义甚浅，非难知者，是殆偶尔之遗忘，然亦可以决其为，当日未定之稿矣。
或问出西门，南行二百二十五步，有塔出北门，东行六十四步，望塔正当城，径之半问答同前。
法曰二行相乘为平实一步常法得半径
草曰：别得二百二十五步为髙股此乃半径为勾之股也，其六十四步为平勾，此乃半径为股之勾也，二数相并，即太极也，二数相减，即中差内去皇极差也。又别得二行相乘，恰是半径幂一段，此与半梯头相乘，其意正同，今且以上容圆取之，立天元一为半径副之，上加南行，得□□为股也；下加东行步得□，□为勾也，勾股相乘，得丨□□，为大直积，以天元半径除之，得□□□，为勾股和，【寄左】，然后并勾股得□，□与左相消得丨○□，开平方得一百二十步，即半径也，合问。
或问：丙从干隅南行，丁从艮隅，亦南行，甲从干隅东行，乙从坤隅，亦东行，各不知步数四人，悉与城相直，只云丙行内，减丁行余四百五十步，甲行，内减乙行余一百二十八步，问答同前。
法曰二行相乘为实一步常法得城径
草曰：别得丙，行即大股，丁行即小差之股也；甲行即大勾，乙行，即大差之勾也，其□即黄广股，其□即黄长之勾也，立天元一为城，径先置黄广股，□为股方差，以□为勾，方差以乘之，得□为城，径幂，【寄左】，然后以天元幂，与左相消得下式，丨□□开平，方得二百四步，合问：
或问出南门，东行有槐树一株，出东门，南行有柳树一株，丙丁二人同立于坤隅，甲乙二人同立于艮隅，丁直，东行至槐而止，乙直，南行至柳而止，丙直南行，甲直东行，四人遥相望见只云，丙行多于丁，行一百六十八步，乙行多于甲，行七十步，问答同前。
法曰：云数相乘为实，二数相减，又半之为法，得城径草曰：别得□即大差，勾股较也，其□即小差，上勾股较也，二数相，并为大差，内减小差，也，二数相较，又半之，皇极与城径差也，二数相并而半之，即皇极差也。立天元一为圆，径二云相减，数又半之，加天元得□□，为极也，并二数而半之，得□为极差也。副置极，上位加极差，得□□为较和也，下位内减极差得□，□为较较也。上下相乘，得丨□□为二直，积【寄左】，然后以天元一乘，极得下式，丨□为同数，与左相消得□□，上法下实而一，得二百四十步，即城径也，合问。
或问：甲从坤东行，丙从艮南行适相见，斜行一百二步，甲丙相防，丙云，我南行不及汝，四十二步，问答同前法曰：二数相并，以斜行乘于上，二数相并而半之，以乘相并，数减上位为平实，不及步为从一步常法，得虚勾。
草曰：别得一百二步，即虚四十二步，即虚较也。又斜行得虚，股为乙东行，此便为大差，勾也，斜行步得虚，勾为丙东行，此便是小差，股也；立天元一为虚，勾加斜行步得□，□为小差，股也；以不及步加于小差，股得下式，□□为大差，勾也，勾股相乘，得丨□□为半段，黄方幂，【寄左】，然后再置虚勾，加不及步得，□□为虚股，又加入天元得□□为虚，和又加入虚，得□□为圆，径以自之，得□□，□又半之，得□□□，与寄左相消得丨□，□平方开，得四十八步，即虚勾也，合问：
或问：甲从城心东行，丙从城心南行，庚从，巽隅西行，壬从，巽隅北行，四人遥相望见，各不知步数，只云，甲丙，共行了三百九十一，庚壬，共行了一百三十八问答同前。
法曰云数相乘为实相并为法得虚
草曰：别得甲丙共为皇极，和也，又为极，极黄共庚壬共为太虚和也，又为虚，虚黄共立天元一为皇极，黄方靣【亦为虚也，】减于甲丙，共得□□，即极也，又以天元减于庚壬，共得□□即太虚，黄方靣也以太虚，黄方靣乘极得丨□□，【寄左】，然后以天元幂，与左相消得□□上法，下实如法，得一百二步，即皇极黄，方靣也合问【按此亦系相消，后得一边之二数者】。
或问：甲从干隅东行，不知步数而止，丙向南行，亦不知步数望见甲，就甲斜行七百八十步，与甲相防，甲云：我行地虽少于汝，以我东行步为法，除汝南行步，则汝止得二步，四分问答同前。
法曰：斜步自之为平实，除步自之，又加一步为隅，得甲东行。
草曰：此问所求城，径与诸问并同，其勾股，则与前后诸率不同，今特为此草者，欲使后学有以考较诸率当否也，立天元一为甲东行，【即大勾，】以乗二步四分，得□为长以自之，得□□为股幂，又并入天元幂，得□□为幂，【寄左】，乃以斜行自之，得□为同，数与左相消得□□，□开平，方得三百，即甲东行也，以二步四分乘之，得七百二十步，即丙南行也，倍丙东行，以甲东行乘之，得四十三万二千为实，以三事和一千八百为法除之，得二百四十步，即城径也，合问。
或问小差，黄方靣少于大差，黄方靣八十四步，太虚，黄方靣少于皇极黄，方靣六十六步，问答同前。
法半八十四为中差，以中差减六十六，为二小差，半之为小差，又中小差相并为大差，乃以小差乘大差，为平实半，步常法得虚黄。
草曰：别得八十四，为两个虚积中差，其六十六为虚，积大小差，并半八十四得□，为虚中差也，以中差减六十六，余二十四半之，得□即虚小差也，以小差反减六十六，余□即虚大差也。又别得小差，黄方为两，叀股大差，黄方为两明勾也，立天元一为虚，黄方置三位，上加小差，得□□为虚勾也，中加大差得下，□□为虚股也；下加大小差，并得□□，为虚也，三位并之，得□□即城，径也，倍虚勾减城，径得□□为大差，黄方靣也，又倍虚股，减城径得□，□为小差，黄方靣也，半小差，黄方靣得□□，以乘大差，黄方得□□，□为一个虚直，积【寄左】，乃以虚勾虚股相乘，得丨□□为同数，与左相消得□□，□平方开，得三十六步，即虚黄方靣也，其余依法求之，合问，据此问，既别得大小差正数，自可以求得黄方靣也诸如此数，实不湏草，今特为细草者，庶使后学知其来歴。
或问大差，较较减皇极，余四十九步，小差较，和减太虚，余一百三十八步，又皇极差一百一十九步，问答同前。
法曰：并前二数为幂，内减极差，幂为平实，从空二益隅，得虚。
草曰：别得大差，较较与小差较，和皆同为圆径也，又二数相并，得□为明，叀共又为极，和内少两个虚也，其一百三十八即虚和也，□则旁差也。立天元一为虚，加入一百三十八，得□□为圆径也，又加入□，得□□为极，以自之，得丨□□又倍之，得□□□内，却减极差幂，□得下式，□□□为和幂，【寄左】，乃倍天元加并数，得□□为极，和以自增，乘得□□，□为同数，与左相消得□□，□开平方得一百二步，即虚也，加入一百三十八，得二百四十步为圆径，合问【，前二数相，并加虚，便是极】。
或问小差不及平，五十六步髙不及大差，一百五步，问答同前。
法曰：以前数自之为实，二数相减为法，得平勾草曰：别得云数相并，得□为平勾，不及髙股也此数得极差，则通差也。此数内减虚差，则极差也。云数相减，余□即城，径不及极，也，以前数减于半径，余即平勾以后数加于半径即髙股也倍前数加小差则为股，圆差之勾也，此与前数加平同倍，后数减于大差，则为勾圆，差之股也；此与后数减于髙同立天元一为平勾，加相并数得□，□即髙股也；又加天元得□□，即极也，内减二云，数差得□□为城，径也，半之，得□□以自之，得丨□□，为半径幂，【寄左】，然后以天元乘髙股得丨□为同数，与左相消得□□上法，下实得六十四步，即平勾也，合问：
又法云数相得为实相减为法得半径
草曰：立天元为半径，副之上，内减五十六，得□□为平勾，下加一百五得□，□为髙股上下相乘，得丨□□，为半径幂，【寄左】，以天元幂，与左相消得下式，□□上法下实，得一百二十步，即半径也，合问。
或问通勾，通共一千步，大差小差，共得四百四十步，问答同前。
法曰：以二差共减于一千，又半之，以自乘为平实，以二差共减于一千，又半之，加入二之前，数为纵【前数，谓一千也 按此语有误应，加入二之后，数后数，谓大小差共也，】二步二分五厘，益隅得勾圆差。
草曰：立天元一为小差，数加入后数得□□，却以减于前，数得□□折半，得□□为一个，圆径也以自之，得下式□□□，【寄左】，然后以天元减后数，得□□为大差，以天元乘之，又倍之，得□□与左相消得□□，□开平，方得八十步，即勾圆差也。
或问：皇极三事，和六百八十步，太虚和较三十六问答同前。
法曰二数，相得为实，半之后，数为益从五分，常法平，开得城径。
草曰：别得皇极三事，和即大也，立天元一为城，径减三个，后数□而半之，得□□为太虚，大小差，并也却加入两个，后数□得下，□□为虚和也，又以虚和减天元得下，□□为虚也，置通【，即皇极三事和也，】内加天元，得下式□□，即通和也，乃置通和，以虚乘之，得下式□□□，【寄左】，再置虚和，以通乘之，得下□□为同数，与左相消得□□，□开平，方得二百四十步，即城径也，合问。
或问出南门，行一百三十五步，有树出北门，行一十五步，折而东行二百八步，望见问答，同前。
法曰：以东行步，乘南行步，得数，又自乘为实，以东行步自乘，乘南行步，又倍之，为从东行步，自乘于上，并南北二行步，以减于东行步，余数自之为幂，以减上再寄位，又并南北二行步，以东行步乘而倍之，内减再寄为第一，益亷四之东行步于上，又并南北二行步，减于东行步，又四之，减上位为第二益亷四步虚隅，开三乘，方得半径。
草曰：立天元一为半径，【即髙勾也】置南行步，加天元得□，□为髙也置大勾□以髙乘之得□，□复以髙勾除之得下式，□□为大也，令之自乘，得□□□，【寄左】，又置二之天元，加南北行，并得□□为大股，复用大勾二百八减之，得□□为较也。以自乘得□□，□为较幂，以减寄左，得□□□，□□为二直，积【寄左】，再置大股，□□以大勾□乘之，得□□为直，积又倍之，得□□为同数，与左相消得□□，□；□，□翻法开三乘方得一百二十步，即城径之半也，合问：
或问出北门一十五步，折而东行二百八步，有树出西门八步，折而南行四百九十五步，见之问答，同前法曰：先置南行步，内减一东，二西并步余二百七十一，为前泛率次，并一南二，北内减东行步，余三百一十七，为中泛率，次并东西步，以南行步，乘之于上位，又以西行乘南北，并得数减上位，余一十万二千八百四十为后，泛率乃以后，泛率自乘，得一百五亿七千六百六万五千六百，为三乘方实，以前中二泛相减，余四十六，以乘后法，数为从前中二泛相乘，得八万五千九百七，加入二之后，泛数共得二十九万一千五百八十七于上位，又并东西行，以乘南北，并得二十二万三百二十，加上位通得五十一万一千九百七为第一，亷二之前泛数，加入四之东西，并得一千四百五十二于上位，又以前中二泛相减，于四十六减上位，余一千四百六，为第二亷一步常法，得半径【按此法乃取于又法草中，其求第二亷云二之前，泛数句误，当云二之四数，并若二之前，泛数加入四之东西，并便得第二亷一千四百零六，更不待再减，然原文之意，不如是也，】。
草曰：立天元一为半城，径加入东行西行，并得□□，为大勾也，又置天元加入南行，北行，并得□□，为大股也；置西行八步，以大股乘之，得下式□□，合以大勾除之不除，寄为母，便以此为股，尖也，置南行四百九十五步，减天元得□□用分，母大勾乘之，乘讫得下，式□□□，内减了股尖，余□□□，为小股也；【内带大勾分母，】置小股，合以大勾乘了，复以大股除之为小勾，今为小股内已有大勾为母，更不湏乘，只以小股□□，□便为小勾也，【内带大股为母】小，勾小股相乘，得数为一个小勾股相乘，直积内带大勾股相乘，直积为分母也，乃以半城径【，即天元也，】除之为一个，较和也，丨□□□□，此法本取勾外容圆，合以较和，除二积为勾，外所容之圆，今用天元半径除一个积，则却得一个较和也，内依旧带，大积分母也，【寄左】，然后再置小股，□□□合用大积乘之，縁内已带大勾分母，今只用大股□□乘之，得□□□，□为大积，所乘小股于上，再置小勾合用大积乘之，縁内已带大股分母合只用大勾□□乘之，得□□□，□为大积，所乘之小勾也，以此小勾，减上小股，得□□□，即带分小较也，又二因小较得下式，□□□为带，分二较也，又以大勾股直积，丨□□乘二之，天元半径得□□，□为一个带，分较较也。【较较乘，较和为二直，积既以圆径，除二百积，为较和，则是圆径，为较较也。今又为半天元，圆径除一积，为较和，故倍天元半径作一个，较较也。】遂将此较较，加入前二较得□□，□□亦为一个，较和也，与寄左相消得下式，丨□□□，□开三乘方得一百二十步，即城半径也，合问。
又法：此问系是洞渊，测圆门第一十三，前答亦依洞渊细草，用勾外容，圆术以入于较和，然其数烦碎，宛转费力，今别草一法，其亷从与前不殊，而中间段络迳捷明白，方之前术，极为省易，学者当自知也， 立天元一为半，径副之上，并加东西行，得□□为通勾率下，并加南北行，得□□为通股，率乃置西行八步，以通股乘之，得下□□合通，勾除不除，寄为母，便以此为南小股也；又置南行四百九十五步，内减天元得□□用，通勾乘之，得□□□，内减了南小股下，式卜□□为股，圆差也，内带通勾分，母又置北行，一十五步，以通勾乘之，得□□合，通股除不除，寄为母，便以此为北小勾也，又置东行二百八步，内减天元得□，□用通股乘之，得□□□，内减了北小勾余□□，□为勾圆差也，【内带通股分母，】乃以二差相乘，得下式丨□，【；□，□，】，□，【，□，□，】为半段，圆径幂也，内带通积为母，【寄左】，然后以通勾通股相乘，得丨□□，以天元幂乘之，得丨□□，□又倍之，得下式□□，□□为同数，与左相消得亷从一与前同，合问。
按洞渊，疑为古之精于算者，序中谓老大以来，得洞渊九容之说，而于此问，又明其为洞渊，测圆门第十三题前答，亦依其细草，大抵是书之作，皆师其意而演之者也，今洞渊之为人，与书虽不可考，而即此一草观之，其取径遥深而惟变，所适亦可见，文豹之一班矣，至谓其数烦碎，宛转费力，特为初学，难易而言，读者宜善防也。
测圆海镜卷十一
钦定四库全书
测圆海镜卷十二
元 李冶 撰
之分一十四问
或问：甲乙二人俱在西北隅，乙向直东行，不知步数而止，甲向直南行，望见乙复向乙斜行，甲告，乙云：我直行斜行共一千二百八十步，汝东行步，居我南行步，十五分之八。
法曰十六之共步幂为实，二百五十七之共步为益，从一十六步，常法得勾圆差。
草曰：别得共步即股，共也，立天元一为小差，以乘共步，得□为勾幂，就分以二百二十五通之，得□为二百二十五段勾幂，【寄左】，然后再置共步，内减小差，得□□为二股，就分四之，得□□为一十五勾以自之，得□□，□为同数，与左相消得□□□，平方开之，得八十步，即小差也。既得小差，加共步而半之，得六百八十步，即也，若以减共步而半之，得六百步，即股也；以股幂减，幂余一十万二千四百步，开平方得三百二十步，即勾也，勾股相乘，倍之，得三十八万四千步为实，以和和一千六百步为法，实如法而一，得二百四十步，即城径也，合问。
或问：甲乙二人俱在西北隅，乙直南行，不知步数，而立甲直，东行，望见乙复向乙斜行，与乙相防，甲云：我共行了一千步，又云：我东行步，居汝南行步，十五分之八。
法曰：二百二十五段，共步幂为实，七百六之共步为益，从二百二十五步，常法得股圆差。
草曰：别得共步即勾共也，立天元一为大差，以乘共步得□，又就分以二百五十六，通之得□，为二百五十六个股幂，【寄左】，然后再置，共步内减天元大差，得□□为二勾就分，以一十五之得□，□为十六个，股也以自之，得□□【，□，□，】为同数，与左相消得□□，□开平，方得三百六十，即大差也。副置共步上位，减大差而半之；得三百二十步，即勾也，下位加大差而半之；得六百八十步，即也，余数各依法求之，合问。
或问：甲乙俱在城西北隅，甲南行，不知步数，而立乙东行，亦不知步数望见甲，就甲斜行，与之相防，乙云：我东步少于城周九分之五，甲云，我南行却多于汝东行二百八十步，问答同前。
法曰：别得周居九分，径居三分，乙东行居四分，【按此法未详，当加倍较步为实，径分数自之，内减二分数为法，得数三之，即城径二十四字】。
草曰：立天元一为一分之数，以三之得□为径，以四之，得□为勾，以径减勾余，□为小差，【只天元便是小差，】再置小差加入甲，多步得□，□为大差，倍大差，以天元乘之，得□□为一段，圆径幂，【寄左】，再置城径以自之，得下式，□□为同数，与左相消得□□上法，下实得八十步，即一分之数也。以三之，得二百四十步，即城径也，合问。
或问：甲出西门，南行，不知步数，而立乙出北门，东行望见甲，既而乙云我所行，居城径六分之五，甲云，然则我所行却多于汝二百八十步，问答同前。
法曰：四之却多步为实分，自之于上，半分母减，子得数倍之，又以减数乘之，减上位为法，得一分之数，草曰：别得却多，步即勾股差也，乃立天元一为一分，数以六之为城，径以五之为乙行，置乙行内减半城，径得□，为小差也。又加入却多，步得□□，又二之得□，□为二大差，又以小差乘之，得□□为径幂，【寄左】，然后以径幂□□，与左相消得下□，□上法下实，得四十步，即一分之数也。六之则为城，径五之则为乙行，又以却多步加乙，行即甲行步也，合问。
或问：甲丙，二人俱在西北隅，甲向东行，不知步数而立，丙向南行，望见甲与之相防，丙语，甲云：我行既多，于汝又城径少于我，四十分之十六，【按四十为股，分十六为径，当云径少于我，为四十分之十六，原文脱为字，似十六为股，圆差分矣，】甲云，然则吾二人共行了，九百二十步，问答同前。
法曰倍子，以减倍母，又乘共行步为实，倍子减倍，母以乘子母并数于上，又以子幂加上位为法，如法得一十五步，即一分之数也。
草曰：别得共行步即通和也，又别得四十分之十六，或作二十分之八，或作十分之四，亦得，但所得分数不同耳，乃立天元一为一分之数，以十六之为城，径以四十之为丙行丙，行减和步得□，□为通勾勾，内减径余得□，□为小差于上，以分母分子相减，余□又倍之，得□为两个大差，以乘上位，得□□为圆径幂，【寄左】，然后以分子十六分自之，得下□□，与左相消得□□，上法下实，得一十五步，即一分之数也。以十六之得二百四十步，即城径也，合问。
或问：甲乙俱立于城中心乙出东门直行，不知步数，而立甲出南门直行，亦不知步数，望见乙向乙斜行，与之相防，乙云：我居汝南行十五分之八，又云：斜行步内，若减甲直，行余三十四步，若减乙直，行余一百五十三步，问答同前。
法曰：以云数二减步为小差，大差以相乘，倍之，开平方，加入大小差，并以自之于上，又以大小差相较，数以自之，减上位为实甲，行分乙行分相乘，又倍之为隅法得一分之数。
草曰：别得云步相并，得一百八十七，是于皇极，内少一个皇极，黄方靣也又别得三十四步，是个小勾圆差，其一百五十三步，是一个小股圆差，此二差又相减，余一百一十九，即中差也。乃立天元一为一分之数，以八之，得□为乙东行，数以十五之得□，为甲南行，数以二数相乘，又倍之，得□□为二，直积于上，【寄左】，然后以云步三十四乘一百五十三，得五千二百二，又倍之，得一万四百四为平，方实开之，得一百二步，即小黄方也，加入相，并数一百八十七，得二百八十九，为小也以自之，得八万三千五百二十一，为幂于上，以中差幂一万四千一百六十一，减上位，余□与左相消得□□□，平方开之，得一十七步，即一分之数也。副置一分之数，上位以八之，得一百三十六即乙，东行也，下位以十五之得二百五十五，即甲东行也，二位相乘，得三万四千六百八十，又倍之，得六万九千三百六十为实，以二百八十九为法，如法得二百四十步，即城径也，合问。
或问：甲出西门，南行，乙出北门东行，各不知逺近两相望见，复相斜行，各行了三百四十步，相防甲云城径居我南行二分之一，乙云，我东行居城，径六分之五问答同前。
法曰：以二之，斜行步自之为实，以各行分数自之为幂，【按此语未详，当云以城径六分，乘甲南行二分，得十二分，加半城径三分，得十五分为大股，分乙东行五分，加半城径三分，得八分为大勾，分各自之为幂，】又相并为隅法开平，方得一分之数。
草曰：别得倍斜行为大，又别得乙行五分，城径六分，甲行十二分，乃立天元一为一分之数，以六之得□为城，径以五之，得□为乙行分，以十二之得□，为甲行分，乃副置半城，径上位，加甲行步，得□以自之，得□□为甲，行幂下位，加乙行步，得□以自之，得□□为乙，行幂二幂，又相并得□□，为大幂，【寄左】，然后置大六百八十步以自之，得□与左相消得□□□，平方开之，得四十步，即一分之数也。以六之，得二百四十步，即城径也，合问。
或问：甲出西门，南行，不知步数，而立乙出北门，东行见之，乙斜行与甲相防，甲乙二人共行了一千三百六十步，其甲南行，居斜十七分之十二，其乙东行居斜十七分之五问答同前。
法曰：别得共步即二也，半共步，得六百八十步，副置上位以五之，得三千四百，以十七而一，得二百步，即乙东行也，下位以十二之得八万一千六百以十七而一，得四百八十，即甲南行也，二行相减，余二百八十，即勾股差也，其余各依法求之，合问。
或问：甲出西门，南行，不知步数，而立乙出北门，东行望见之，既而乙谓甲云，我取汝六分之五，得六百步，甲谓乙云：我取汝五分之三，亦得六百步问答，同前法曰：求得各行步【，按见后草】相并以自之于上，并甲南行，幂乙东行幂，以减上为实，并各行为从半步，常法得全径。
草曰：置【乙取甲六分之五六百步，甲取乙五分之三，六百步，】以上六分五分各自直乗步数讫得人，【六分 之，五 三千六百步，五分 之，三 三千步，】别得左行三千六百步，为六乙，行五甲行也，右行三千，步为五甲，行三乙行也，以方程法入之，乃再置【五甲，行 六乙，行 三千六百步，五甲行 三乙，行 三 ，千 步】，先以左行直减右行，右上空中，余三乙行下，余六百步，上法下实，得二百步，即乙行也，却以今右行，减于元左行，上余五甲，行空中下，余二千四百步，上法下实，得四百八十步，即甲行也，既得此数，乃立天元一为城，径以半之，副置二位，上以加甲行得□□，为通股以自之，得□□，□为大股，幂下位，加乙行得，□□为通，勾以自之，得□□□，为大勾幂，二幂相并，得□□□，为大幂，【寄左】，乃并甲行乙行以自乗得下式□，亦为大幂，与左相消得下□，□□开平，方得二百四十步，即城径也，合问。
或问：甲从坤隅南行，不知步数，而立乙从艮隅，东行望见之，既而乙谓甲云我所行，取汝所行三分之一，得二百步，甲谓乙云我所行，内减汝所行四分之三，得三百步，问答同前。
法曰：如法求得各行【，按见后草】，以相乗又二之开平，方得全径。
草曰置【乙取甲三分 之一 二百步甲减乙四分 之三 三百步】以上三分四分置乗步数讫得【三分之一 六百步  四分之三 一千二百步】别得右行六百步为三乙行一甲行也左行一千二百步为四甲行内少三之乙行步也以方程法入之乃再置【一甲行 三乙行  六 百 步四甲行 三乙行负 一千二百步】先以左行直加右行右上得五甲行中空下一千八百步上法下实得三百六十步即甲行也次以一甲行减元右行六百步余二百四十步以中三除之得八十步即乙行步也甲行乙行二数相乘得数又倍之开平方即城径也合问
或问股圆差，如股五分之三，勾圆差，如勾四分之一，又云：其大小差相减，余二百八十步，问答同前。
法曰：二之中差为实，置股子以勾母乗之内减股母为法，得小差。
草曰：别得勾圆差，即小差股圆差，即大差云：步即中差，乃立天元一为小差，以四之，得□为勾勾，上加中差，得□□为股，又三之，得□□为五个大差也。内减五个，天元得□□，为五个中差也。【寄左】，乃以五之相减，步□与左相消得□□上法，下实得八十步，即小差也。合问。
或问股圆差，如股五分之三，勾圆差，如勾四分之一，又云：勾母每分少于股，母每分四十步问答，同前法曰：二之少步，实以股，子母相减，数减勾，子母相减，数为法，如法得小差。
草曰：立天元一为勾圆差，便为勾母，每分数以天元加四十步，得□□为股母，每分数于上，乃以股子减股，母余二分，以乘上位，得□□为城，径【寄左】，再置天元在地，以勾子减勾母，余三分以乗之得□□为同数，与左相消得下丨，□上法下实，得八十步，即勾圆差也，合问。
或问：甲出南门，直行乙出东门，直行，望见甲斜行，与甲相防，甲云：我行不及股，圆差二十四分之十五，乙云：我行不及勾，圆差五分之四，又云：甲行多于乙，行一百一十九股，圆差多于勾圆，差二百八十问答，同前法曰：以大差母分二十四，以乘甲多一百一十九，得数倍小差，母五得一十，以乘之于上，以小差母五乗二之二差相较，数又九之，减上位为实，倍小差，母得一十，却以小差乗之又九之于上，倍甲分母，以小差母乗之得数减上位以为法，得小差一分之数，草曰：立天元一为小差，一分之数，【此一分之数，便是乙直行之数也，】以五之，得□为小差，加二百八十得下，□□为大差，又倍之，得□□，以小差乗之得下式，□□为一个，圆径幂，又九之得□□，【寄左】，乃又置乙行步，加一百一十九□，□即甲行步也，以二十四之得□，□为九个大差也。倍小差，母得□以乘之，得□□为同数，与左相消得□□，上法下实，得一十六步，即小差一分之数也。既得此数，余各如法求之，合问。
或问大勾大股，大三事，和一千六百步，以明勾除大股，得八步三分之一，以□股除大勾，得一十步三分之二以虚勾明勾相减，余二十四步以虚股，□股相减，余六十步，问答同前。
法曰六十步，加入大三事，和又三之二，而一为实，并二云数分母分子，内减六步为法，如法得□股草曰：别得六十步，与二十四步，二数相并而半之，得□即明勾，□股差也，又为虚勾，虚股差也，若以二数直相减，即虚黄方也，其二十四步，得二虚，勾即半径也，其六十步，得二□股，亦为半径也，立天元一为□股，加差步得□，□为明勾也，以乗八步三分之一，得□□为大股也；以天元乗一十步三分之二，得□为大勾也，勾股相并，得下□□，为大和也，【寄左】，然后四之，天元加入二之六十步，得□□为小三事，和以小三事，和加入大三事，和得□□为二个大和也，合折半为大和了，又就三分之为前数，今不折半，三因但身外加五得□，□为同数，与左相消得□□上法，下实得三十步，即□股也；四之□股，加入二之六十步，得二百四十步，即城径也，合问。
按之分，即通分也，张邱建谓学者不患乘除之为难，而患通分之为难，又谓夏侯阳之方仓，孙子之荡杯，皆未尽其妙，于是作为算经三卷以发其义，是书末设十四问，皆以立天元一之法御之，尤为简妙殆，所以明立天元一之法，其用无不周也，又按问中两言，以方程入之，张邱建算经内数问亦然，盖有通分而乗除不穷有方，程而通分益便，此又因通分及之，非立天元一本法也，秦九韶，谓时人误以大衍法为方程者，盖此类也。
按右书十二卷，皆为立天元，一法而作也，其法神明变化，不可端倪，今略举数端言之，如诸法中有求之不可得者，此法求之可得，若此法求之，不可得者，则必不可求矣，又诸法中有难求者，虽强探力索，毫厘未至，则不可得此法，但知大意，不待深思，加以步算，即可得矣。又诸法中有所求，或先得彼而后得此者，不能移易，此法任其所求，或先得此，或先得彼无不如志，又诸法有数，始可求一数不具，则不可求，此法数不具，亦可求，且有无数，即可求者，又诸法遇甚繁，甚密者，湏次第步算，或累日累月，其功不能再省，此法有经年，步算可约之，顷刻而得者，凡此皆寻常，智虑所不能及，要皆自然之理，数易知，易从，然自不习者观之，盖有茫然，莫解其故者矣，是书之作殆深忧，习者难其人，而其法遂泯，于后世也，其誊写鲁鱼，算式舛讹，今悉正之。
测圆海镜卷十二
后序
敬斋先生病且革，语其子克修曰：吾平生著述，死后可尽燔去，独测圆海镜一书，虽九九小数，吾尝精思致力焉，后世必有知者，庶可布广，垂永乎先生于六艺百家，靡不贯串文集，近数百卷，常谦谦不自伐，惟于此书不忘称异，于易箦之间，想有妙，内得于心者，予以先生与先人同牓之，故素常兄事克修，克修兄，命予重为序之，予不敢诡论艳藻，刻画无盐，唐突西子，直以所闻，语意载之于后，至元二十四年春三月朔，翰林修撰，承直郎，广平王德渊后序。